function Kx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fh={exports:{}},al={},zh={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),Xx=Symbol.for("react.portal"),Yx=Symbol.for("react.fragment"),Gx=Symbol.for("react.strict_mode"),Qx=Symbol.for("react.profiler"),Jx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),ey=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ny=Symbol.for("react.memo"),ry=Symbol.for("react.lazy"),hd=Symbol.iterator;function sy(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var Uh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bh=Object.assign,Hh={};function ls(e,t,n){this.props=e,this.context=t,this.refs=Hh,this.updater=n||Uh}ls.prototype.isReactComponent={};ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wh(){}Wh.prototype=ls.prototype;function Kc(e,t,n){this.props=e,this.context=t,this.refs=Hh,this.updater=n||Uh}var Xc=Kc.prototype=new Wh;Xc.constructor=Kc;Bh(Xc,ls.prototype);Xc.isPureReactComponent=!0;var pd=Array.isArray,Vh=Object.prototype.hasOwnProperty,Yc={current:null},qh={key:!0,ref:!0,__self:!0,__source:!0};function Kh(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Vh.call(t,r)&&!qh.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:No,type:e,key:o,ref:i,props:s,_owner:Yc.current}}function oy(e,t){return{$$typeof:No,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gc(e){return typeof e=="object"&&e!==null&&e.$$typeof===No}function iy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var md=/\/+/g;function Ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iy(""+e.key):t.toString(36)}function ci(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case No:case Xx:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Ul(i,0):r,pd(s)?(n="",e!=null&&(n=e.replace(md,"$&/")+"/"),ci(s,t,n,"",function(u){return u})):s!=null&&(Gc(s)&&(s=oy(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(md,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",pd(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Ul(o,a);i+=ci(o,t,n,c,s)}else if(c=sy(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Ul(o,a++),i+=ci(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Mo(e,t,n){if(e==null)return e;var r=[],s=0;return ci(e,r,"","",function(o){return t.call(n,o,s++)}),r}function ly(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},ui={transition:null},ay={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:ui,ReactCurrentOwner:Yc};function Xh(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Mo,forEach:function(e,t,n){Mo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mo(e,function(){t++}),t},toArray:function(e){return Mo(e,function(t){return t})||[]},only:function(e){if(!Gc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=ls;ne.Fragment=Yx;ne.Profiler=Qx;ne.PureComponent=Kc;ne.StrictMode=Gx;ne.Suspense=ty;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ay;ne.act=Xh;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bh({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Yc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Vh.call(t,c)&&!qh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:No,type:e.type,key:s,ref:o,props:r,_owner:i}};ne.createContext=function(e){return e={$$typeof:Zx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jx,_context:e},e.Consumer=e};ne.createElement=Kh;ne.createFactory=function(e){var t=Kh.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:ey,render:e}};ne.isValidElement=Gc;ne.lazy=function(e){return{$$typeof:ry,_payload:{_status:-1,_result:e},_init:ly}};ne.memo=function(e,t){return{$$typeof:ny,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ui.transition;ui.transition={};try{e()}finally{ui.transition=t}};ne.unstable_act=Xh;ne.useCallback=function(e,t){return Ge.current.useCallback(e,t)};ne.useContext=function(e){return Ge.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Ge.current.useEffect(e,t)};ne.useId=function(){return Ge.current.useId()};ne.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ge.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};ne.useRef=function(e){return Ge.current.useRef(e)};ne.useState=function(e){return Ge.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Ge.current.useTransition()};ne.version="18.3.1";zh.exports=ne;var S=zh.exports;const F=qc(S),cy=Kx({__proto__:null,default:F},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=S,dy=Symbol.for("react.element"),fy=Symbol.for("react.fragment"),hy=Object.prototype.hasOwnProperty,py=uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,my={key:!0,ref:!0,__self:!0,__source:!0};function Yh(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)hy.call(t,r)&&!my.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dy,type:e,key:o,ref:i,props:s,_owner:py.current}}al.Fragment=fy;al.jsx=Yh;al.jsxs=Yh;Fh.exports=al;var l=Fh.exports,_a={},Gh={exports:{}},ft={},Qh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,k){var R=_.length;_.push(k);e:for(;0<R;){var M=R-1>>>1,L=_[M];if(0<s(L,k))_[M]=k,_[R]=L,R=M;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var k=_[0],R=_.pop();if(R!==k){_[0]=R;e:for(var M=0,L=_.length,q=L>>>1;M<q;){var V=2*(M+1)-1,W=_[V],J=V+1,ee=_[J];if(0>s(W,R))J<L&&0>s(ee,W)?(_[M]=ee,_[J]=R,M=J):(_[M]=W,_[V]=R,M=V);else if(J<L&&0>s(ee,R))_[M]=ee,_[J]=R,M=J;else break e}}return k}function s(_,k){var R=_.sortIndex-k.sortIndex;return R!==0?R:_.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,h=3,y=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=_)r(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=n(u)}}function v(_){if(x=!1,w(_),!g)if(n(c)!==null)g=!0,T(j);else{var k=n(u);k!==null&&B(v,k.startTime-_)}}function j(_,k){g=!1,x&&(x=!1,m(C),C=-1),y=!0;var R=h;try{for(w(k),f=n(c);f!==null&&(!(f.expirationTime>k)||_&&!I());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var L=M(f.expirationTime<=k);k=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(c)&&r(c),w(k)}else r(c);f=n(c)}if(f!==null)var q=!0;else{var V=n(u);V!==null&&B(v,V.startTime-k),q=!1}return q}finally{f=null,h=R,y=!1}}var E=!1,A=null,C=-1,$=5,D=-1;function I(){return!(e.unstable_now()-D<$)}function U(){if(A!==null){var _=e.unstable_now();D=_;var k=!0;try{k=A(!0,_)}finally{k?z():(E=!1,A=null)}}else E=!1}var z;if(typeof p=="function")z=function(){p(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,P=N.port2;N.port1.onmessage=U,z=function(){P.postMessage(null)}}else z=function(){b(U,0)};function T(_){A=_,E||(E=!0,z())}function B(_,k){C=b(function(){_(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,T(j))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var R=h;h=k;try{return _()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,k){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var R=h;h=_;try{return k()}finally{h=R}},e.unstable_scheduleCallback=function(_,k,R){var M=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?M+R:M):R=M,_){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=R+L,_={id:d++,callback:k,priorityLevel:_,startTime:R,expirationTime:L,sortIndex:-1},R>M?(_.sortIndex=R,t(u,_),n(c)===null&&_===n(u)&&(x?(m(C),C=-1):x=!0,B(v,R-M))):(_.sortIndex=L,t(c,_),g||y||(g=!0,T(j))),_},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(_){var k=h;return function(){var R=h;h=k;try{return _.apply(this,arguments)}finally{h=R}}}})(Jh);Qh.exports=Jh;var gy=Qh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=S,ut=gy;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zh=new Set,Ks={};function dr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Ks[e]=t,e=0;e<t.length;e++)Zh.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=Object.prototype.hasOwnProperty,yy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gd={},xd={};function vy(e){return Aa.call(xd,e)?!0:Aa.call(gd,e)?!1:yy.test(e)?xd[e]=!0:(gd[e]=!0,!1)}function wy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ny(e,t,n,r){if(t===null||typeof t>"u"||wy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qc=/[\-:]([a-z])/g;function Jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qc,Jc);Le[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qc,Jc);Le[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qc,Jc);Le[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zc(e,t,n,r){var s=Le.hasOwnProperty(t)?Le[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ny(t,n,s,r)&&(n=null),r||s===null?vy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lo=Symbol.for("react.element"),Er=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),eu=Symbol.for("react.strict_mode"),Ta=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),tu=Symbol.for("react.forward_ref"),Pa=Symbol.for("react.suspense"),Ra=Symbol.for("react.suspense_list"),nu=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),np=Symbol.for("react.offscreen"),yd=Symbol.iterator;function xs(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Bl;function Ps(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||""}return`
`+Bl+e}var Hl=!1;function Wl(e,t){if(!e||Hl)return"";Hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Hl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ps(e):""}function by(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function $a(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kr:return"Fragment";case Er:return"Portal";case Ta:return"Profiler";case eu:return"StrictMode";case Pa:return"Suspense";case Ra:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tp:return(e.displayName||"Context")+".Consumer";case ep:return(e._context.displayName||"Context")+".Provider";case tu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nu:return t=e.displayName||null,t!==null?t:$a(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return $a(e(t))}catch{}}return null}function Sy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $a(t);case 8:return t===eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jy(e){var t=rp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Do(e){e._valueTracker||(e._valueTracker=jy(e))}function sp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ia(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function op(e,t){t=t.checked,t!=null&&Zc(e,"checked",t,!1)}function Oa(e,t){op(e,t);var n=Pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ma(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ma(e,t.type,Pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ma(e,t,n){(t!=="number"||_i(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Dr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function La(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Rs(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pn(n)}}function ip(e,t){var n=Pn(t.value),r=Pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Da(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fo,ap=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fo=Fo||document.createElement("div"),Fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ey=["Webkit","ms","Moz","O"];Object.keys(Ds).forEach(function(e){Ey.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ds[t]=Ds[e]})});function cp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ds.hasOwnProperty(e)&&Ds[e]?(""+t).trim():t+"px"}function up(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ky=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fa(e,t){if(t){if(ky[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function za(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ua=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Fr=null,zr=null;function Sd(e){if(e=jo(e)){if(typeof Ba!="function")throw Error(H(280));var t=e.stateNode;t&&(t=hl(t),Ba(e.stateNode,e.type,t))}}function dp(e){Fr?zr?zr.push(e):zr=[e]:Fr=e}function fp(){if(Fr){var e=Fr,t=zr;if(zr=Fr=null,Sd(e),t)for(e=0;e<t.length;e++)Sd(t[e])}}function hp(e,t){return e(t)}function pp(){}var Vl=!1;function mp(e,t,n){if(Vl)return e(t,n);Vl=!0;try{return hp(e,t,n)}finally{Vl=!1,(Fr!==null||zr!==null)&&(pp(),fp())}}function Ys(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Ha=!1;if(tn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{Ha=!1}function Cy(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fs=!1,Ai=null,Ti=!1,Wa=null,_y={onError:function(e){Fs=!0,Ai=e}};function Ay(e,t,n,r,s,o,i,a,c){Fs=!1,Ai=null,Cy.apply(_y,arguments)}function Ty(e,t,n,r,s,o,i,a,c){if(Ay.apply(this,arguments),Fs){if(Fs){var u=Ai;Fs=!1,Ai=null}else throw Error(H(198));Ti||(Ti=!0,Wa=u)}}function fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jd(e){if(fr(e)!==e)throw Error(H(188))}function Py(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return jd(s),e;if(o===r)return jd(s),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function xp(e){return e=Py(e),e!==null?yp(e):null}function yp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yp(e);if(t!==null)return t;e=e.sibling}return null}var vp=ut.unstable_scheduleCallback,Ed=ut.unstable_cancelCallback,Ry=ut.unstable_shouldYield,$y=ut.unstable_requestPaint,be=ut.unstable_now,Iy=ut.unstable_getCurrentPriorityLevel,su=ut.unstable_ImmediatePriority,wp=ut.unstable_UserBlockingPriority,Pi=ut.unstable_NormalPriority,Oy=ut.unstable_LowPriority,Np=ut.unstable_IdlePriority,cl=null,zt=null;function My(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(cl,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Fy,Ly=Math.log,Dy=Math.LN2;function Fy(e){return e>>>=0,e===0?32:31-(Ly(e)/Dy|0)|0}var zo=64,Uo=4194304;function $s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=$s(a):(o&=i,o!==0&&(r=$s(o)))}else i=n&~s,i!==0?r=$s(i):o!==0&&(r=$s(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-At(t),s=1<<n,r|=e[n],t&=~s;return r}function zy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-At(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=zy(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bp(){var e=zo;return zo<<=1,!(zo&4194240)&&(zo=64),e}function ql(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=n}function By(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-At(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ae=0;function Sp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jp,iu,Ep,kp,Cp,qa=!1,Bo=[],Nn=null,bn=null,Sn=null,Gs=new Map,Qs=new Map,mn=[],Hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(t.pointerId)}}function vs(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=jo(t),t!==null&&iu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Wy(e,t,n,r,s){switch(t){case"focusin":return Nn=vs(Nn,e,t,n,r,s),!0;case"dragenter":return bn=vs(bn,e,t,n,r,s),!0;case"mouseover":return Sn=vs(Sn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Gs.set(o,vs(Gs.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Qs.set(o,vs(Qs.get(o)||null,e,t,n,r,s)),!0}return!1}function _p(e){var t=qn(e.target);if(t!==null){var n=fr(t);if(n!==null){if(t=n.tag,t===13){if(t=gp(n),t!==null){e.blockedOn=t,Cp(e.priority,function(){Ep(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function di(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ka(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ua=r,n.target.dispatchEvent(r),Ua=null}else return t=jo(n),t!==null&&iu(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){di(e)&&n.delete(t)}function Vy(){qa=!1,Nn!==null&&di(Nn)&&(Nn=null),bn!==null&&di(bn)&&(bn=null),Sn!==null&&di(Sn)&&(Sn=null),Gs.forEach(Cd),Qs.forEach(Cd)}function ws(e,t){e.blockedOn===t&&(e.blockedOn=null,qa||(qa=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,Vy)))}function Js(e){function t(s){return ws(s,e)}if(0<Bo.length){ws(Bo[0],e);for(var n=1;n<Bo.length;n++){var r=Bo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nn!==null&&ws(Nn,e),bn!==null&&ws(bn,e),Sn!==null&&ws(Sn,e),Gs.forEach(t),Qs.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)_p(n),n.blockedOn===null&&mn.shift()}var Ur=an.ReactCurrentBatchConfig,$i=!0;function qy(e,t,n,r){var s=ae,o=Ur.transition;Ur.transition=null;try{ae=1,lu(e,t,n,r)}finally{ae=s,Ur.transition=o}}function Ky(e,t,n,r){var s=ae,o=Ur.transition;Ur.transition=null;try{ae=4,lu(e,t,n,r)}finally{ae=s,Ur.transition=o}}function lu(e,t,n,r){if($i){var s=Ka(e,t,n,r);if(s===null)na(e,t,r,Ii,n),kd(e,r);else if(Wy(s,e,t,n,r))r.stopPropagation();else if(kd(e,r),t&4&&-1<Hy.indexOf(e)){for(;s!==null;){var o=jo(s);if(o!==null&&jp(o),o=Ka(e,t,n,r),o===null&&na(e,t,r,Ii,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else na(e,t,r,null,n)}}var Ii=null;function Ka(e,t,n,r){if(Ii=null,e=ru(r),e=qn(e),e!==null)if(t=fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ii=e,null}function Ap(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iy()){case su:return 1;case wp:return 4;case Pi:case Oy:return 16;case Np:return 536870912;default:return 16}default:return 16}}var yn=null,au=null,fi=null;function Tp(){if(fi)return fi;var e,t=au,n=t.length,r,s="value"in yn?yn.value:yn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return fi=s.slice(e,1<r?1-r:void 0)}function hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function _d(){return!1}function ht(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ho:_d,this.isPropagationStopped=_d,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=ht(as),So=ye({},as,{view:0,detail:0}),Xy=ht(So),Kl,Xl,Ns,ul=ye({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(Kl=e.screenX-Ns.screenX,Xl=e.screenY-Ns.screenY):Xl=Kl=0,Ns=e),Kl)},movementY:function(e){return"movementY"in e?e.movementY:Xl}}),Ad=ht(ul),Yy=ye({},ul,{dataTransfer:0}),Gy=ht(Yy),Qy=ye({},So,{relatedTarget:0}),Yl=ht(Qy),Jy=ye({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Zy=ht(Jy),ev=ye({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tv=ht(ev),nv=ye({},as,{data:0}),Td=ht(nv),rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ov[e])?!!t[e]:!1}function uu(){return iv}var lv=ye({},So,{key:function(e){if(e.key){var t=rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(e){return e.type==="keypress"?hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),av=ht(lv),cv=ye({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=ht(cv),uv=ye({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),dv=ht(uv),fv=ye({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),hv=ht(fv),pv=ye({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=ht(pv),gv=[9,13,27,32],du=tn&&"CompositionEvent"in window,zs=null;tn&&"documentMode"in document&&(zs=document.documentMode);var xv=tn&&"TextEvent"in window&&!zs,Pp=tn&&(!du||zs&&8<zs&&11>=zs),Rd=" ",$d=!1;function Rp(e,t){switch(e){case"keyup":return gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $p(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function yv(e,t){switch(e){case"compositionend":return $p(t);case"keypress":return t.which!==32?null:($d=!0,Rd);case"textInput":return e=t.data,e===Rd&&$d?null:e;default:return null}}function vv(e,t){if(Cr)return e==="compositionend"||!du&&Rp(e,t)?(e=Tp(),fi=au=yn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pp&&t.locale!=="ko"?null:t.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wv[e.type]:t==="textarea"}function Ip(e,t,n,r){dp(r),t=Oi(t,"onChange"),0<t.length&&(n=new cu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Us=null,Zs=null;function Nv(e){Vp(e,0)}function dl(e){var t=Tr(e);if(sp(t))return e}function bv(e,t){if(e==="change")return t}var Op=!1;if(tn){var Gl;if(tn){var Ql="oninput"in document;if(!Ql){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Ql=typeof Od.oninput=="function"}Gl=Ql}else Gl=!1;Op=Gl&&(!document.documentMode||9<document.documentMode)}function Md(){Us&&(Us.detachEvent("onpropertychange",Mp),Zs=Us=null)}function Mp(e){if(e.propertyName==="value"&&dl(Zs)){var t=[];Ip(t,Zs,e,ru(e)),mp(Nv,t)}}function Sv(e,t,n){e==="focusin"?(Md(),Us=t,Zs=n,Us.attachEvent("onpropertychange",Mp)):e==="focusout"&&Md()}function jv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dl(Zs)}function Ev(e,t){if(e==="click")return dl(t)}function kv(e,t){if(e==="input"||e==="change")return dl(t)}function Cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Cv;function eo(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Aa.call(t,s)||!Rt(e[s],t[s]))return!1}return!0}function Ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dd(e,t){var n=Ld(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ld(n)}}function Lp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dp(){for(var e=window,t=_i();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_i(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _v(e){var t=Dp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(r!==null&&fu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Dd(n,o);var i=Dd(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Av=tn&&"documentMode"in document&&11>=document.documentMode,_r=null,Xa=null,Bs=null,Ya=!1;function Fd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ya||_r==null||_r!==_i(r)||(r=_r,"selectionStart"in r&&fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bs&&eo(Bs,r)||(Bs=r,r=Oi(Xa,"onSelect"),0<r.length&&(t=new cu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function Wo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},Jl={},Fp={};tn&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function fl(e){if(Jl[e])return Jl[e];if(!Ar[e])return e;var t=Ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fp)return Jl[e]=t[n];return e}var zp=fl("animationend"),Up=fl("animationiteration"),Bp=fl("animationstart"),Hp=fl("transitionend"),Wp=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){Wp.set(e,t),dr(t,[e])}for(var Zl=0;Zl<zd.length;Zl++){var ea=zd[Zl],Tv=ea.toLowerCase(),Pv=ea[0].toUpperCase()+ea.slice(1);$n(Tv,"on"+Pv)}$n(zp,"onAnimationEnd");$n(Up,"onAnimationIteration");$n(Bp,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Hp,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Ud(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ty(r,t,void 0,e),e.currentTarget=null}function Vp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Ud(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Ud(s,a,u),o=c}}}if(Ti)throw e=Wa,Ti=!1,Wa=null,e}function fe(e,t){var n=t[ec];n===void 0&&(n=t[ec]=new Set);var r=e+"__bubble";n.has(r)||(qp(t,e,2,!1),n.add(r))}function ta(e,t,n){var r=0;t&&(r|=4),qp(n,e,r,t)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[Vo]){e[Vo]=!0,Zh.forEach(function(n){n!=="selectionchange"&&(Rv.has(n)||ta(n,!1,e),ta(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vo]||(t[Vo]=!0,ta("selectionchange",!1,t))}}function qp(e,t,n,r){switch(Ap(t)){case 1:var s=qy;break;case 4:s=Ky;break;default:s=lu}n=s.bind(null,t,n,e),s=void 0,!Ha||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function na(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=qn(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}mp(function(){var u=o,d=ru(n),f=[];e:{var h=Wp.get(e);if(h!==void 0){var y=cu,g=e;switch(e){case"keypress":if(hi(n)===0)break e;case"keydown":case"keyup":y=av;break;case"focusin":g="focus",y=Yl;break;case"focusout":g="blur",y=Yl;break;case"beforeblur":case"afterblur":y=Yl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=dv;break;case zp:case Up:case Bp:y=Zy;break;case Hp:y=hv;break;case"scroll":y=Xy;break;case"wheel":y=mv;break;case"copy":case"cut":case"paste":y=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pd}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,w;p!==null;){w=p;var v=w.stateNode;if(w.tag===5&&v!==null&&(w=v,m!==null&&(v=Ys(p,m),v!=null&&x.push(no(p,v,w)))),b)break;p=p.return}0<x.length&&(h=new y(h,g,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Ua&&(g=n.relatedTarget||n.fromElement)&&(qn(g)||g[nn]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=u,g=g?qn(g):null,g!==null&&(b=fr(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(x=Ad,v="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Pd,v="onPointerLeave",m="onPointerEnter",p="pointer"),b=y==null?h:Tr(y),w=g==null?h:Tr(g),h=new x(v,p+"leave",y,n,d),h.target=b,h.relatedTarget=w,v=null,qn(d)===u&&(x=new x(m,p+"enter",g,n,d),x.target=w,x.relatedTarget=b,v=x),b=v,y&&g)t:{for(x=y,m=g,p=0,w=x;w;w=wr(w))p++;for(w=0,v=m;v;v=wr(v))w++;for(;0<p-w;)x=wr(x),p--;for(;0<w-p;)m=wr(m),w--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=wr(x),m=wr(m)}x=null}else x=null;y!==null&&Bd(f,h,y,x,!1),g!==null&&b!==null&&Bd(f,b,g,x,!0)}}e:{if(h=u?Tr(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var j=bv;else if(Id(h))if(Op)j=kv;else{j=jv;var E=Sv}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Ev);if(j&&(j=j(e,u))){Ip(f,j,n,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Ma(h,"number",h.value)}switch(E=u?Tr(u):window,e){case"focusin":(Id(E)||E.contentEditable==="true")&&(_r=E,Xa=u,Bs=null);break;case"focusout":Bs=Xa=_r=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,Fd(f,n,d);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":Fd(f,n,d)}var A;if(du)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Cr?Rp(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Pp&&n.locale!=="ko"&&(Cr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Cr&&(A=Tp()):(yn=d,au="value"in yn?yn.value:yn.textContent,Cr=!0)),E=Oi(u,C),0<E.length&&(C=new Td(C,e,null,n,d),f.push({event:C,listeners:E}),A?C.data=A:(A=$p(n),A!==null&&(C.data=A)))),(A=xv?yv(e,n):vv(e,n))&&(u=Oi(u,"onBeforeInput"),0<u.length&&(d=new Td("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}Vp(f,t)})}function no(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ys(e,n),o!=null&&r.unshift(no(e,o,s)),o=Ys(e,t),o!=null&&r.push(no(e,o,s))),e=e.return}return r}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bd(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ys(n,o),c!=null&&i.unshift(no(n,c,a))):s||(c=Ys(n,o),c!=null&&i.push(no(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var $v=/\r\n?/g,Iv=/\u0000|\uFFFD/g;function Hd(e){return(typeof e=="string"?e:""+e).replace($v,`
`).replace(Iv,"")}function qo(e,t,n){if(t=Hd(t),Hd(e)!==t&&n)throw Error(H(425))}function Mi(){}var Ga=null,Qa=null;function Ja(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Za=typeof setTimeout=="function"?setTimeout:void 0,Ov=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(Lv)}:Za;function Lv(e){setTimeout(function(){throw e})}function ra(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Js(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Js(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cs=Math.random().toString(36).slice(2),Ft="__reactFiber$"+cs,ro="__reactProps$"+cs,nn="__reactContainer$"+cs,ec="__reactEvents$"+cs,Dv="__reactListeners$"+cs,Fv="__reactHandles$"+cs;function qn(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vd(e);e!==null;){if(n=e[Ft])return n;e=Vd(e)}return t}e=n,n=e.parentNode}return null}function jo(e){return e=e[Ft]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function hl(e){return e[ro]||null}var tc=[],Pr=-1;function In(e){return{current:e}}function he(e){0>Pr||(e.current=tc[Pr],tc[Pr]=null,Pr--)}function ue(e,t){Pr++,tc[Pr]=e.current,e.current=t}var Rn={},Ve=In(Rn),tt=In(!1),rr=Rn;function Xr(e,t){var n=e.type.contextTypes;if(!n)return Rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nt(e){return e=e.childContextTypes,e!=null}function Li(){he(tt),he(Ve)}function qd(e,t,n){if(Ve.current!==Rn)throw Error(H(168));ue(Ve,t),ue(tt,n)}function Kp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(H(108,Sy(e)||"Unknown",s));return ye({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rn,rr=Ve.current,ue(Ve,e),ue(tt,tt.current),!0}function Kd(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Kp(e,t,rr),r.__reactInternalMemoizedMergedChildContext=e,he(tt),he(Ve),ue(Ve,e)):he(tt),ue(tt,n)}var Yt=null,pl=!1,sa=!1;function Xp(e){Yt===null?Yt=[e]:Yt.push(e)}function zv(e){pl=!0,Xp(e)}function On(){if(!sa&&Yt!==null){sa=!0;var e=0,t=ae;try{var n=Yt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yt=null,pl=!1}catch(s){throw Yt!==null&&(Yt=Yt.slice(e+1)),vp(su,On),s}finally{ae=t,sa=!1}}return null}var Rr=[],$r=0,Fi=null,zi=0,pt=[],mt=0,sr=null,Gt=1,Qt="";function Hn(e,t){Rr[$r++]=zi,Rr[$r++]=Fi,Fi=e,zi=t}function Yp(e,t,n){pt[mt++]=Gt,pt[mt++]=Qt,pt[mt++]=sr,sr=e;var r=Gt;e=Qt;var s=32-At(r)-1;r&=~(1<<s),n+=1;var o=32-At(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Gt=1<<32-At(t)+s|n<<s|r,Qt=o+e}else Gt=1<<o|n<<s|r,Qt=e}function hu(e){e.return!==null&&(Hn(e,1),Yp(e,1,0))}function pu(e){for(;e===Fi;)Fi=Rr[--$r],Rr[$r]=null,zi=Rr[--$r],Rr[$r]=null;for(;e===sr;)sr=pt[--mt],pt[mt]=null,Qt=pt[--mt],pt[mt]=null,Gt=pt[--mt],pt[mt]=null}var ct=null,at=null,me=!1,Ct=null;function Gp(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,at=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:Gt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,at=null,!0):!1;default:return!1}}function nc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rc(e){if(me){var t=at;if(t){var n=t;if(!Xd(e,t)){if(nc(e))throw Error(H(418));t=jn(n.nextSibling);var r=ct;t&&Xd(e,t)?Gp(r,n):(e.flags=e.flags&-4097|2,me=!1,ct=e)}}else{if(nc(e))throw Error(H(418));e.flags=e.flags&-4097|2,me=!1,ct=e}}}function Yd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Ko(e){if(e!==ct)return!1;if(!me)return Yd(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ja(e.type,e.memoizedProps)),t&&(t=at)){if(nc(e))throw Qp(),Error(H(418));for(;t;)Gp(e,t),t=jn(t.nextSibling)}if(Yd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=ct?jn(e.stateNode.nextSibling):null;return!0}function Qp(){for(var e=at;e;)e=jn(e.nextSibling)}function Yr(){at=ct=null,me=!1}function mu(e){Ct===null?Ct=[e]:Ct.push(e)}var Uv=an.ReactCurrentBatchConfig;function bs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gd(e){var t=e._init;return t(e._payload)}function Jp(e){function t(m,p){if(e){var w=m.deletions;w===null?(m.deletions=[p],m.flags|=16):w.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=_n(m,p),m.index=0,m.sibling=null,m}function o(m,p,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<p?(m.flags|=2,p):w):(m.flags|=2,p)):(m.flags|=1048576,p)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,w,v){return p===null||p.tag!==6?(p=da(w,m.mode,v),p.return=m,p):(p=s(p,w),p.return=m,p)}function c(m,p,w,v){var j=w.type;return j===kr?d(m,p,w.props.children,v,w.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===dn&&Gd(j)===p.type)?(v=s(p,w.props),v.ref=bs(m,p,w),v.return=m,v):(v=wi(w.type,w.key,w.props,null,m.mode,v),v.ref=bs(m,p,w),v.return=m,v)}function u(m,p,w,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=fa(w,m.mode,v),p.return=m,p):(p=s(p,w.children||[]),p.return=m,p)}function d(m,p,w,v,j){return p===null||p.tag!==7?(p=Zn(w,m.mode,v,j),p.return=m,p):(p=s(p,w),p.return=m,p)}function f(m,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=da(""+p,m.mode,w),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Lo:return w=wi(p.type,p.key,p.props,null,m.mode,w),w.ref=bs(m,null,p),w.return=m,w;case Er:return p=fa(p,m.mode,w),p.return=m,p;case dn:var v=p._init;return f(m,v(p._payload),w)}if(Rs(p)||xs(p))return p=Zn(p,m.mode,w,null),p.return=m,p;Xo(m,p)}return null}function h(m,p,w,v){var j=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:a(m,p,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lo:return w.key===j?c(m,p,w,v):null;case Er:return w.key===j?u(m,p,w,v):null;case dn:return j=w._init,h(m,p,j(w._payload),v)}if(Rs(w)||xs(w))return j!==null?null:d(m,p,w,v,null);Xo(m,w)}return null}function y(m,p,w,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(w)||null,a(p,m,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lo:return m=m.get(v.key===null?w:v.key)||null,c(p,m,v,j);case Er:return m=m.get(v.key===null?w:v.key)||null,u(p,m,v,j);case dn:var E=v._init;return y(m,p,w,E(v._payload),j)}if(Rs(v)||xs(v))return m=m.get(w)||null,d(p,m,v,j,null);Xo(p,v)}return null}function g(m,p,w,v){for(var j=null,E=null,A=p,C=p=0,$=null;A!==null&&C<w.length;C++){A.index>C?($=A,A=null):$=A.sibling;var D=h(m,A,w[C],v);if(D===null){A===null&&(A=$);break}e&&A&&D.alternate===null&&t(m,A),p=o(D,p,C),E===null?j=D:E.sibling=D,E=D,A=$}if(C===w.length)return n(m,A),me&&Hn(m,C),j;if(A===null){for(;C<w.length;C++)A=f(m,w[C],v),A!==null&&(p=o(A,p,C),E===null?j=A:E.sibling=A,E=A);return me&&Hn(m,C),j}for(A=r(m,A);C<w.length;C++)$=y(A,m,C,w[C],v),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?C:$.key),p=o($,p,C),E===null?j=$:E.sibling=$,E=$);return e&&A.forEach(function(I){return t(m,I)}),me&&Hn(m,C),j}function x(m,p,w,v){var j=xs(w);if(typeof j!="function")throw Error(H(150));if(w=j.call(w),w==null)throw Error(H(151));for(var E=j=null,A=p,C=p=0,$=null,D=w.next();A!==null&&!D.done;C++,D=w.next()){A.index>C?($=A,A=null):$=A.sibling;var I=h(m,A,D.value,v);if(I===null){A===null&&(A=$);break}e&&A&&I.alternate===null&&t(m,A),p=o(I,p,C),E===null?j=I:E.sibling=I,E=I,A=$}if(D.done)return n(m,A),me&&Hn(m,C),j;if(A===null){for(;!D.done;C++,D=w.next())D=f(m,D.value,v),D!==null&&(p=o(D,p,C),E===null?j=D:E.sibling=D,E=D);return me&&Hn(m,C),j}for(A=r(m,A);!D.done;C++,D=w.next())D=y(A,m,C,D.value,v),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?C:D.key),p=o(D,p,C),E===null?j=D:E.sibling=D,E=D);return e&&A.forEach(function(U){return t(m,U)}),me&&Hn(m,C),j}function b(m,p,w,v){if(typeof w=="object"&&w!==null&&w.type===kr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Lo:e:{for(var j=w.key,E=p;E!==null;){if(E.key===j){if(j=w.type,j===kr){if(E.tag===7){n(m,E.sibling),p=s(E,w.props.children),p.return=m,m=p;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===dn&&Gd(j)===E.type){n(m,E.sibling),p=s(E,w.props),p.ref=bs(m,E,w),p.return=m,m=p;break e}n(m,E);break}else t(m,E);E=E.sibling}w.type===kr?(p=Zn(w.props.children,m.mode,v,w.key),p.return=m,m=p):(v=wi(w.type,w.key,w.props,null,m.mode,v),v.ref=bs(m,p,w),v.return=m,m=v)}return i(m);case Er:e:{for(E=w.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(m,p.sibling),p=s(p,w.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=fa(w,m.mode,v),p.return=m,m=p}return i(m);case dn:return E=w._init,b(m,p,E(w._payload),v)}if(Rs(w))return g(m,p,w,v);if(xs(w))return x(m,p,w,v);Xo(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,w),p.return=m,m=p):(n(m,p),p=da(w,m.mode,v),p.return=m,m=p),i(m)):n(m,p)}return b}var Gr=Jp(!0),Zp=Jp(!1),Ui=In(null),Bi=null,Ir=null,gu=null;function xu(){gu=Ir=Bi=null}function yu(e){var t=Ui.current;he(Ui),e._currentValue=t}function sc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){Bi=e,gu=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(gu!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(Bi===null)throw Error(H(308));Ir=e,Bi.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Kn=null;function vu(e){Kn===null?Kn=[e]:Kn.push(e)}function em(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vu(t)):(n.next=s.next,s.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,rn(e,n)}return s=r.interleaved,s===null?(t.next=t,vu(r)):(t.next=s.next,s.next=t),r.interleaved=t,rn(e,n)}function pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}function Qd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var s=e.updateQueue;fn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,x=a;switch(h=t,y=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(y,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(y,f,h):g,h==null)break e;f=ye({},f,h);break e;case 2:fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ir|=i,e.lanes=i,e.memoizedState=f}}function Jd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Eo={},Ut=In(Eo),so=In(Eo),oo=In(Eo);function Xn(e){if(e===Eo)throw Error(H(174));return e}function Nu(e,t){switch(ue(oo,t),ue(so,e),ue(Ut,Eo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Da(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Da(t,e)}he(Ut),ue(Ut,t)}function Qr(){he(Ut),he(so),he(oo)}function nm(e){Xn(oo.current);var t=Xn(Ut.current),n=Da(t,e.type);t!==n&&(ue(so,e),ue(Ut,n))}function bu(e){so.current===e&&(he(Ut),he(so))}var ge=In(0);function Wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oa=[];function Su(){for(var e=0;e<oa.length;e++)oa[e]._workInProgressVersionPrimary=null;oa.length=0}var mi=an.ReactCurrentDispatcher,ia=an.ReactCurrentBatchConfig,or=0,xe=null,_e=null,Pe=null,Vi=!1,Hs=!1,io=0,Bv=0;function Ue(){throw Error(H(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function Eu(e,t,n,r,s,o){if(or=o,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mi.current=e===null||e.memoizedState===null?qv:Kv,e=n(r,s),Hs){o=0;do{if(Hs=!1,io=0,25<=o)throw Error(H(301));o+=1,Pe=_e=null,t.updateQueue=null,mi.current=Xv,e=n(r,s)}while(Hs)}if(mi.current=qi,t=_e!==null&&_e.next!==null,or=0,Pe=_e=xe=null,Vi=!1,t)throw Error(H(300));return e}function ku(){var e=io!==0;return io=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?xe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Nt(){if(_e===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Pe===null?xe.memoizedState:Pe.next;if(t!==null)Pe=t,_e=e;else{if(e===null)throw Error(H(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Pe===null?xe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function lo(e,t){return typeof t=="function"?t(e):t}function la(e){var t=Nt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=_e,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((or&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,xe.lanes|=d,ir|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,Rt(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,xe.lanes|=o,ir|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aa(e){var t=Nt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Rt(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function rm(){}function sm(e,t){var n=xe,r=Nt(),s=t(),o=!Rt(r.memoizedState,s);if(o&&(r.memoizedState=s,Ze=!0),r=r.queue,Cu(lm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,ao(9,im.bind(null,n,r,s,t),void 0,null),Re===null)throw Error(H(349));or&30||om(n,t,s)}return s}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function im(e,t,n,r){t.value=n,t.getSnapshot=r,am(t)&&cm(e)}function lm(e,t,n){return n(function(){am(t)&&cm(e)})}function am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function cm(e){var t=rn(e,1);t!==null&&Tt(t,e,1,-1)}function Zd(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e},t.queue=e,e=e.dispatch=Vv.bind(null,xe,e),[t.memoizedState,e]}function ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function um(){return Nt().memoizedState}function gi(e,t,n,r){var s=Dt();xe.flags|=e,s.memoizedState=ao(1|t,n,void 0,r===void 0?null:r)}function ml(e,t,n,r){var s=Nt();r=r===void 0?null:r;var o=void 0;if(_e!==null){var i=_e.memoizedState;if(o=i.destroy,r!==null&&ju(r,i.deps)){s.memoizedState=ao(t,n,o,r);return}}xe.flags|=e,s.memoizedState=ao(1|t,n,o,r)}function ef(e,t){return gi(8390656,8,e,t)}function Cu(e,t){return ml(2048,8,e,t)}function dm(e,t){return ml(4,2,e,t)}function fm(e,t){return ml(4,4,e,t)}function hm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pm(e,t,n){return n=n!=null?n.concat([e]):null,ml(4,4,hm.bind(null,t,e),n)}function _u(){}function mm(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gm(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ju(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xm(e,t,n){return or&21?(Rt(n,t)||(n=bp(),xe.lanes|=n,ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function Hv(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{ae=n,ia.transition=r}}function ym(){return Nt().memoizedState}function Wv(e,t,n){var r=Cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vm(e))wm(t,n);else if(n=em(e,t,n,r),n!==null){var s=Ye();Tt(n,e,r,s),Nm(n,t,r)}}function Vv(e,t,n){var r=Cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vm(e))wm(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Rt(a,i)){var c=t.interleaved;c===null?(s.next=s,vu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=em(e,t,s,r),n!==null&&(s=Ye(),Tt(n,e,r,s),Nm(n,t,r))}}function vm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function wm(e,t){Hs=Vi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}var qi={readContext:wt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},qv={readContext:wt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:ef,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gi(4194308,4,hm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return gi(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wv.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Zd,useDebugValue:_u,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Zd(!1),t=e[0];return e=Hv.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,s=Dt();if(me){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Re===null)throw Error(H(349));or&30||om(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ef(lm.bind(null,r,o,e),[e]),r.flags|=2048,ao(9,im.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Re.identifierPrefix;if(me){var n=Qt,r=Gt;n=(r&~(1<<32-At(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=io++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kv={readContext:wt,useCallback:mm,useContext:wt,useEffect:Cu,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:gm,useReducer:la,useRef:um,useState:function(){return la(lo)},useDebugValue:_u,useDeferredValue:function(e){var t=Nt();return xm(t,_e.memoizedState,e)},useTransition:function(){var e=la(lo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:rm,useSyncExternalStore:sm,useId:ym,unstable_isNewReconciler:!1},Xv={readContext:wt,useCallback:mm,useContext:wt,useEffect:Cu,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:gm,useReducer:aa,useRef:um,useState:function(){return aa(lo)},useDebugValue:_u,useDeferredValue:function(e){var t=Nt();return _e===null?t.memoizedState=e:xm(t,_e.memoizedState,e)},useTransition:function(){var e=aa(lo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:rm,useSyncExternalStore:sm,useId:ym,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gl={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),s=Cn(e),o=Zt(r,s);o.payload=t,n!=null&&(o.callback=n),t=En(e,o,s),t!==null&&(Tt(t,e,s,r),pi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),s=Cn(e),o=Zt(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=En(e,o,s),t!==null&&(Tt(t,e,s,r),pi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=Cn(e),s=Zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=En(e,s,r),t!==null&&(Tt(t,e,r,n),pi(t,e,r))}};function tf(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!eo(n,r)||!eo(s,o):!0}function bm(e,t,n){var r=!1,s=Rn,o=t.contextType;return typeof o=="object"&&o!==null?o=wt(o):(s=nt(t)?rr:Ve.current,r=t.contextTypes,o=(r=r!=null)?Xr(e,s):Rn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function nf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function ic(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wu(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=wt(o):(o=nt(t)?rr:Ve.current,s.context=Xr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(oc(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gl.enqueueReplaceState(s,s.state,null),Hi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var n="",r=t;do n+=by(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function lc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yv=typeof WeakMap=="function"?WeakMap:Map;function Sm(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xi||(Xi=!0,xc=r),lc(e,t)},n}function jm(e,t,n){n=Zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){lc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){lc(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function rf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cw.bind(null,e,t,n),t.then(e,e))}function sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function of(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,En(n,t,1))),n.lanes|=1),e)}var Gv=an.ReactCurrentOwner,Ze=!1;function Xe(e,t,n,r){t.child=e===null?Zp(t,null,n,r):Gr(t,e.child,n,r)}function lf(e,t,n,r,s){n=n.render;var o=t.ref;return Br(t,s),r=Eu(e,t,n,r,o,s),n=ku(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(me&&n&&hu(t),t.flags|=1,Xe(e,t,r,s),t.child)}function af(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Mu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Em(e,t,o,r,s)):(e=wi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:eo,n(i,r)&&e.ref===t.ref)return sn(e,t,s)}return t.flags|=1,e=_n(o,r),e.ref=t.ref,e.return=t,t.child=e}function Em(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(eo(o,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,sn(e,t,s)}return ac(e,t,n,r,s)}function km(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Mr,lt),lt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Mr,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(Mr,lt),lt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(Mr,lt),lt|=r;return Xe(e,t,s,n),t.child}function Cm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ac(e,t,n,r,s){var o=nt(n)?rr:Ve.current;return o=Xr(t,o),Br(t,s),n=Eu(e,t,n,r,o,s),r=ku(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(me&&r&&hu(t),t.flags|=1,Xe(e,t,n,s),t.child)}function cf(e,t,n,r,s){if(nt(n)){var o=!0;Di(t)}else o=!1;if(Br(t,s),t.stateNode===null)xi(e,t),bm(t,n,r),ic(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=nt(n)?rr:Ve.current,u=Xr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&nf(t,i,r,u),fn=!1;var h=t.memoizedState;i.state=h,Hi(t,r,i,s),c=t.memoizedState,a!==r||h!==c||tt.current||fn?(typeof d=="function"&&(oc(t,n,d,r),c=t.memoizedState),(a=fn||tf(t,n,a,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,tm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:jt(t.type,a),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=nt(n)?rr:Ve.current,c=Xr(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==c)&&nf(t,i,r,c),fn=!1,h=t.memoizedState,i.state=h,Hi(t,r,i,s);var g=t.memoizedState;a!==f||h!==g||tt.current||fn?(typeof y=="function"&&(oc(t,n,y,r),g=t.memoizedState),(u=fn||tf(t,n,u,r,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return cc(e,t,n,r,o,s)}function cc(e,t,n,r,s,o){Cm(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Kd(t,n,!1),sn(e,t,o);r=t.stateNode,Gv.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Gr(t,e.child,null,o),t.child=Gr(t,null,a,o)):Xe(e,t,a,o),t.memoizedState=r.state,s&&Kd(t,n,!0),t.child}function _m(e){var t=e.stateNode;t.pendingContext?qd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qd(e,t.context,!1),Nu(e,t.containerInfo)}function uf(e,t,n,r,s){return Yr(),mu(s),t.flags|=256,Xe(e,t,n,r),t.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function dc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Am(e,t,n){var r=t.pendingProps,s=ge.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ge,s&1),e===null)return rc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=vl(i,r,0,null),e=Zn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dc(n),t.memoizedState=uc,e):Au(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Qv(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=_n(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=_n(a,o):(o=Zn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?dc(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=uc,r}return o=e.child,e=o.sibling,r=_n(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Au(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yo(e,t,n,r){return r!==null&&mu(r),Gr(t,e.child,null,n),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qv(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ca(Error(H(422))),Yo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=vl({mode:"visible",children:r.children},s,0,null),o=Zn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Gr(t,e.child,null,i),t.child.memoizedState=dc(i),t.memoizedState=uc,o);if(!(t.mode&1))return Yo(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=ca(o,r,void 0),Yo(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ze||a){if(r=Re,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,rn(e,s),Tt(r,e,s,-1))}return Ou(),r=ca(Error(H(421))),Yo(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uw.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,at=jn(s.nextSibling),ct=t,me=!0,Ct=null,e!==null&&(pt[mt++]=Gt,pt[mt++]=Qt,pt[mt++]=sr,Gt=e.id,Qt=e.overflow,sr=t),t=Au(t,r.children),t.flags|=4096,t)}function df(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sc(e.return,t,n)}function ua(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Tm(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Xe(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,n,t);else if(e.tag===19)df(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Wi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ua(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Wi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ua(t,!0,n,null,o);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jv(e,t,n){switch(t.tag){case 3:_m(t),Yr();break;case 5:nm(t);break;case 1:nt(t.type)&&Di(t);break;case 4:Nu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(Ui,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Am(e,t,n):(ue(ge,ge.current&1),e=sn(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Tm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,km(e,t,n)}return sn(e,t,n)}var Pm,fc,Rm,$m;Pm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fc=function(){};Rm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xn(Ut.current);var o=null;switch(n){case"input":s=Ia(e,s),r=Ia(e,r),o=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),o=[];break;case"textarea":s=La(e,s),r=La(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mi)}Fa(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ks.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};$m=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ss(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zv(e,t,n){var r=t.pendingProps;switch(pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return nt(t.type)&&Li(),Be(t),null;case 3:return r=t.stateNode,Qr(),he(tt),he(Ve),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ko(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(wc(Ct),Ct=null))),fc(e,t),Be(t),null;case 5:bu(t);var s=Xn(oo.current);if(n=t.type,e!==null&&t.stateNode!=null)Rm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Be(t),null}if(e=Xn(Ut.current),Ko(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ft]=t,r[ro]=o,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Is.length;s++)fe(Is[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":vd(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":Nd(r,o),fe("invalid",r)}Fa(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qo(r.textContent,a,e),s=["children",""+a]):Ks.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":Do(r),wd(r,o,!0);break;case"textarea":Do(r),bd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Ft]=t,e[ro]=r,Pm(e,t,!1,!1),t.stateNode=e;e:{switch(i=za(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Is.length;s++)fe(Is[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":vd(e,r),s=Ia(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Nd(e,r),s=La(e,r),fe("invalid",e);break;default:s=r}Fa(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?up(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ap(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xs(e,c):typeof c=="number"&&Xs(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ks.hasOwnProperty(o)?c!=null&&o==="onScroll"&&fe("scroll",e):c!=null&&Zc(e,o,c,i))}switch(n){case"input":Do(e),wd(e,r,!1);break;case"textarea":Do(e),bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Dr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Dr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Mi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)$m(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Xn(oo.current),Xn(Ut.current),Ko(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ft]=t,(o=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=t,t.stateNode=r}return Be(t),null;case 13:if(he(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&at!==null&&t.mode&1&&!(t.flags&128))Qp(),Yr(),t.flags|=98560,o=!1;else if(o=Ko(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Ft]=t}else Yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else Ct!==null&&(wc(Ct),Ct=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ae===0&&(Ae=3):Ou())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Qr(),fc(e,t),e===null&&to(t.stateNode.containerInfo),Be(t),null;case 10:return yu(t.type._context),Be(t),null;case 17:return nt(t.type)&&Li(),Be(t),null;case 19:if(he(ge),o=t.memoizedState,o===null)return Be(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Ss(o,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Wi(e),i!==null){for(t.flags|=128,Ss(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&be()>Zr&&(t.flags|=128,r=!0,Ss(o,!1),t.lanes=4194304)}else{if(!r)if(e=Wi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!me)return Be(t),null}else 2*be()-o.renderingStartTime>Zr&&n!==1073741824&&(t.flags|=128,r=!0,Ss(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=be(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return Iu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function ew(e,t){switch(pu(t),t.tag){case 1:return nt(t.type)&&Li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),he(tt),he(Ve),Su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bu(t),null;case 13:if(he(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ge),null;case 4:return Qr(),null;case 10:return yu(t.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var Go=!1,He=!1,tw=typeof WeakSet=="function"?WeakSet:Set,X=null;function Or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(e,t,r)}else n.current=null}function hc(e,t,n){try{n()}catch(r){ve(e,t,r)}}var ff=!1;function nw(e,t){if(Ga=$i,e=Dp(),fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=i),h===o&&++d===r&&(c=i),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qa={focusedElem:e,selectionRange:n},$i=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,b=g.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:jt(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(v){ve(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return g=ff,ff=!1,g}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&hc(t,n,o)}s=s.next}while(s!==r)}}function xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Im(e){var t=e.alternate;t!==null&&(e.alternate=null,Im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[ro],delete t[ec],delete t[Dv],delete t[Fv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Om(e){return e.tag===5||e.tag===3||e.tag===4}function hf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mi));else if(r!==4&&(e=e.child,e!==null))for(mc(e,t,n),e=e.sibling;e!==null;)mc(e,t,n),e=e.sibling}function gc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gc(e,t,n),e=e.sibling;e!==null;)gc(e,t,n),e=e.sibling}var Oe=null,Et=!1;function cn(e,t,n){for(n=n.child;n!==null;)Mm(e,t,n),n=n.sibling}function Mm(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:He||Or(n,t);case 6:var r=Oe,s=Et;Oe=null,cn(e,t,n),Oe=r,Et=s,Oe!==null&&(Et?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Et?(e=Oe,n=n.stateNode,e.nodeType===8?ra(e.parentNode,n):e.nodeType===1&&ra(e,n),Js(e)):ra(Oe,n.stateNode));break;case 4:r=Oe,s=Et,Oe=n.stateNode.containerInfo,Et=!0,cn(e,t,n),Oe=r,Et=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&hc(n,t,i),s=s.next}while(s!==r)}cn(e,t,n);break;case 1:if(!He&&(Or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ve(n,t,a)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,cn(e,t,n),He=r):cn(e,t,n);break;default:cn(e,t,n)}}function pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tw),t.forEach(function(r){var s=dw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function St(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,Et=!1;break e;case 3:Oe=a.stateNode.containerInfo,Et=!0;break e;case 4:Oe=a.stateNode.containerInfo,Et=!0;break e}a=a.return}if(Oe===null)throw Error(H(160));Mm(o,i,s),Oe=null,Et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lm(t,e),t=t.sibling}function Lm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Mt(e),r&4){try{Ws(3,e,e.return),xl(3,e)}catch(x){ve(e,e.return,x)}try{Ws(5,e,e.return)}catch(x){ve(e,e.return,x)}}break;case 1:St(t,e),Mt(e),r&512&&n!==null&&Or(n,n.return);break;case 5:if(St(t,e),Mt(e),r&512&&n!==null&&Or(n,n.return),e.flags&32){var s=e.stateNode;try{Xs(s,"")}catch(x){ve(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&op(s,o),za(a,i);var u=za(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?up(s,f):d==="dangerouslySetInnerHTML"?ap(s,f):d==="children"?Xs(s,f):Zc(s,d,f,u)}switch(a){case"input":Oa(s,o);break;case"textarea":ip(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Dr(s,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Dr(s,!!o.multiple,o.defaultValue,!0):Dr(s,!!o.multiple,o.multiple?[]:"",!1))}s[ro]=o}catch(x){ve(e,e.return,x)}}break;case 6:if(St(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){ve(e,e.return,x)}}break;case 3:if(St(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(x){ve(e,e.return,x)}break;case 4:St(t,e),Mt(e);break;case 13:St(t,e),Mt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ru=be())),r&4&&pf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||d,St(t,e),He=u):St(t,e),Mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,y=h.child,h.tag){case 0:case 11:case 14:case 15:Ws(4,h,h.return);break;case 1:Or(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){ve(r,n,x)}}break;case 5:Or(h,h.return);break;case 22:if(h.memoizedState!==null){gf(f);continue}}y!==null?(y.return=h,X=y):gf(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=cp("display",i))}catch(x){ve(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ve(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:St(t,e),Mt(e),r&4&&pf(e);break;case 21:break;default:St(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Om(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xs(s,""),r.flags&=-33);var o=hf(e);gc(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=hf(e);mc(e,a,i);break;default:throw Error(H(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rw(e,t,n){X=e,Dm(e)}function Dm(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Go;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||He;a=Go;var u=He;if(Go=i,(He=c)&&!u)for(X=s;X!==null;)i=X,c=i.child,i.tag===22&&i.memoizedState!==null?xf(s):c!==null?(c.return=i,X=c):xf(s);for(;o!==null;)X=o,Dm(o),o=o.sibling;X=s,Go=a,He=u}mf(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,X=o):mf(e)}}function mf(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||xl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jd(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Js(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}He||t.flags&512&&pc(t)}catch(h){ve(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function gf(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function xf(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xl(4,t)}catch(c){ve(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ve(t,s,c)}}var o=t.return;try{pc(t)}catch(c){ve(t,o,c)}break;case 5:var i=t.return;try{pc(t)}catch(c){ve(t,i,c)}}}catch(c){ve(t,t.return,c)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var sw=Math.ceil,Ki=an.ReactCurrentDispatcher,Tu=an.ReactCurrentOwner,vt=an.ReactCurrentBatchConfig,re=0,Re=null,Ee=null,Me=0,lt=0,Mr=In(0),Ae=0,co=null,ir=0,yl=0,Pu=0,Vs=null,Je=null,Ru=0,Zr=1/0,Xt=null,Xi=!1,xc=null,kn=null,Qo=!1,vn=null,Yi=0,qs=0,yc=null,yi=-1,vi=0;function Ye(){return re&6?be():yi!==-1?yi:yi=be()}function Cn(e){return e.mode&1?re&2&&Me!==0?Me&-Me:Uv.transition!==null?(vi===0&&(vi=bp()),vi):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Ap(e.type)),e):1}function Tt(e,t,n,r){if(50<qs)throw qs=0,yc=null,Error(H(185));bo(e,n,r),(!(re&2)||e!==Re)&&(e===Re&&(!(re&2)&&(yl|=n),Ae===4&&gn(e,Me)),rt(e,r),n===1&&re===0&&!(t.mode&1)&&(Zr=be()+500,pl&&On()))}function rt(e,t){var n=e.callbackNode;Uy(e,t);var r=Ri(e,e===Re?Me:0);if(r===0)n!==null&&Ed(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ed(n),t===1)e.tag===0?zv(yf.bind(null,e)):Xp(yf.bind(null,e)),Mv(function(){!(re&6)&&On()}),n=null;else{switch(Sp(r)){case 1:n=su;break;case 4:n=wp;break;case 16:n=Pi;break;case 536870912:n=Np;break;default:n=Pi}n=qm(n,Fm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fm(e,t){if(yi=-1,vi=0,re&6)throw Error(H(327));var n=e.callbackNode;if(Hr()&&e.callbackNode!==n)return null;var r=Ri(e,e===Re?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gi(e,r);else{t=r;var s=re;re|=2;var o=Um();(Re!==e||Me!==t)&&(Xt=null,Zr=be()+500,Jn(e,t));do try{lw();break}catch(a){zm(e,a)}while(!0);xu(),Ki.current=o,re=s,Ee!==null?t=0:(Re=null,Me=0,t=Ae)}if(t!==0){if(t===2&&(s=Va(e),s!==0&&(r=s,t=vc(e,s))),t===1)throw n=co,Jn(e,0),gn(e,r),rt(e,be()),n;if(t===6)gn(e,r);else{if(s=e.current.alternate,!(r&30)&&!ow(s)&&(t=Gi(e,r),t===2&&(o=Va(e),o!==0&&(r=o,t=vc(e,o))),t===1))throw n=co,Jn(e,0),gn(e,r),rt(e,be()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Wn(e,Je,Xt);break;case 3:if(gn(e,r),(r&130023424)===r&&(t=Ru+500-be(),10<t)){if(Ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Za(Wn.bind(null,e,Je,Xt),t);break}Wn(e,Je,Xt);break;case 4:if(gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-At(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sw(r/1960))-r,10<r){e.timeoutHandle=Za(Wn.bind(null,e,Je,Xt),r);break}Wn(e,Je,Xt);break;case 5:Wn(e,Je,Xt);break;default:throw Error(H(329))}}}return rt(e,be()),e.callbackNode===n?Fm.bind(null,e):null}function vc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=Gi(e,t),e!==2&&(t=Je,Je=n,t!==null&&wc(t)),e}function wc(e){Je===null?Je=e:Je.push.apply(Je,e)}function ow(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Rt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~Pu,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function yf(e){if(re&6)throw Error(H(327));Hr();var t=Ri(e,0);if(!(t&1))return rt(e,be()),null;var n=Gi(e,t);if(e.tag!==0&&n===2){var r=Va(e);r!==0&&(t=r,n=vc(e,r))}if(n===1)throw n=co,Jn(e,0),gn(e,t),rt(e,be()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wn(e,Je,Xt),rt(e,be()),null}function $u(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(Zr=be()+500,pl&&On())}}function lr(e){vn!==null&&vn.tag===0&&!(re&6)&&Hr();var t=re;re|=1;var n=vt.transition,r=ae;try{if(vt.transition=null,ae=1,e)return e()}finally{ae=r,vt.transition=n,re=t,!(re&6)&&On()}}function Iu(){lt=Mr.current,he(Mr)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ov(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(pu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Li();break;case 3:Qr(),he(tt),he(Ve),Su();break;case 5:bu(r);break;case 4:Qr();break;case 13:he(ge);break;case 19:he(ge);break;case 10:yu(r.type._context);break;case 22:case 23:Iu()}n=n.return}if(Re=e,Ee=e=_n(e.current,null),Me=lt=t,Ae=0,co=null,Pu=yl=ir=0,Je=Vs=null,Kn!==null){for(t=0;t<Kn.length;t++)if(n=Kn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Kn=null}return e}function zm(e,t){do{var n=Ee;try{if(xu(),mi.current=qi,Vi){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vi=!1}if(or=0,Pe=_e=xe=null,Hs=!1,io=0,Tu.current=null,n===null||n.return===null){Ae=1,co=t,Ee=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=Me,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=sf(i);if(y!==null){y.flags&=-257,of(y,i,a,o,t),y.mode&1&&rf(o,u,t),t=y,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){rf(o,u,t),Ou();break e}c=Error(H(426))}}else if(me&&a.mode&1){var b=sf(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),of(b,i,a,o,t),mu(Jr(c,a));break e}}o=c=Jr(c,a),Ae!==4&&(Ae=2),Vs===null?Vs=[o]:Vs.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Sm(o,c,t);Qd(o,m);break e;case 1:a=c;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(kn===null||!kn.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var v=jm(o,a,t);Qd(o,v);break e}}o=o.return}while(o!==null)}Hm(n)}catch(j){t=j,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Um(){var e=Ki.current;return Ki.current=qi,e===null?qi:e}function Ou(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Re===null||!(ir&268435455)&&!(yl&268435455)||gn(Re,Me)}function Gi(e,t){var n=re;re|=2;var r=Um();(Re!==e||Me!==t)&&(Xt=null,Jn(e,t));do try{iw();break}catch(s){zm(e,s)}while(!0);if(xu(),re=n,Ki.current=r,Ee!==null)throw Error(H(261));return Re=null,Me=0,Ae}function iw(){for(;Ee!==null;)Bm(Ee)}function lw(){for(;Ee!==null&&!Ry();)Bm(Ee)}function Bm(e){var t=Vm(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Hm(e):Ee=t,Tu.current=null}function Hm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ew(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ee=null;return}}else if(n=Zv(n,t,lt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ae===0&&(Ae=5)}function Wn(e,t,n){var r=ae,s=vt.transition;try{vt.transition=null,ae=1,aw(e,t,n,r)}finally{vt.transition=s,ae=r}return null}function aw(e,t,n,r){do Hr();while(vn!==null);if(re&6)throw Error(H(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(By(e,o),e===Re&&(Ee=Re=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qo||(Qo=!0,qm(Pi,function(){return Hr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vt.transition,vt.transition=null;var i=ae;ae=1;var a=re;re|=4,Tu.current=null,nw(e,n),Lm(n,e),_v(Qa),$i=!!Ga,Qa=Ga=null,e.current=n,rw(n),$y(),re=a,ae=i,vt.transition=o}else e.current=n;if(Qo&&(Qo=!1,vn=e,Yi=s),o=e.pendingLanes,o===0&&(kn=null),My(n.stateNode),rt(e,be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xi)throw Xi=!1,e=xc,xc=null,e;return Yi&1&&e.tag!==0&&Hr(),o=e.pendingLanes,o&1?e===yc?qs++:(qs=0,yc=e):qs=0,On(),null}function Hr(){if(vn!==null){var e=Sp(Yi),t=vt.transition,n=ae;try{if(vt.transition=null,ae=16>e?16:e,vn===null)var r=!1;else{if(e=vn,vn=null,Yi=0,re&6)throw Error(H(331));var s=re;for(re|=4,X=e.current;X!==null;){var o=X,i=o.child;if(X.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Ws(8,d,o)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,y=d.return;if(Im(d),d===u){X=null;break}if(h!==null){h.return=y,X=h;break}X=y}}}var g=o.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}X=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,X=i;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ws(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,X=m;break e}X=o.return}}var p=e.current;for(X=p;X!==null;){i=X;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,X=w;else e:for(i=p;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xl(9,a)}}catch(j){ve(a,a.return,j)}if(a===i){X=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,X=v;break e}X=a.return}}if(re=s,On(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(cl,e)}catch{}r=!0}return r}finally{ae=n,vt.transition=t}}return!1}function vf(e,t,n){t=Jr(n,t),t=Sm(e,t,1),e=En(e,t,1),t=Ye(),e!==null&&(bo(e,1,t),rt(e,t))}function ve(e,t,n){if(e.tag===3)vf(e,e,n);else for(;t!==null;){if(t.tag===3){vf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=Jr(n,e),e=jm(t,e,1),t=En(t,e,1),e=Ye(),t!==null&&(bo(t,1,e),rt(t,e));break}}t=t.return}}function cw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Me&n)===n&&(Ae===4||Ae===3&&(Me&130023424)===Me&&500>be()-Ru?Jn(e,0):Pu|=n),rt(e,t)}function Wm(e,t){t===0&&(e.mode&1?(t=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):t=1);var n=Ye();e=rn(e,t),e!==null&&(bo(e,t,n),rt(e,n))}function uw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wm(e,n)}function dw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Wm(e,n)}var Vm;Vm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,Jv(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,me&&t.flags&1048576&&Yp(t,zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xi(e,t),e=t.pendingProps;var s=Xr(t,Ve.current);Br(t,n),s=Eu(null,t,r,e,s,n);var o=ku();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(o=!0,Di(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wu(t),s.updater=gl,t.stateNode=s,s._reactInternals=t,ic(t,r,e,n),t=cc(null,t,r,!0,o,n)):(t.tag=0,me&&o&&hu(t),Xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hw(r),e=jt(r,e),s){case 0:t=ac(null,t,r,e,n);break e;case 1:t=cf(null,t,r,e,n);break e;case 11:t=lf(null,t,r,e,n);break e;case 14:t=af(null,t,r,jt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),ac(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),cf(e,t,r,s,n);case 3:e:{if(_m(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,s=o.element,tm(e,t),Hi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Jr(Error(H(423)),t),t=uf(e,t,r,n,s);break e}else if(r!==s){s=Jr(Error(H(424)),t),t=uf(e,t,r,n,s);break e}else for(at=jn(t.stateNode.containerInfo.firstChild),ct=t,me=!0,Ct=null,n=Zp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),r===s){t=sn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return nm(t),e===null&&rc(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Ja(r,s)?i=null:o!==null&&Ja(r,o)&&(t.flags|=32),Cm(e,t),Xe(e,t,i,n),t.child;case 6:return e===null&&rc(t),null;case 13:return Am(e,t,n);case 4:return Nu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gr(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),lf(e,t,r,s,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ue(Ui,r._currentValue),r._currentValue=i,o!==null)if(Rt(o.value,i)){if(o.children===s.children&&!tt.current){t=sn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Zt(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),sc(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(H(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),sc(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Br(t,n),s=wt(s),r=r(s),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,s=jt(r,t.pendingProps),s=jt(r.type,s),af(e,t,r,s,n);case 15:return Em(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),xi(e,t),t.tag=1,nt(r)?(e=!0,Di(t)):e=!1,Br(t,n),bm(t,r,s),ic(t,r,s,n),cc(null,t,r,!0,e,n);case 19:return Tm(e,t,n);case 22:return km(e,t,n)}throw Error(H(156,t.tag))};function qm(e,t){return vp(e,t)}function fw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new fw(e,t,n,r)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hw(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tu)return 11;if(e===nu)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wi(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Mu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case kr:return Zn(n.children,s,o,t);case eu:i=8,s|=8;break;case Ta:return e=xt(12,n,t,s|2),e.elementType=Ta,e.lanes=o,e;case Pa:return e=xt(13,n,t,s),e.elementType=Pa,e.lanes=o,e;case Ra:return e=xt(19,n,t,s),e.elementType=Ra,e.lanes=o,e;case np:return vl(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ep:i=10;break e;case tp:i=9;break e;case tu:i=11;break e;case nu:i=14;break e;case dn:i=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=xt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Zn(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function vl(e,t,n,r){return e=xt(22,e,r,t),e.elementType=np,e.lanes=n,e.stateNode={isHidden:!1},e}function da(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function fa(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Lu(e,t,n,r,s,o,i,a,c){return e=new pw(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=xt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(o),e}function mw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Km(e){if(!e)return Rn;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(nt(n))return Kp(e,n,t)}return t}function Xm(e,t,n,r,s,o,i,a,c){return e=Lu(n,r,!0,e,s,o,i,a,c),e.context=Km(null),n=e.current,r=Ye(),s=Cn(n),o=Zt(r,s),o.callback=t??null,En(n,o,s),e.current.lanes=s,bo(e,s,r),rt(e,r),e}function wl(e,t,n,r){var s=t.current,o=Ye(),i=Cn(s);return n=Km(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=En(s,t,i),e!==null&&(Tt(e,s,i,o),pi(e,s,i)),i}function Qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Du(e,t){wf(e,t),(e=e.alternate)&&wf(e,t)}function gw(){return null}var Ym=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fu(e){this._internalRoot=e}Nl.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));wl(e,t,null,null)};Nl.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){wl(null,e,null,null)}),t[nn]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&_p(e)}};function zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function xw(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Qi(i);o.call(u)}}var i=Xm(t,r,e,0,null,!1,!1,"",Nf);return e._reactRootContainer=i,e[nn]=i.current,to(e.nodeType===8?e.parentNode:e),lr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Qi(c);a.call(u)}}var c=Lu(e,0,!1,null,null,!1,!1,"",Nf);return e._reactRootContainer=c,e[nn]=c.current,to(e.nodeType===8?e.parentNode:e),lr(function(){wl(t,c,n,r)}),c}function Sl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=Qi(i);a.call(c)}}wl(t,i,e,s)}else i=xw(n,t,e,s,r);return Qi(i)}jp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$s(t.pendingLanes);n!==0&&(ou(t,n|1),rt(t,be()),!(re&6)&&(Zr=be()+500,On()))}break;case 13:lr(function(){var r=rn(e,1);if(r!==null){var s=Ye();Tt(r,e,1,s)}}),Du(e,1)}};iu=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=Ye();Tt(t,e,134217728,n)}Du(e,134217728)}};Ep=function(e){if(e.tag===13){var t=Cn(e),n=rn(e,t);if(n!==null){var r=Ye();Tt(n,e,t,r)}Du(e,t)}};kp=function(){return ae};Cp=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Ba=function(e,t,n){switch(t){case"input":if(Oa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hl(r);if(!s)throw Error(H(90));sp(r),Oa(r,s)}}}break;case"textarea":ip(e,n);break;case"select":t=n.value,t!=null&&Dr(e,!!n.multiple,t,!1)}};hp=$u;pp=lr;var yw={usingClientEntryPoint:!1,Events:[jo,Tr,hl,dp,fp,$u]},js={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vw={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xp(e),e===null?null:e.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{cl=Jo.inject(vw),zt=Jo}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yw;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(t))throw Error(H(200));return mw(e,t,null,n)};ft.createRoot=function(e,t){if(!zu(e))throw Error(H(299));var n=!1,r="",s=Ym;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Lu(e,1,!1,null,null,n,!1,r,s),e[nn]=t.current,to(e.nodeType===8?e.parentNode:e),new Fu(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=xp(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return lr(e)};ft.hydrate=function(e,t,n){if(!bl(t))throw Error(H(200));return Sl(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!zu(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Ym;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Xm(t,null,e,1,n??null,s,!1,o,i),e[nn]=t.current,to(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Nl(t)};ft.render=function(e,t,n){if(!bl(t))throw Error(H(200));return Sl(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!bl(e))throw Error(H(40));return e._reactRootContainer?(lr(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};ft.unstable_batchedUpdates=$u;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bl(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Sl(e,t,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function Gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gm)}catch(e){console.error(e)}}Gm(),Gh.exports=ft;var ww=Gh.exports,bf=ww;_a.createRoot=bf.createRoot,_a.hydrateRoot=bf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo.apply(this,arguments)}var wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wn||(wn={}));const Sf="popstate";function Nw(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return Nc("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ji(s)}return Sw(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bw(){return Math.random().toString(36).substr(2,8)}function jf(e,t){return{usr:e.state,key:e.key,idx:t}}function Nc(e,t,n,r){return n===void 0&&(n=null),uo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?us(t):t,{state:n,key:t&&t.key||r||bw()})}function Ji(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function us(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Sw(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=wn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(uo({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=wn.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:a,location:x.location,delta:m})}function h(b,m){a=wn.Push;let p=Nc(x.location,b,m);u=d()+1;let w=jf(p,u),v=x.createHref(p);try{i.pushState(w,"",v)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(v)}o&&c&&c({action:a,location:x.location,delta:1})}function y(b,m){a=wn.Replace;let p=Nc(x.location,b,m);u=d();let w=jf(p,u),v=x.createHref(p);i.replaceState(w,"",v),o&&c&&c({action:a,location:x.location,delta:0})}function g(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof b=="string"?b:Ji(b);return p=p.replace(/ $/,"%20"),ke(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let x={get action(){return a},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Sf,f),c=b,()=>{s.removeEventListener(Sf,f),c=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:y,go(b){return i.go(b)}};return x}var Ef;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ef||(Ef={}));function jw(e,t,n){return n===void 0&&(n="/"),Ew(e,t,n)}function Ew(e,t,n,r){let s=typeof t=="string"?us(t):t,o=Uu(s.pathname||"/",n);if(o==null)return null;let i=Jm(e);kw(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=Dw(o);a=Ow(i[c],u)}return a}function Jm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=An([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(ke(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jm(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:$w(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Zm(o.path))s(o,i,c)}),t}function Zm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Zm(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function kw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Iw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cw=/^:[\w-]+$/,_w=3,Aw=2,Tw=1,Pw=10,Rw=-2,kf=e=>e==="*";function $w(e,t){let n=e.split("/"),r=n.length;return n.some(kf)&&(r+=Rw),t&&(r+=Aw),n.filter(s=>!kf(s)).reduce((s,o)=>s+(Cw.test(o)?_w:o===""?Tw:Pw),r)}function Iw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ow(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Mw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:An([o,f.pathname]),pathnameBase:Bw(An([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=An([o,f.pathnameBase]))}return i}function Mw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Lw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let x=a[f]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const g=a[f];return y&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function Lw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Qm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Dw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Uu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?us(e):e;return{pathname:n?n.startsWith("/")?n:zw(n,t):t,search:Hw(r),hash:Ww(s)}}function zw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ha(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function eg(e,t){let n=Uw(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=us(e):(s=uo({},e),ke(!s.pathname||!s.pathname.includes("?"),ha("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),ha("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),ha("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=Fw(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const An=e=>e.join("/").replace(/\/\/+/g,"/"),Bw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ww=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ng=["post","put","patch","delete"];new Set(ng);const qw=["get",...ng];new Set(qw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo.apply(this,arguments)}const Bu=S.createContext(null),Kw=S.createContext(null),hr=S.createContext(null),jl=S.createContext(null),Mn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),rg=S.createContext(null);function Xw(e,t){let{relative:n}=t===void 0?{}:t;ko()||ke(!1);let{basename:r,navigator:s}=S.useContext(hr),{hash:o,pathname:i,search:a}=og(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:An([r,i])),s.createHref({pathname:c,search:a,hash:o})}function ko(){return S.useContext(jl)!=null}function Co(){return ko()||ke(!1),S.useContext(jl).location}function sg(e){S.useContext(hr).static||S.useLayoutEffect(e)}function pr(){let{isDataRoute:e}=S.useContext(Mn);return e?l1():Yw()}function Yw(){ko()||ke(!1);let e=S.useContext(Bu),{basename:t,future:n,navigator:r}=S.useContext(hr),{matches:s}=S.useContext(Mn),{pathname:o}=Co(),i=JSON.stringify(eg(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return sg(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=tg(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:An([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function _o(){let{matches:e}=S.useContext(Mn),t=e[e.length-1];return t?t.params:{}}function og(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(hr),{matches:s}=S.useContext(Mn),{pathname:o}=Co(),i=JSON.stringify(eg(s,r.v7_relativeSplatPath));return S.useMemo(()=>tg(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function Gw(e,t){return Qw(e,t)}function Qw(e,t,n,r){ko()||ke(!1);let{navigator:s}=S.useContext(hr),{matches:o}=S.useContext(Mn),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Co(),d;if(t){var f;let b=typeof t=="string"?us(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||ke(!1),d=b}else d=u;let h=d.pathname||"/",y=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=jw(e,{pathname:y}),x=n1(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:An([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:An([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&x?S.createElement(jl.Provider,{value:{location:fo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wn.Pop}},x):x}function Jw(){let e=i1(),t=Vw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const Zw=S.createElement(Jw,null);class e1 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Mn.Provider,{value:this.props.routeContext},S.createElement(rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t1(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(Bu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Mn.Provider,{value:t},r)}function n1(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ke(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:y}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let y,g=!1,x=null,b=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||Zw,c&&(u<0&&h===0?(a1("route-fallback"),g=!0,b=null):u===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,h+1)),p=()=>{let w;return y?w=x:g?w=b:f.route.Component?w=S.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,S.createElement(t1,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(e1,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var ig=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ig||{}),lg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lg||{});function r1(e){let t=S.useContext(Bu);return t||ke(!1),t}function s1(e){let t=S.useContext(Kw);return t||ke(!1),t}function o1(e){let t=S.useContext(Mn);return t||ke(!1),t}function ag(e){let t=o1(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function i1(){var e;let t=S.useContext(rg),n=s1(),r=ag();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function l1(){let{router:e}=r1(ig.UseNavigateStable),t=ag(lg.UseNavigateStable),n=S.useRef(!1);return sg(()=>{n.current=!0}),S.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fo({fromRouteId:t},o)))},[e,t])}const Cf={};function a1(e,t,n){Cf[e]||(Cf[e]=!0)}function c1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function je(e){ke(!1)}function u1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=wn.Pop,navigator:o,static:i=!1,future:a}=e;ko()&&ke(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:o,static:i,future:fo({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=us(r));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:g="default"}=r,x=S.useMemo(()=>{let b=Uu(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:y,key:g},navigationType:s}},[c,d,f,h,y,g,s]);return x==null?null:S.createElement(hr.Provider,{value:u},S.createElement(jl.Provider,{children:n,value:x}))}function d1(e){let{children:t,location:n}=e;return Gw(bc(t),n)}new Promise(()=>{});function bc(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let o=[...t,s];if(r.type===S.Fragment){n.push.apply(n,bc(r.props.children,o));return}r.type!==je&&ke(!1),!r.props.index||!r.props.children||ke(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=bc(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(this,arguments)}function f1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function h1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p1(e,t){return e.button===0&&(!t||t==="_self")&&!h1(e)}const m1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g1="6";try{window.__reactRouterVersion=g1}catch{}const x1="startTransition",_f=cy[x1];function y1(e){let{basename:t,children:n,future:r,window:s}=e,o=S.useRef();o.current==null&&(o.current=Nw({window:s,v5Compat:!0}));let i=o.current,[a,c]=S.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=S.useCallback(f=>{u&&_f?_f(()=>c(f)):c(f)},[c,u]);return S.useLayoutEffect(()=>i.listen(d),[i,d]),S.useEffect(()=>c1(r),[r]),S.createElement(u1,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const v1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=f1(t,m1),{basename:y}=S.useContext(hr),g,x=!1;if(typeof u=="string"&&w1.test(u)&&(g=u,v1))try{let w=new URL(window.location.href),v=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Uu(v.pathname,y);v.origin===w.origin&&j!=null?u=j+v.search+v.hash:x=!0}catch{}let b=Xw(u,{relative:s}),m=N1(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function p(w){r&&r(w),w.defaultPrevented||m(w)}return S.createElement("a",Sc({},h,{href:g||b,onClick:x||o?r:p,ref:n,target:c}))});var Af;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Af||(Af={}));var Tf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tf||(Tf={}));function N1(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=pr(),u=Co(),d=og(e,{relative:i});return S.useCallback(f=>{if(p1(f,n)){f.preventDefault();let h=r!==void 0?r:Ji(u)===Ji(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,r,s,n,e,o,i,a])}function cg(e,t){return function(){return e.apply(t,arguments)}}const{toString:b1}=Object.prototype,{getPrototypeOf:Hu}=Object,{iterator:El,toStringTag:ug}=Symbol,kl=(e=>t=>{const n=b1.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$t=e=>(e=e.toLowerCase(),t=>kl(t)===e),Cl=e=>t=>typeof t===e,{isArray:ds}=Array,es=Cl("undefined");function Ao(e){return e!==null&&!es(e)&&e.constructor!==null&&!es(e.constructor)&&st(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dg=$t("ArrayBuffer");function S1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&dg(e.buffer),t}const j1=Cl("string"),st=Cl("function"),fg=Cl("number"),To=e=>e!==null&&typeof e=="object",E1=e=>e===!0||e===!1,Ni=e=>{if(kl(e)!=="object")return!1;const t=Hu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ug in e)&&!(El in e)},k1=e=>{if(!To(e)||Ao(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},C1=$t("Date"),_1=$t("File"),A1=$t("Blob"),T1=$t("FileList"),P1=e=>To(e)&&st(e.pipe),R1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||st(e.append)&&((t=kl(e))==="formdata"||t==="object"&&st(e.toString)&&e.toString()==="[object FormData]"))},$1=$t("URLSearchParams"),[I1,O1,M1,L1]=["ReadableStream","Request","Response","Headers"].map($t),D1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Po(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),ds(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ao(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function hg(e,t){if(Ao(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Yn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pg=e=>!es(e)&&e!==Yn;function Ec(){const{caseless:e,skipUndefined:t}=pg(this)&&this||{},n={},r=(s,o)=>{const i=e&&hg(n,o)||o;Ni(n[i])&&Ni(s)?n[i]=Ec(n[i],s):Ni(s)?n[i]=Ec({},s):ds(s)?n[i]=s.slice():(!t||!es(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Po(arguments[s],r);return n}const F1=(e,t,n,{allOwnKeys:r}={})=>(Po(t,(s,o)=>{n&&st(s)?e[o]=cg(s,n):e[o]=s},{allOwnKeys:r}),e),z1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),U1=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},B1=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&Hu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},H1=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},W1=e=>{if(!e)return null;if(ds(e))return e;let t=e.length;if(!fg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},V1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hu(Uint8Array)),q1=(e,t)=>{const r=(e&&e[El]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},K1=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},X1=$t("HTMLFormElement"),Y1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Pf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),G1=$t("RegExp"),mg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Po(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},Q1=e=>{mg(e,(t,n)=>{if(st(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(st(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},J1=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return ds(e)?r(e):r(String(e).split(t)),n},Z1=()=>{},eN=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tN(e){return!!(e&&st(e.append)&&e[ug]==="FormData"&&e[El])}const nN=e=>{const t=new Array(10),n=(r,s)=>{if(To(r)){if(t.indexOf(r)>=0)return;if(Ao(r))return r;if(!("toJSON"in r)){t[s]=r;const o=ds(r)?[]:{};return Po(r,(i,a)=>{const c=n(i,s+1);!es(c)&&(o[a]=c)}),t[s]=void 0,o}}return r};return n(e,0)},rN=$t("AsyncFunction"),sN=e=>e&&(To(e)||st(e))&&st(e.then)&&st(e.catch),gg=((e,t)=>e?setImmediate:t?((n,r)=>(Yn.addEventListener("message",({source:s,data:o})=>{s===Yn&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Yn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",st(Yn.postMessage)),oN=typeof queueMicrotask<"u"?queueMicrotask.bind(Yn):typeof process<"u"&&process.nextTick||gg,iN=e=>e!=null&&st(e[El]),O={isArray:ds,isArrayBuffer:dg,isBuffer:Ao,isFormData:R1,isArrayBufferView:S1,isString:j1,isNumber:fg,isBoolean:E1,isObject:To,isPlainObject:Ni,isEmptyObject:k1,isReadableStream:I1,isRequest:O1,isResponse:M1,isHeaders:L1,isUndefined:es,isDate:C1,isFile:_1,isBlob:A1,isRegExp:G1,isFunction:st,isStream:P1,isURLSearchParams:$1,isTypedArray:V1,isFileList:T1,forEach:Po,merge:Ec,extend:F1,trim:D1,stripBOM:z1,inherits:U1,toFlatObject:B1,kindOf:kl,kindOfTest:$t,endsWith:H1,toArray:W1,forEachEntry:q1,matchAll:K1,isHTMLForm:X1,hasOwnProperty:Pf,hasOwnProp:Pf,reduceDescriptors:mg,freezeMethods:Q1,toObjectSet:J1,toCamelCase:Y1,noop:Z1,toFiniteNumber:eN,findKey:hg,global:Yn,isContextDefined:pg,isSpecCompliantForm:tN,toJSONObject:nN,isAsyncFn:rN,isThenable:sN,setImmediate:gg,asap:oN,isIterable:iN};function Z(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}O.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const xg=Z.prototype,yg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yg[e]={value:e}});Object.defineProperties(Z,yg);Object.defineProperty(xg,"isAxiosError",{value:!0});Z.from=(e,t,n,r,s,o)=>{const i=Object.create(xg);O.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Z.call(i,a,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const lN=null;function kc(e){return O.isPlainObject(e)||O.isArray(e)}function vg(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function Rf(e,t,n){return e?e.concat(t).map(function(s,o){return s=vg(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function aN(e){return O.isArray(e)&&!e.some(kc)}const cN=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function _l(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!O.isUndefined(b[x])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(O.isDate(g))return g.toISOString();if(O.isBoolean(g))return g.toString();if(!c&&O.isBlob(g))throw new Z("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(g)||O.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,x,b){let m=g;if(g&&!b&&typeof g=="object"){if(O.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(O.isArray(g)&&aN(g)||(O.isFileList(g)||O.endsWith(x,"[]"))&&(m=O.toArray(g)))return x=vg(x),m.forEach(function(w,v){!(O.isUndefined(w)||w===null)&&t.append(i===!0?Rf([x],v,o):i===null?x:x+"[]",u(w))}),!1}return kc(g)?!0:(t.append(Rf(b,x,o),u(g)),!1)}const f=[],h=Object.assign(cN,{defaultVisitor:d,convertValue:u,isVisitable:kc});function y(g,x){if(!O.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(g),O.forEach(g,function(m,p){(!(O.isUndefined(m)||m===null)&&s.call(t,m,O.isString(p)?p.trim():p,x,h))===!0&&y(m,x?x.concat(p):[p])}),f.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return y(e),t}function $f(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Wu(e,t){this._pairs=[],e&&_l(e,this,t)}const wg=Wu.prototype;wg.append=function(t,n){this._pairs.push([t,n])};wg.toString=function(t){const n=t?function(r){return t.call(this,r,$f)}:$f;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function uN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ng(e,t,n){if(!t)return e;const r=n&&n.encode||uN;O.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=O.isURLSearchParams(t)?t.toString():new Wu(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class If{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const bg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dN=typeof URLSearchParams<"u"?URLSearchParams:Wu,fN=typeof FormData<"u"?FormData:null,hN=typeof Blob<"u"?Blob:null,pN={isBrowser:!0,classes:{URLSearchParams:dN,FormData:fN,Blob:hN},protocols:["http","https","file","blob","url","data"]},Vu=typeof window<"u"&&typeof document<"u",Cc=typeof navigator=="object"&&navigator||void 0,mN=Vu&&(!Cc||["ReactNative","NativeScript","NS"].indexOf(Cc.product)<0),gN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xN=Vu&&window.location.href||"http://localhost",yN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vu,hasStandardBrowserEnv:mN,hasStandardBrowserWebWorkerEnv:gN,navigator:Cc,origin:xN},Symbol.toStringTag,{value:"Module"})),We={...yN,...pN};function vN(e,t){return _l(e,new We.classes.URLSearchParams,{visitor:function(n,r,s,o){return We.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function wN(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function NN(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function Sg(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&O.isArray(s)?s.length:i,c?(O.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!O.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&O.isArray(s[i])&&(s[i]=NN(s[i])),!a)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(r,s)=>{t(wN(r),s,n,0)}),n}return null}function bN(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ro={transitional:bg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=O.isObject(t);if(o&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return s?JSON.stringify(Sg(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vN(t,this.formSerializer).toString();if((a=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return _l(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),bN(t)):t}],transformResponse:[function(t){const n=this.transitional||Ro.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?Z.from(a,Z.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Ro.headers[e]={}});const SN=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jN=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&SN[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Of=Symbol("internals");function Es(e){return e&&String(e).trim().toLowerCase()}function bi(e){return e===!1||e==null?e:O.isArray(e)?e.map(bi):String(e)}function EN(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const kN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pa(e,t,n,r,s){if(O.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function CN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function _N(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let ot=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,c,u){const d=Es(c);if(!d)throw new Error("header name must be a non-empty string");const f=O.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=bi(a))}const i=(a,c)=>O.forEach(a,(u,d)=>o(u,d,c));if(O.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(O.isString(t)&&(t=t.trim())&&!kN(t))i(jN(t),n);else if(O.isObject(t)&&O.isIterable(t)){let a={},c,u;for(const d of t){if(!O.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?O.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Es(t),t){const r=O.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return EN(s);if(O.isFunction(n))return n.call(this,s,r);if(O.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Es(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||pa(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=Es(i),i){const a=O.findKey(r,i);a&&(!n||pa(r,r[a],a,n))&&(delete r[a],s=!0)}}return O.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||pa(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return O.forEach(this,(s,o)=>{const i=O.findKey(r,o);if(i){n[i]=bi(s),delete n[o];return}const a=t?CN(o):String(o).trim();a!==o&&delete n[o],n[a]=bi(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Of]=this[Of]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=Es(i);r[a]||(_N(s,i),r[a]=!0)}return O.isArray(t)?t.forEach(o):o(t),this}};ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(ot.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});O.freezeMethods(ot);function ma(e,t){const n=this||Ro,r=t||n,s=ot.from(r.headers);let o=r.data;return O.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function jg(e){return!!(e&&e.__CANCEL__)}function fs(e,t,n){Z.call(this,e??"canceled",Z.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(fs,Z,{__CANCEL__:!0});function Eg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function TN(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];i||(i=u),n[s]=c,r[s]=u;let f=o,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const y=d&&u-d;return y?Math.round(h*1e3/y):void 0}}function PN(e,t){let n=0,r=1e3/t,s,o;const i=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-f)))},()=>s&&i(s)]}const Zi=(e,t,n=3)=>{let r=0;const s=TN(50,250);return PN(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-r,u=s(c),d=i<=a;r=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Mf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Lf=e=>(...t)=>O.asap(()=>e(...t)),RN=We.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,We.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,$N=We.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];O.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),O.isString(r)&&i.push("path="+r),O.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ON(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kg(e,t,n){let r=!IN(t);return e&&(r||n==!1)?ON(e,t):t}const Df=e=>e instanceof ot?{...e}:e;function ar(e,t){t=t||{};const n={};function r(u,d,f,h){return O.isPlainObject(u)&&O.isPlainObject(d)?O.merge.call({caseless:h},u,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function s(u,d,f,h){if(O.isUndefined(d)){if(!O.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function o(u,d){if(!O.isUndefined(d))return r(void 0,d)}function i(u,d){if(O.isUndefined(d)){if(!O.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,d,f)=>s(Df(u),Df(d),f,!0)};return O.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);O.isUndefined(h)&&f!==a||(n[d]=h)}),n}const Cg=e=>{const t=ar({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=t;if(t.headers=i=ot.from(i),t.url=Ng(kg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),O.isFormData(n)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(O.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(We.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&RN(t.url))){const c=s&&o&&$N.read(o);c&&i.set(s,c)}return t},MN=typeof XMLHttpRequest<"u",LN=MN&&function(e){return new Promise(function(n,r){const s=Cg(e);let o=s.data;const i=ot.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,y,g;function x(){y&&y(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function m(){if(!b)return;const w=ot.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),j={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:e,request:b};Eg(function(A){n(A),x()},function(A){r(A),x()},j),b=null}"onloadend"in b?b.onloadend=m:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(m)},b.onabort=function(){b&&(r(new Z("Request aborted",Z.ECONNABORTED,e,b)),b=null)},b.onerror=function(v){const j=v&&v.message?v.message:"Network Error",E=new Z(j,Z.ERR_NETWORK,e,b);E.event=v||null,r(E),b=null},b.ontimeout=function(){let v=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||bg;s.timeoutErrorMessage&&(v=s.timeoutErrorMessage),r(new Z(v,j.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,b)),b=null},o===void 0&&i.setContentType(null),"setRequestHeader"in b&&O.forEach(i.toJSON(),function(v,j){b.setRequestHeader(j,v)}),O.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),u&&([h,g]=Zi(u,!0),b.addEventListener("progress",h)),c&&b.upload&&([f,y]=Zi(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=w=>{b&&(r(!w||w.type?new fs(null,e,b):w),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const p=AN(s.url);if(p&&We.protocols.indexOf(p)===-1){r(new Z("Unsupported protocol "+p+":",Z.ERR_BAD_REQUEST,e));return}b.send(o||null)})},DN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Z?d:new fs(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new Z(`timeout ${t} of ms exceeded`,Z.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>O.asap(a),c}},FN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},zN=async function*(e,t){for await(const n of UN(e))yield*FN(n,t)},UN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Ff=(e,t,n,r)=>{const s=zN(e,t);let o=0,i,a=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let f=d.byteLength;if(n){let h=o+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},zf=64*1024,{isFunction:Zo}=O,BN=(({Request:e,Response:t})=>({Request:e,Response:t}))(O.global),{ReadableStream:Uf,TextEncoder:Bf}=O.global,Hf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},HN=e=>{e=O.merge.call({skipUndefined:!0},BN,e);const{fetch:t,Request:n,Response:r}=e,s=t?Zo(t):typeof fetch=="function",o=Zo(n),i=Zo(r);if(!s)return!1;const a=s&&Zo(Uf),c=s&&(typeof Bf=="function"?(g=>x=>g.encode(x))(new Bf):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=o&&a&&Hf(()=>{let g=!1;const x=new n(We.origin,{body:new Uf,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!x}),d=i&&a&&Hf(()=>O.isReadableStream(new r("").body)),f={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(x,b)=>{let m=x&&x[g];if(m)return m.call(x);throw new Z(`Response type '${g}' is not supported`,Z.ERR_NOT_SUPPORT,b)})});const h=async g=>{if(g==null)return 0;if(O.isBlob(g))return g.size;if(O.isSpecCompliantForm(g))return(await new n(We.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(O.isArrayBufferView(g)||O.isArrayBuffer(g))return g.byteLength;if(O.isURLSearchParams(g)&&(g=g+""),O.isString(g))return(await c(g)).byteLength},y=async(g,x)=>{const b=O.toFiniteNumber(g.getContentLength());return b??h(x)};return async g=>{let{url:x,method:b,data:m,signal:p,cancelToken:w,timeout:v,onDownloadProgress:j,onUploadProgress:E,responseType:A,headers:C,withCredentials:$="same-origin",fetchOptions:D}=Cg(g),I=t||fetch;A=A?(A+"").toLowerCase():"text";let U=DN([p,w&&w.toAbortSignal()],v),z=null;const N=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let P;try{if(E&&u&&b!=="get"&&b!=="head"&&(P=await y(C,m))!==0){let M=new n(x,{method:"POST",body:m,duplex:"half"}),L;if(O.isFormData(m)&&(L=M.headers.get("content-type"))&&C.setContentType(L),M.body){const[q,V]=Mf(P,Zi(Lf(E)));m=Ff(M.body,zf,q,V)}}O.isString($)||($=$?"include":"omit");const T=o&&"credentials"in n.prototype,B={...D,signal:U,method:b.toUpperCase(),headers:C.normalize().toJSON(),body:m,duplex:"half",credentials:T?$:void 0};z=o&&new n(x,B);let _=await(o?I(z,D):I(x,B));const k=d&&(A==="stream"||A==="response");if(d&&(j||k&&N)){const M={};["status","statusText","headers"].forEach(W=>{M[W]=_[W]});const L=O.toFiniteNumber(_.headers.get("content-length")),[q,V]=j&&Mf(L,Zi(Lf(j),!0))||[];_=new r(Ff(_.body,zf,q,()=>{V&&V(),N&&N()}),M)}A=A||"text";let R=await f[O.findKey(f,A)||"text"](_,g);return!k&&N&&N(),await new Promise((M,L)=>{Eg(M,L,{data:R,headers:ot.from(_.headers),status:_.status,statusText:_.statusText,config:g,request:z})})}catch(T){throw N&&N(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,g,z),{cause:T.cause||T}):Z.from(T,T&&T.code,g,z)}}},WN=new Map,_g=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let i=o.length,a=i,c,u,d=WN;for(;a--;)c=o[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:HN(t)),d=u;return u};_g();const _c={http:lN,xhr:LN,fetch:{get:_g}};O.forEach(_c,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Wf=e=>`- ${e}`,VN=e=>O.isFunction(e)||e===null||e===!1,Ag={getAdapter:(e,t)=>{e=O.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let a;if(s=r,!VN(r)&&(s=_c[(a=String(r)).toLowerCase()],s===void 0))throw new Z(`Unknown adapter '${a}'`);if(s&&(O.isFunction(s)||(s=s.get(t))))break;o[a||"#"+i]=s}if(!s){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(Wf).join(`
`):" "+Wf(i[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:_c};function ga(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fs(null,e)}function Vf(e){return ga(e),e.headers=ot.from(e.headers),e.data=ma.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ag.getAdapter(e.adapter||Ro.adapter,e)(e).then(function(r){return ga(e),r.data=ma.call(e,e.transformResponse,r),r.headers=ot.from(r.headers),r},function(r){return jg(r)||(ga(e),r&&r.response&&(r.response.data=ma.call(e,e.transformResponse,r.response),r.response.headers=ot.from(r.response.headers))),Promise.reject(r)})}const Tg="1.12.2",Al={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Al[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const qf={};Al.transitional=function(t,n,r){function s(o,i){return"[Axios v"+Tg+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new Z(s(i," has been removed"+(n?" in "+n:"")),Z.ERR_DEPRECATED);return n&&!qf[i]&&(qf[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};Al.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function qN(e,t,n){if(typeof e!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new Z("option "+o+" must be "+c,Z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Z("Unknown option "+o,Z.ERR_BAD_OPTION)}}const Si={assertOptions:qN,validators:Al},Lt=Si.validators;let er=class{constructor(t){this.defaults=t||{},this.interceptors={request:new If,response:new If}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ar(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Si.assertOptions(r,{silentJSONParsing:Lt.transitional(Lt.boolean),forcedJSONParsing:Lt.transitional(Lt.boolean),clarifyTimeoutError:Lt.transitional(Lt.boolean)},!1),s!=null&&(O.isFunction(s)?n.paramsSerializer={serialize:s}:Si.assertOptions(s,{encode:Lt.function,serialize:Lt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Si.assertOptions(n,{baseUrl:Lt.spelling("baseURL"),withXsrfToken:Lt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&O.merge(o.common,o[n.method]);o&&O.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=ot.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!c){const g=[Vf.bind(this),void 0];for(g.unshift(...a),g.push(...u),h=g.length,d=Promise.resolve(n);f<h;)d=d.then(g[f++],g[f++]);return d}h=a.length;let y=n;for(;f<h;){const g=a[f++],x=a[f++];try{y=g(y)}catch(b){x.call(this,b);break}}try{d=Vf.call(this,y)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ar(this.defaults,t);const n=kg(t.baseURL,t.url,t.allowAbsoluteUrls);return Ng(n,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){er.prototype[t]=function(n,r){return this.request(ar(r||{},{method:t,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(ar(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}er.prototype[t]=n(),er.prototype[t+"Form"]=n(!0)});let KN=class Pg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new fs(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Pg(function(s){t=s}),cancel:t}}};function XN(e){return function(n){return e.apply(null,n)}}function YN(e){return O.isObject(e)&&e.isAxiosError===!0}const Ac={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ac).forEach(([e,t])=>{Ac[t]=e});function Rg(e){const t=new er(e),n=cg(er.prototype.request,t);return O.extend(n,er.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Rg(ar(e,s))},n}const Se=Rg(Ro);Se.Axios=er;Se.CanceledError=fs;Se.CancelToken=KN;Se.isCancel=jg;Se.VERSION=Tg;Se.toFormData=_l;Se.AxiosError=Z;Se.Cancel=Se.CanceledError;Se.all=function(t){return Promise.all(t)};Se.spread=XN;Se.isAxiosError=YN;Se.mergeConfig=ar;Se.AxiosHeaders=ot;Se.formToJSON=e=>Sg(O.isHTMLForm(e)?new FormData(e):e);Se.getAdapter=Ag.getAdapter;Se.HttpStatusCode=Ac;Se.default=Se;const{Axios:zC,AxiosError:UC,CanceledError:BC,isCancel:HC,CancelToken:WC,VERSION:VC,all:qC,Cancel:KC,isAxiosError:XC,spread:YC,toFormData:GC,AxiosHeaders:QC,HttpStatusCode:JC,formToJSON:ZC,getAdapter:e_,mergeConfig:t_}=Se,K=Se.create({baseURL:"/api",headers:{"Content-Type":"application/json"}}),Y={getHealth:()=>K.get("/health"),getStatus:()=>K.get("/status"),getProducts:(e=10,t=null)=>{const n={first:e};return t&&(n.after=t),K.get("/products",{params:n})},getProductById:e=>K.get(`/products/${e}`),searchProducts:(e,t=20,n=!1)=>K.get("/products/search",{params:{q:e,first:t,includeArchived:n}}),getOrders:(e=10,t=null)=>{const n={first:e};return t&&(n.after=t),K.get("/orders",{params:n})},getOrderById:e=>K.get(`/orders/${e}`),searchOrders:(e,t=20)=>K.get("/orders/search",{params:{q:e,first:t}}),getCustomers:(e=10,t=null)=>{const n={first:e};return t&&(n.after=t),K.get("/customers",{params:n})},getCustomerById:e=>K.get(`/customers/${e}`),searchCustomers:(e,t=20)=>K.get("/customers/search",{params:{q:e,first:t}}),getInventory:(e=10,t=null)=>{const n={first:e};return t&&(n.after=t),K.get("/inventory",{params:n})},getInventoryLocations:()=>K.get("/inventory/locations"),sendChatMessage:(e,t=[])=>K.post("/chat/message",{message:e,conversationHistory:t}),getChatStatus:()=>K.get("/chat/status"),getAIConfig:()=>K.get("/config/ai"),updateAIConfig:e=>K.put("/config/ai",e),getSystemPrompt:()=>K.get("/config/prompt"),getAvailableModels:()=>K.get("/config/models"),getChatbotConfig:()=>K.get("/config/chatbot"),updateChatbotConfig:e=>K.put("/config/chatbot",e),resetChatbotConfig:()=>K.post("/config/chatbot/reset"),previewSystemPrompt:()=>K.get("/config/chatbot/preview-prompt"),getSalesAnalytics:(e="7d")=>K.get("/analytics/sales",{params:{period:e}}),getAllSalesAnalytics:()=>K.get("/analytics/sales/all"),getInstoreSalesAnalytics:(e="7d")=>K.get("/analytics/instore/sales",{params:{period:e}}),getAllInstoreSalesAnalytics:()=>K.get("/analytics/instore/sales/all"),getChannelSalesAnalytics:(e="7d")=>K.get("/analytics/channels",{params:{period:e}}),getAllChannelSalesAnalytics:()=>K.get("/analytics/channels/all"),getPendingFulfillments:(e=!1,t=!1)=>K.get("/fulfillment/pending",{params:{includeDiscounts:e,includeSalePrices:t}}),getFulfillmentDetails:e=>K.get(`/fulfillment/${e}`),getAgents:(e=null)=>{const t={};return e!==null&&(t.activeOnly=e),K.get("/agents",{params:t})},getAgent:e=>K.get(`/agents/${e}`),createAgent:e=>K.post("/agents",e),updateAgent:(e,t)=>K.put(`/agents/${e}`,t),deleteAgent:e=>K.delete(`/agents/${e}`),activateAgent:e=>K.post(`/agents/${e}/activate`),deactivateAgent:e=>K.post(`/agents/${e}/deactivate`),executeAgent:(e,t)=>K.post(`/agents/${e}/execute`,t),getWorkflows:(e=null,t=null)=>{const n={};return e!==null&&(n.activeOnly=e),t!==null&&(n.triggerType=t),K.get("/workflows",{params:n})},getWorkflow:e=>K.get(`/workflows/${e}`),createWorkflow:e=>K.post("/workflows",e),updateWorkflow:(e,t)=>K.put(`/workflows/${e}`,t),deleteWorkflow:e=>K.delete(`/workflows/${e}`),activateWorkflow:e=>K.post(`/workflows/${e}/activate`),deactivateWorkflow:e=>K.post(`/workflows/${e}/deactivate`),executeWorkflow:(e,t)=>K.post(`/workflows/${e}/execute`,t),executePublicWorkflow:(e,t)=>K.post(`/workflows/public/${e}/execute`,t),getWorkflowSteps:e=>K.get(`/workflows/${e}/steps`),createWorkflowStep:(e,t)=>K.post(`/workflows/${e}/steps`,t),updateWorkflowStep:(e,t,n)=>K.put(`/workflows/${e}/steps/${t}`,n),deleteWorkflowStep:(e,t)=>K.delete(`/workflows/${e}/steps/${t}`),reorderWorkflowSteps:(e,t)=>K.post(`/workflows/${e}/steps/reorder`,t),getWorkflowExecutions:e=>K.get(`/workflows/${e}/executions`),getAllExecutions:()=>K.get("/executions"),getExecutionDetails:e=>K.get(`/executions/${e}`),getPendingApprovals:(e=null)=>{const t={};return e!==null&&(t.role=e),K.get("/approvals/pending",{params:t})},getApprovalsByExecution:e=>K.get(`/approvals/execution/${e}`),getApprovalCount:()=>K.get("/approvals/count"),approveRequest:(e,t,n)=>K.post(`/approvals/${e}/approve`,{approvedBy:t,comments:n}),rejectRequest:(e,t,n)=>K.post(`/approvals/${e}/reject`,{rejectedBy:t,reason:n}),getTools:(e=null)=>{const t={};return e!==null&&(t.activeOnly=e),K.get("/tools",{params:t})},getTool:e=>K.get(`/tools/${e}`),createTool:e=>K.post("/tools",e),updateTool:(e,t)=>K.put(`/tools/${e}`,t),deleteTool:e=>K.delete(`/tools/${e}`),getSchedules:(e=!0)=>{const t={};return e!==null&&(t.active=e),K.get("/schedules",{params:t})},getSchedulesForWorkflow:e=>K.get(`/schedules/workflow/${e}`),createSchedule:(e,t,n=null)=>K.post("/schedules",{workflowId:e,cronExpression:t,triggerData:n}),cancelSchedule:e=>K.delete(`/schedules/${e}`),activateSchedule:e=>K.put(`/schedules/${e}/activate`),updateScheduleCron:(e,t)=>K.put(`/schedules/${e}/cron`,{cronExpression:t}),updateScheduleTriggerData:(e,t)=>K.put(`/schedules/${e}/trigger-data`,t)};function GN(){const e=Co(),[t,n]=S.useState(0);S.useEffect(()=>{r();const i=setInterval(r,3e4);return()=>clearInterval(i)},[]);const r=async()=>{try{const i=await Y.getApprovalCount();n(i.data.count)}catch(i){console.error("Error loading approval count:",i)}},s=[{path:"/",label:"Dashboard",icon:"🏠"},{path:"/products",label:"Product Search",icon:"🔍"},{path:"/chat",label:"AI Chat Agent",icon:"💬"},{path:"/fulfillment",label:"Orders to Fulfill",icon:"📦"},{path:"/agents",label:"Agents",icon:"🤖"},{path:"/workflows",label:"Workflows",icon:"🔄"},{path:"/workflow-gallery",label:"Workflow Gallery",icon:"🎨"},{path:"/executions",label:"Executions",icon:"📈"},{path:"/approvals",label:"Approvals",icon:"✅",badge:t},{path:"/settings",label:"Settings",icon:"⚙️"},{path:"/analytics",label:"Analytics",icon:"📊"},{path:"/market-intel",label:"Market Intel",icon:"💰"}],o=i=>i==="/workflows"?e.pathname.startsWith("/workflows"):i==="/agents"?e.pathname.startsWith("/agents"):i==="/executions"?e.pathname.startsWith("/executions"):i==="/approvals"?e.pathname.startsWith("/approvals"):e.pathname===i;return l.jsx("nav",{className:"bg-white shadow-md",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("h1",{className:"text-xl font-bold text-primary-600",children:"Customer Service Hub"})}),l.jsx("div",{className:"flex space-x-4",children:s.map(i=>l.jsxs(jc,{to:i.path,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 relative ${o(i.path)?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[l.jsx("span",{className:"mr-2",children:i.icon}),i.label,i.badge>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:i.badge})]},i.path))})]})})})}function QN(){const[e,t]=S.useState(null),[n,r]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const i=await Y.getStatus();t(i.data)}catch(i){console.error("Error fetching status:",i)}finally{r(!1)}})()},[]);const s=[{title:"Product Search",description:"Search products, view details, and generate cart links",icon:"🔍",path:"/products",status:"Active",color:"bg-green-100 text-green-800"},{title:"AI Chat Agent",description:"Sales and customer support automation",icon:"💬",path:"/chat",status:"Active",color:"bg-green-100 text-green-800"},{title:"Orders to Fulfill",description:"View Shopify orders pending CRS fulfillment",icon:"📦",path:"/fulfillment",status:"Active",color:"bg-orange-100 text-orange-800"},{title:"Analytics Dashboard",description:"Business insights and reporting",icon:"📊",path:"/analytics",status:"Active",color:"bg-green-100 text-green-800"},{title:"Market Intelligence",description:"Competitive pricing and discount tracking",icon:"💰",path:"/market-intel",status:"Coming Soon",color:"bg-yellow-100 text-yellow-800"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Welcome to Customer Service Hub"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Your central tool for sales, support, and business intelligence"})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"System Status"}),n?l.jsx("div",{className:"text-gray-500",children:"Loading status..."}):e?l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:e.shopify_connected?"✅":"❌"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Shopify Connected"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:e.api_version}),l.jsx("div",{className:"text-sm text-gray-600",children:"API Version"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:e.environment}),l.jsx("div",{className:"text-sm text-gray-600",children:"Environment"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:"UP"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Service Status"})]})]}):l.jsx("div",{className:"text-red-500",children:"Unable to fetch status"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(o=>l.jsx(jc,{to:o.path,className:"card hover:shadow-lg transition-shadow duration-200",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-4xl mb-3",children:o.icon}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o.title}),l.jsx("p",{className:"text-gray-600 mb-3",children:o.description}),l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${o.color}`,children:o.status})]})})},o.path))}),l.jsx("div",{className:"card bg-primary-50 border border-primary-200",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quick Product Search"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Search for products and generate cart links instantly"}),l.jsx(jc,{to:"/products",className:"btn-primary inline-block",children:"Go to Product Search →"})]})})]})}function JN({value:e,onChange:t,onSearch:n,loading:r}){const[s,o]=S.useState(e),i=u=>{u.preventDefault(),n(s)},a=u=>{const d=u.target.value;o(d),t(d)},c=()=>{o(""),t(""),n("")};return l.jsxs("form",{onSubmit:i,className:"card",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:"text",value:s,onChange:a,placeholder:"Search by product name, SKU, or keyword...",className:"input-field pr-10",disabled:r}),s&&l.jsx("button",{type:"button",onClick:c,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"✕"})]}),l.jsx("button",{type:"submit",disabled:r||!s.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:r?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"}),"Searching..."]}):l.jsx("span",{children:"🔍 Search"})})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[l.jsx("strong",{children:"Search tips:"}),' Try "title:Gundam" for title search, or just "Gundam" for general search']})]})}function ZN({product:e,onClick:t}){var a,c,u,d,f,h,y,g;const n=(d=(u=(c=(a=e.images)==null?void 0:a.edges)==null?void 0:c[0])==null?void 0:u.node)==null?void 0:d.url,r=(y=(h=(f=e.variants)==null?void 0:f.edges)==null?void 0:h[0])==null?void 0:y.node,s=(r==null?void 0:r.price)||"N/A",o=(r==null?void 0:r.sku)||"N/A",i={ACTIVE:"bg-green-100 text-green-800",DRAFT:"bg-yellow-100 text-yellow-800",ARCHIVED:"bg-red-100 text-red-800"};return l.jsxs("div",{onClick:t,className:"card hover:shadow-xl transition-all duration-200 cursor-pointer group",children:[l.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden mb-4",children:[n?l.jsx("img",{src:n,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-4xl",children:"📦"}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${i[e.status]||"bg-gray-100 text-gray-800"}`,children:e.status})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2 group-hover:text-primary-600 transition-colors",children:e.title}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-gray-600",children:["SKU: ",o]}),l.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["$",s]})]}),e.vendor&&l.jsxs("div",{className:"text-sm text-gray-500",children:["Vendor: ",e.vendor]}),((g=e.variants)==null?void 0:g.edges)&&l.jsxs("div",{className:"text-sm text-gray-500",children:[e.variants.edges.length," variant",e.variants.edges.length!==1?"s":""]})]}),l.jsx("div",{className:"mt-4 text-center text-sm text-primary-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click for details →"})]})}function eb({variants:e,selectedVariant:t,onSelectVariant:n}){return!e||e.length===0?null:e.length===1&&e[0].title==="Default Title"?l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Variant Information"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"SKU:"}),l.jsx("span",{className:"ml-2 font-medium",children:e[0].sku||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Price:"}),l.jsxs("span",{className:"ml-2 font-medium text-primary-600",children:["$",e[0].price]})]}),e[0].inventoryQuantity!==void 0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"In Stock:"}),l.jsxs("span",{className:"ml-2 font-medium",children:[e[0].inventoryQuantity," units"]})]})]})})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Select Variant"}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map(r=>{const s=(t==null?void 0:t.id)===r.id;return l.jsx("button",{onClick:()=>n(r),className:`text-left p-4 rounded-lg border-2 transition-all duration-200 ${s?"border-primary-500 bg-primary-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-gray-900",children:r.title}),s&&l.jsx("span",{className:"text-primary-600",children:"✓"})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[r.sku&&l.jsxs("span",{children:["SKU: ",r.sku]}),r.inventoryQuantity!==void 0&&l.jsxs("span",{children:["Stock: ",r.inventoryQuantity]})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-lg font-bold text-primary-600",children:["$",r.price]})})]})},r.id)})}),t&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:["Selected: ",l.jsx("strong",{children:t.title})," - $",t.price]})]})}function tb({product:e,onClose:t}){var d,f,h,y,g,x,b,m;const[n,r]=S.useState(((h=(f=(d=e.variants)==null?void 0:d.edges)==null?void 0:f[0])==null?void 0:h.node)||null),s="hearnshobbies.myshopify.com",o=e.onlineStoreUrl||(e.handle?`https://${s}/products/${e.handle}`:null),a=n?((p,w=1)=>{if(!p)return null;const v=p.includes("/")?p.substring(p.lastIndexOf("/")+1):p;return`https://${s}/cart/${v}:${w}`})(n.id):null,c=(p,w)=>{navigator.clipboard.writeText(p),alert(`${w} link copied to clipboard!`)},u=p=>{window.open(p,"_blank")};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Product Details"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{children:(b=(x=(g=(y=e.images)==null?void 0:y.edges)==null?void 0:g[0])==null?void 0:x.node)!=null&&b.url?l.jsx("img",{src:e.images.edges[0].node.url,alt:e.title,className:"w-full rounded-lg shadow-md"}):l.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 text-6xl",children:"📦"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.title}),l.jsx("div",{className:"flex items-center gap-2 text-sm",children:l.jsx("span",{className:`px-3 py-1 rounded-full ${e.status==="ACTIVE"?"bg-green-100 text-green-800":e.status==="DRAFT"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.status})})]}),e.description&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"Description"}),l.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),e.vendor&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"Vendor"}),l.jsx("p",{className:"text-gray-600",children:e.vendor})]}),e.productType&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"Product Type"}),l.jsx("p",{className:"text-gray-600",children:e.productType})]}),e.tags&&e.tags.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((p,w)=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:p},w))})]})]})]}),((m=e.variants)==null?void 0:m.edges)&&e.variants.edges.length>0&&l.jsx("div",{className:"border-t border-gray-200 pt-6",children:l.jsx(eb,{variants:e.variants.edges.map(p=>p.node),selectedVariant:n,onSelectVariant:r})}),l.jsxs("div",{className:"border-t border-gray-200 pt-6 space-y-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:"Actions"}),o&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Product Page"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:o,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm"}),l.jsx("button",{onClick:()=>c(o,"Product"),className:"btn-secondary",children:"📋 Copy"}),l.jsx("button",{onClick:()=>u(o),className:"btn-primary",children:"🔗 View"})]})]}),a&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Add to Cart Link",n&&l.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",n.title,")"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm"}),l.jsx("button",{onClick:()=>c(a,"Cart"),className:"btn-secondary",children:"📋 Copy"}),l.jsx("button",{onClick:()=>u(a),className:"btn-primary",children:"🛒 Add to Cart"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Share this link with customers. When clicked, the item will be automatically added to their cart."})]})]}),l.jsx("div",{className:"border-t border-gray-200 pt-6",children:l.jsx("button",{onClick:t,className:"w-full btn-secondary",children:"Close"})})]})]})})}function nb(){const[e,t]=S.useState(""),[n,r]=S.useState([]),[s,o]=S.useState(!1),[i,a]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(!1),h=async x=>{var b;if(!x.trim()){r([]);return}o(!0),a(null);try{const m=await Y.searchProducts(x,20,d);if(m.data.success&&m.data.data){const w=(((b=m.data.data.products)==null?void 0:b.edges)||[]).map(v=>v.node);r(w),w.length===0&&a("No products found matching your search.")}else a("Failed to fetch products. Please try again.")}catch(m){console.error("Search error:",m),a("An error occurred while searching. Please try again.")}finally{o(!1)}},y=x=>{u(x)},g=()=>{u(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Product Search"}),l.jsx("p",{className:"text-gray-600",children:"Search for products and generate cart links for customers"})]}),l.jsx(JN,{value:e,onChange:t,onSearch:h,loading:s}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"includeArchived",checked:d,onChange:x=>f(x.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"includeArchived",className:"text-sm text-gray-700 cursor-pointer select-none",children:"Include archived products"})]}),i&&l.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:i}),s&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Searching products..."})]}),!s&&n.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Found ",n.length," product",n.length!==1?"s":""]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(x=>l.jsx(ZN,{product:x,onClick:()=>y(x)},x.id))})]}),!s&&!i&&n.length===0&&e&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),l.jsx("p",{children:"Enter a search term to find products"})]}),!s&&!e&&l.jsxs("div",{className:"card bg-blue-50 border border-blue-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How to use Product Search"}),l.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[l.jsx("li",{children:"Enter product name, SKU, or keyword in the search box"}),l.jsx("li",{children:"Click on a product card to view full details"}),l.jsx("li",{children:'Use "View Product" to open the product page'}),l.jsx("li",{children:'Use "Add to Cart" to generate a direct cart link'}),l.jsx("li",{children:"Share cart links with customers via email, SMS, or chat"})]})]}),c&&l.jsx(tb,{product:c,onClose:g})]})}function rb({message:e}){const t=e.role==="user",n=e.timestamp?new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",r=s=>{const o=/(https?:\/\/[^\s]+)/g;return s.split(o).map((a,c)=>{if(a.match(o)){const u=a.includes("/cart/");return l.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:`underline ${u?"text-blue-600 font-semibold":"text-blue-500"}`,children:u?"🛒 Add to Cart":a},c)}return l.jsx("span",{children:a},c)})};return l.jsxs("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:[l.jsxs("div",{className:`max-w-3/4 ${t?"order-2":"order-1"}`,children:[l.jsx("div",{className:`rounded-lg px-4 py-3 ${t?"bg-primary-600 text-white":"bg-gray-200 text-gray-900"}`,children:l.jsx("div",{className:"whitespace-pre-wrap break-words",children:r(e.content)})}),n&&l.jsx("div",{className:`text-xs text-gray-500 mt-1 ${t?"text-right":"text-left"}`,children:n})]}),!t&&l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center mr-2 order-0",children:l.jsx("span",{className:"text-primary-600",children:"🤖"})}),t&&l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center ml-2 order-3",children:l.jsx("span",{children:"👤"})})]})}function sb({onSend:e,disabled:t}){const[n,r]=S.useState(""),s=i=>{i.preventDefault(),n.trim()&&!t&&(e(n),r(""))},o=i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),s(i))};return l.jsxs("form",{onSubmit:s,className:"border-t border-gray-200 bg-white p-4",children:[l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsx("textarea",{value:n,onChange:i=>r(i.target.value),onKeyPress:o,placeholder:"Ask about Gundam models, product recommendations, or anything else...",disabled:t,className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed resize-none",rows:"2"}),l.jsx("button",{type:"submit",disabled:t||!n.trim(),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors h-12",children:t?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send"})]}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})}function ob(){const[e,t]=S.useState([]),[n,r]=S.useState(!1),[s,o]=S.useState(null),[i,a]=S.useState(null),c=S.useRef(null),u=()=>{var y;(y=c.current)==null||y.scrollIntoView({behavior:"smooth"})};S.useEffect(()=>{u()},[e]),S.useEffect(()=>{d(),t([{role:"assistant",content:"Hello! 👋 I'm your Gundam store assistant. I can help you find the perfect model kit, answer questions about products, and generate direct purchase links. How can I assist you today?",timestamp:Date.now()}])},[]);const d=async()=>{try{const y=await Y.getChatStatus();y.data.success&&a(y.data.data)}catch(y){console.error("Error loading chat status:",y)}},f=async y=>{const g={role:"user",content:y,timestamp:Date.now()};t(x=>[...x,g]),r(!0),o(null);try{const x=await Y.sendChatMessage(y,e);if(x.data.success&&x.data.data){const b={role:"assistant",content:x.data.data.content,timestamp:x.data.data.timestamp||Date.now()};t(m=>[...m,b])}else o("Failed to get response from assistant")}catch(x){console.error("Error sending message:",x),o("An error occurred while sending your message. Please try again.");const b={role:"assistant",content:"I apologize, but I'm having trouble processing your request. Please try again or use the Product Search page to browse our catalog.",timestamp:Date.now()};t(m=>[...m,b])}finally{r(!1)}},h=()=>{t([{role:"assistant",content:"Chat cleared! How can I help you today?",timestamp:Date.now()}]),o(null)};return l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"🤖 AI Chat Assistant"}),l.jsx("p",{className:"text-gray-600",children:"Ask about products, get recommendations, and receive direct purchase links"})]}),l.jsx("button",{onClick:h,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Clear Chat"})]}),i&&l.jsx("div",{className:"mt-4 p-3 bg-primary-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center text-sm text-primary-800",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),l.jsx("span",{className:"font-semibold",children:i.provider}),l.jsx("span",{className:"mx-2",children:"•"}),l.jsx("span",{children:i.description})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col",style:{height:"calc(100vh - 320px)"},children:[l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.map((y,g)=>l.jsx(rb,{message:y},g)),n&&l.jsx("div",{className:"flex justify-start mb-4",children:l.jsx("div",{className:"bg-gray-200 rounded-lg px-4 py-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),s&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:l.jsx("p",{className:"text-red-800 text-sm",children:s})}),l.jsx("div",{ref:c})]}),l.jsx(sb,{onSend:f,disabled:n})]}),l.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Try asking:"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["Show me popular Gundam models under $50","What's the difference between HG and MG kits?","I'm a beginner, what model should I start with?","Do you have any limited edition kits in stock?"].map((y,g)=>l.jsx("button",{onClick:()=>!n&&f(y),disabled:n,className:"text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-primary-300 transition-colors text-sm text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y},g))})]})]})}function ib(){const[e,t]=S.useState("ai"),[n,r]=S.useState({model:"",maxTokens:1024,temperature:.7}),[s,o]=S.useState(""),[i,a]=S.useState([]),[c,u]=S.useState(null),[d,f]=S.useState({storeName:"",storeDescription:"",storeCategories:"",scopeInstructions:"",outOfScopeResponse:"",requireSearchBeforeRecommendation:!0,enableProductSearch:!0,maxSearchResults:5,toneOfVoice:"friendly",includeCartLinks:!0,showPrices:!0,showSkus:!0,customInstructions:""}),[h,y]=S.useState(null),[g,x]=S.useState(""),[b,m]=S.useState(!0),[p,w]=S.useState(!1),[v,j]=S.useState(null);S.useEffect(()=>{E()},[e]);const E=async()=>{try{if(m(!0),e==="ai"){const[N,P,T]=await Promise.all([Y.getAIConfig(),Y.getSystemPrompt(),Y.getAvailableModels()]);r(N.data),u(N.data),o(P.data.prompt),a(T.data.models)}else if(e==="chatbot"){const[N,P]=await Promise.all([Y.getChatbotConfig(),Y.previewSystemPrompt()]);f(N.data),y(N.data),x(P.data.prompt)}}catch(N){console.error("Error loading settings:",N),j({type:"error",text:"Failed to load settings"})}finally{m(!1)}},A=async()=>{var N,P;try{w(!0),j(null);const T=await Y.updateAIConfig(n);u(n),j({type:"success",text:T.data.message||"AI settings saved successfully (runtime only)"})}catch(T){console.error("Error saving AI settings:",T),j({type:"error",text:((P=(N=T.response)==null?void 0:N.data)==null?void 0:P.message)||"Failed to save AI settings"})}finally{w(!1)}},C=async()=>{var N,P;try{w(!0),j(null);const T=await Y.updateChatbotConfig(d);y(d);const B=await Y.previewSystemPrompt();x(B.data.prompt),j({type:"success",text:T.data.message||"Chatbot settings saved successfully (runtime only)"})}catch(T){console.error("Error saving chatbot settings:",T),j({type:"error",text:((P=(N=T.response)==null?void 0:N.data)==null?void 0:P.message)||"Failed to save chatbot settings"})}finally{w(!1)}},$=async()=>{try{w(!0),j(null);const N=await Y.resetChatbotConfig();f(N.data.config),y(N.data.config);const P=await Y.previewSystemPrompt();x(P.data.prompt),j({type:"success",text:"Chatbot configuration reset to defaults"})}catch(N){console.error("Error resetting chatbot settings:",N),j({type:"error",text:"Failed to reset chatbot settings"})}finally{w(!1)}},D=()=>{r(c),j({type:"info",text:"AI settings reset to last saved values"})},I=()=>{f(h),j({type:"info",text:"Chatbot settings reset to last saved values"})},U=()=>JSON.stringify(n)!==JSON.stringify(c),z=()=>JSON.stringify(d)!==JSON.stringify(h);return b?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading settings..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),l.jsx("p",{className:"text-gray-600",children:"Manage AI chatbot configuration and behavior"})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsx("button",{onClick:()=>t("ai"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="ai"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"AI Parameters"}),l.jsx("button",{onClick:()=>t("chatbot"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="chatbot"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Chatbot Configuration"})]})}),v&&l.jsx("div",{className:`p-4 rounded-lg ${v.type==="success"?"bg-green-100 text-green-800":v.type==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:v.text}),e==="ai"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"AI Model Settings"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),l.jsx("select",{value:n.model,onChange:N=>r({...n,model:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:i.map(N=>l.jsx("option",{value:N,children:N},N))}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select which Claude model to use for chat responses"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",n.temperature.toFixed(2)]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:n.temperature,onChange:N=>r({...n,temperature:parseFloat(N.target.value)}),className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"More Focused (0.0)"}),l.jsx("span",{children:"More Creative (1.0)"})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Controls randomness in responses. Lower values are more focused and deterministic"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens"}),l.jsx("input",{type:"number",min:"256",max:"4096",step:"256",value:n.maxTokens,onChange:N=>r({...n,maxTokens:parseInt(N.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum length of AI responses (256-4096 tokens)"})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx("button",{onClick:A,disabled:p||!U(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":"Save Changes"}),l.jsx("button",{onClick:D,disabled:!U(),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset"})]}),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Note:"})," Runtime changes only. Restart resets to defaults."]})})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Generated System Prompt"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:l.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:s})}),l.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:["This prompt is dynamically generated from your chatbot configuration. Use the ",l.jsx("strong",{children:"Chatbot Configuration"})," tab to customize it."]})})]})]}),e==="chatbot"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Store Identity"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name"}),l.jsx("input",{type:"text",value:d.storeName,onChange:N=>f({...d,storeName:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Hearn's Hobbies"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Description"}),l.jsx("input",{type:"text",value:d.storeDescription,onChange:N=>f({...d,storeDescription:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., An online hobby store specializing in model kits"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Categories"}),l.jsx("input",{type:"text",value:d.storeCategories,onChange:N=>f({...d,storeCategories:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., model kits, hobby paints, tools"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comma-separated list of product categories"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Behavior Rules"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scope Instructions"}),l.jsx("textarea",{value:d.scopeInstructions,onChange:N=>f({...d,scopeInstructions:N.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Describe what products your store sells and specializes in"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Out-of-Scope Response"}),l.jsx("textarea",{value:d.outOfScopeResponse,onChange:N=>f({...d,outOfScopeResponse:N.target.value}),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"What to say when asked about products you don't carry"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"requireSearch",checked:d.requireSearchBeforeRecommendation,onChange:N=>f({...d,requireSearchBeforeRecommendation:N.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"requireSearch",className:"ml-2 block text-sm text-gray-700",children:"Always search catalog before making recommendations"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Tool Configuration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"enableSearch",checked:d.enableProductSearch,onChange:N=>f({...d,enableProductSearch:N.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"enableSearch",className:"ml-2 block text-sm text-gray-700",children:"Enable product search tool"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Max Search Results: ",d.maxSearchResults]}),l.jsx("input",{type:"range",min:"1",max:"20",value:d.maxSearchResults,onChange:N=>f({...d,maxSearchResults:parseInt(N.target.value)}),className:"w-full"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum number of products returned per search"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Response Style"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tone of Voice"}),l.jsxs("select",{value:d.toneOfVoice,onChange:N=>f({...d,toneOfVoice:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[l.jsx("option",{value:"professional",children:"Professional"}),l.jsx("option",{value:"friendly",children:"Friendly"}),l.jsx("option",{value:"enthusiastic",children:"Enthusiastic"}),l.jsx("option",{value:"casual",children:"Casual"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"includeCartLinks",checked:d.includeCartLinks,onChange:N=>f({...d,includeCartLinks:N.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"includeCartLinks",className:"ml-2 block text-sm text-gray-700",children:"Include 'Add to Cart' links in responses"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"showPrices",checked:d.showPrices,onChange:N=>f({...d,showPrices:N.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"showPrices",className:"ml-2 block text-sm text-gray-700",children:"Show product prices"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"showSkus",checked:d.showSkus,onChange:N=>f({...d,showSkus:N.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"showSkus",className:"ml-2 block text-sm text-gray-700",children:"Show SKU information"})]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Custom Instructions"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Instructions (Optional)"}),l.jsx("textarea",{value:d.customInstructions,onChange:N=>f({...d,customInstructions:N.target.value}),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Add any additional custom instructions for the AI..."}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional custom instructions that will be appended to the system prompt"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:C,disabled:p||!z(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":"Save Changes"}),l.jsx("button",{onClick:I,disabled:!z(),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),l.jsx("button",{onClick:$,disabled:p,className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset to Defaults"})]}),l.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Note:"})," Runtime changes only. Restart resets to application.yml defaults."]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Generated System Prompt Preview"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 max-h-96 overflow-y-auto",children:l.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:g})}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This is the system prompt that will be sent to Claude based on your configuration"})]})]})]})}var $g={exports:{}},lb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ab=lb,cb=ab;function Ig(){}function Og(){}Og.resetWarningCache=Ig;var ub=function(){function e(r,s,o,i,a,c){if(c!==cb){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Og,resetWarningCache:Ig};return n.PropTypes=n,n};$g.exports=ub();var db=$g.exports;const oe=qc(db);function pe({title:e,value:t,currency:n,comparisonData:r,icon:s,type:o}){const i=d=>d==null?"0.00":parseFloat(d).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=d=>{switch(d){case"up":return"↑";case"down":return"↓";default:return"→"}},c=d=>{switch(d){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}},u=d=>{switch(d){case"sales":return"bg-blue-50 border-blue-200";case"average":return"bg-purple-50 border-purple-200";case"freight":return"bg-orange-50 border-orange-200";case"discount":return"bg-pink-50 border-pink-200";default:return"bg-gray-50 border-gray-200"}};return l.jsxs("div",{className:`card ${u(o)}`,children:[l.jsx("div",{className:"flex items-start justify-between mb-3",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s&&l.jsx("span",{className:"text-2xl",children:s}),l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e})]}),l.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[n&&l.jsx("span",{className:"text-2xl",children:n}),i(t)]})]})}),r&&l.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"vs. Last Year"}),l.jsxs("div",{className:`flex items-center gap-1 font-semibold ${c(r.trend)}`,children:[l.jsx("span",{children:a(r.trend)}),l.jsxs("span",{children:[r.percentageChange>0?"+":"",i(r.percentageChange),"%"]})]})]}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Previous: ",n,i(r.previousValue)]})]})]})}pe.propTypes={title:oe.string.isRequired,value:oe.oneOfType([oe.string,oe.number]),currency:oe.string,comparisonData:oe.shape({previousValue:oe.oneOfType([oe.string,oe.number]),percentageChange:oe.oneOfType([oe.string,oe.number]),trend:oe.oneOf(["up","down","neutral"])}),icon:oe.string,type:oe.oneOf(["sales","average","freight","discount"])};pe.defaultProps={value:0,currency:"$",comparisonData:null,icon:null,type:"sales"};function fb(){var $,D,I,U,z,N,P,T,B,_,k,R,M,L,q,V;const[e,t]=S.useState(null),[n,r]=S.useState(null),[s,o]=S.useState(!0),[i,a]=S.useState(!0),[c,u]=S.useState(null),[d,f]=S.useState(null),[h,y]=S.useState("7d"),[g,x]=S.useState("online"),b=[{id:"1d",label:"1 Day",icon:"📅"},{id:"7d",label:"7 Days",icon:"📊"},{id:"30d",label:"30 Days",icon:"📈"},{id:"90d",label:"90 Days",icon:"📉"}],m=[{id:"online",label:"Online Sales",icon:"🛒"},{id:"channels",label:"All Channels",icon:"📊"}];S.useEffect(()=>{p(),w()},[]);const p=async()=>{o(!0),u(null);try{const W=await Y.getAllSalesAnalytics();t(W.data.data)}catch(W){console.error("Error fetching analytics:",W),u("Failed to load analytics data. Please try again.")}finally{o(!1)}},w=async()=>{a(!0),f(null);try{const W=await Y.getAllChannelSalesAnalytics();r(W.data.data)}catch(W){console.error("Error fetching channel analytics:",W),f("Failed to load channel analytics data. Please try again.")}finally{a(!1)}},v=()=>{p(),w()},j=()=>g==="channels"?!n||!n[h]?null:n[h]:!e||!e[h]?null:e[h],E=g==="online"?s:i,A=g==="online"?c:d,C=j();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Analytics"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Track your sales performance with year-over-year comparisons"})]}),l.jsx("button",{onClick:v,disabled:s||i,className:"btn-secondary",children:s||i?"Refreshing...":"🔄 Refresh"})]}),l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex gap-2",children:m.map(W=>l.jsxs("button",{onClick:()=>x(W.id),className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all ${g===W.id?"bg-primary-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx("span",{className:"text-xl mr-2",children:W.icon}),W.label]},W.id))})}),l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex gap-2 overflow-x-auto",children:b.map(W=>l.jsxs("button",{onClick:()=>y(W.id),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all ${h===W.id?"bg-primary-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:W.icon}),l.jsx("div",{className:"text-sm",children:W.label})]},W.id))})}),A&&l.jsx("div",{className:"card bg-red-50 border-red-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-3xl",children:"⚠️"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-red-900",children:"Error Loading Analytics"}),l.jsx("p",{className:"text-red-700 text-sm",children:A})]})]})}),E&&l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin text-5xl mb-4",children:"⚙️"}),l.jsx("p",{className:"text-gray-600",children:"Loading analytics data..."})]})})}),!E&&!A&&C&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"card bg-blue-50 border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900",children:[($=b.find(W=>W.id===h))==null?void 0:$.label," Report"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g==="channels"?`${C.totalOrders||0} orders processed`:`${C.orderCount||0} orders processed`})]}),l.jsxs("div",{className:"text-right text-sm text-gray-600",children:[l.jsxs("div",{children:["From: ",new Date(C.periodStart).toLocaleDateString()]}),l.jsxs("div",{children:["To: ",new Date(C.periodEnd).toLocaleDateString()]})]})]})}),g==="online"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(pe,{title:"Total Sales",value:C.totalSales,currency:C.currencyCode==="AUD"?"$":C.currencyCode,comparisonData:C.yearOverYearComparison,icon:"💰",type:"sales"}),l.jsx(pe,{title:"Average Sale",value:C.averageSale,currency:C.currencyCode==="AUD"?"$":C.currencyCode,comparisonData:null,icon:"📊",type:"average"}),l.jsx(pe,{title:"Total Freight Paid",value:C.totalFreight,currency:C.currencyCode==="AUD"?"$":C.currencyCode,comparisonData:null,icon:"🚚",type:"freight"}),l.jsx(pe,{title:"Total Discounts Given",value:C.totalDiscounts,currency:C.currencyCode==="AUD"?"$":C.currencyCode,comparisonData:null,icon:"🏷️",type:"discount"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"📊 Grand Total (No Double-Counting)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(pe,{title:"Total Revenue",value:C.totalRevenue||0,currency:"$",comparisonData:C.yearOverYearComparison,icon:"💰",type:"sales"}),l.jsx(pe,{title:"Total Orders",value:C.totalOrders||0,currency:"",comparisonData:null,icon:"📦",type:"orders"}),l.jsx(pe,{title:"Total Items Sold",value:C.totalItems||0,currency:"",comparisonData:null,icon:"📋",type:"orders"})]})]}),l.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🏪 Pure In-Store Sales (Walk-in Customers)"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"The Hobbyman (Narre Warren)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{title:"Revenue",value:((D=C.hobbyman)==null?void 0:D.revenue)||0,currency:"$",comparisonData:null,icon:"💵",type:"sales"}),l.jsx(pe,{title:"Orders",value:((I=C.hobbyman)==null?void 0:I.orderCount)||0,currency:"",comparisonData:null,icon:"🛍️",type:"orders"}),l.jsx(pe,{title:"Items Sold",value:((U=C.hobbyman)==null?void 0:U.itemCount)||0,currency:"",comparisonData:null,icon:"📦",type:"orders"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Hearns Hobbies (Melbourne CBD)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{title:"Revenue",value:((z=C.hearnsHobbies)==null?void 0:z.revenue)||0,currency:"$",comparisonData:null,icon:"💵",type:"sales"}),l.jsx(pe,{title:"Orders",value:((N=C.hearnsHobbies)==null?void 0:N.orderCount)||0,currency:"",comparisonData:null,icon:"🛍️",type:"orders"}),l.jsx(pe,{title:"Items Sold",value:((P=C.hearnsHobbies)==null?void 0:P.itemCount)||0,currency:"",comparisonData:null,icon:"📦",type:"orders"})]})]})]}),l.jsxs("div",{className:"card bg-green-50 border-green-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"📦 Online Orders Fulfilled In-Store"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Online orders processed and invoiced at physical store locations"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"The Hobbyman (Fulfillment)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{title:"Revenue",value:((T=C.hobbymanFulfillment)==null?void 0:T.revenue)||0,currency:"$",comparisonData:null,icon:"💵",type:"sales"}),l.jsx(pe,{title:"Orders",value:((B=C.hobbymanFulfillment)==null?void 0:B.orderCount)||0,currency:"",comparisonData:null,icon:"📦",type:"orders"}),l.jsx(pe,{title:"Items",value:((_=C.hobbymanFulfillment)==null?void 0:_.itemCount)||0,currency:"",comparisonData:null,icon:"📋",type:"orders"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Hearns Hobbies (Fulfillment)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{title:"Revenue",value:((k=C.hearnsFulfillment)==null?void 0:k.revenue)||0,currency:"$",comparisonData:null,icon:"💵",type:"sales"}),l.jsx(pe,{title:"Orders",value:((R=C.hearnsFulfillment)==null?void 0:R.orderCount)||0,currency:"",comparisonData:null,icon:"📦",type:"orders"}),l.jsx(pe,{title:"Items",value:((M=C.hearnsFulfillment)==null?void 0:M.itemCount)||0,currency:"",comparisonData:null,icon:"📋",type:"orders"})]})]})]}),l.jsxs("div",{className:"card bg-purple-50 border-purple-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"🛒 Online Sales Summary (Shopify)"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Total online orders placed through Shopify"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsx(pe,{title:"Total Online Revenue",value:((L=C.shopify)==null?void 0:L.revenue)||0,currency:"$",comparisonData:null,icon:"💰",type:"sales"}),l.jsx(pe,{title:"Total Online Orders",value:((q=C.shopify)==null?void 0:q.orderCount)||0,currency:"",comparisonData:null,icon:"🛍️",type:"orders"}),l.jsx(pe,{title:"Items",value:((V=C.shopify)==null?void 0:V.itemCount)||0,currency:"",comparisonData:null,icon:"📦",type:"orders"})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Fulfillment Status"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Fulfilled & Invoiced"}),l.jsx("span",{className:"text-2xl",children:"✅"})]}),l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",(C.onlineFulfilledRevenue||0).toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[C.onlineFulfilledOrders||0," orders"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Pending/Unfulfilled"}),l.jsx("span",{className:"text-2xl",children:"⏳"})]}),l.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["$",(C.onlinePendingRevenue||0).toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[C.onlinePendingOrders||0," orders"]})]})]})]})]})]}),C.orderCount>0&&g==="online"&&l.jsxs("div",{className:"card bg-green-50 border-green-200",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"📈 Key Insights"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Orders:"}),l.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:C.orderCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Avg Freight/Order:"}),l.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:["$",(parseFloat(C.totalFreight)/C.orderCount).toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Avg Discount/Order:"}),l.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:["$",(parseFloat(C.totalDiscounts)/C.orderCount).toFixed(2)]})]})]})]}),(g==="online"&&C.orderCount===0||g==="channels"&&C.totalOrders===0)&&l.jsx("div",{className:"card bg-yellow-50 border-yellow-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-3xl",children:"📭"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-900",children:"No Orders Found"}),l.jsx("p",{className:"text-yellow-700 text-sm",children:"There are no orders in the selected period."})]})]})})]})]})}function Mg({order:e}){if(!e)return null;const t=()=>{const n=window.open("","_blank","width=800,height=600"),r=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Order ${e.orderName||""} - Print</title>
          <style>
            body {
              font-family: system-ui, -apple-system, sans-serif;
              padding: 20px;
              max-width: 800px;
              margin: 0 auto;
            }
            h1 { font-size: 24px; margin-bottom: 20px; }
            h2 { font-size: 18px; margin-top: 20px; margin-bottom: 10px; }
            .section {
              margin-bottom: 20px;
              padding: 15px;
              border: 1px solid #e5e7eb;
              border-radius: 8px;
            }
            .customer-info { background-color: #eff6ff; }
            .shipping-address { background-color: #f0fdf4; }
            .order-notes { background-color: #fef3c7; }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 10px;
            }
            th, td {
              padding: 8px;
              text-align: left;
              border-bottom: 1px solid #e5e7eb;
            }
            th {
              background-color: #f9fafb;
              font-weight: 600;
            }
            .text-right { text-align: right; }
            .font-mono { font-family: monospace; }
            @media print {
              body { padding: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <h1>Order ${e.orderName||"N/A"}</h1>

          <div class="section customer-info">
            <h2>Customer Information</h2>
            <p><strong>Name:</strong> ${e.customerName||"N/A"}</p>
            <p><strong>Email:</strong> ${e.customerEmail||"N/A"}</p>
            ${e.customerPhone?`<p><strong>Phone:</strong> ${e.customerPhone}</p>`:""}
          </div>

          <div class="section">
            <h2>Items to Fulfill</h2>
            <table>
              <thead>
                <tr>
                  <th>SKU</th>
                  <th>Product</th>
                  <th>Variant</th>
                  <th class="text-right">Quantity</th>
                  <th class="text-right">Price</th>
                  <th>Sale/Discount</th>
                </tr>
              </thead>
              <tbody>
                ${e.lineItems&&e.lineItems.length>0?e.lineItems.map(s=>`
                  <tr>
                    <td class="font-mono">${s.sku||"N/A"}</td>
                    <td>${s.title||""}</td>
                    <td>${s.variantTitle||"-"}</td>
                    <td class="text-right">${s.quantity||0}</td>
                    <td class="text-right">$${parseFloat(s.price||0).toFixed(2)}</td>
                    <td>
                      ${s.onSale?`<span>🏷️ On Sale in CRS ${s.crsSalePrice?`($${parseFloat(s.crsSalePrice).toFixed(2)})`:""}</span><br>`:""}
                      ${s.discountAllocations?`<span>💰 ${s.discountAllocations}</span>`:""}
                      ${!s.onSale&&!s.discountAllocations?"-":""}
                    </td>
                  </tr>
                `).join(""):'<tr><td colspan="6">No items found</td></tr>'}
              </tbody>
            </table>
            <p style="margin-top: 10px;"><strong>Total Items:</strong> ${e.itemCount||0}</p>
            ${e.totalDiscounts&&parseFloat(e.totalDiscounts)>0?`
              <p style="margin-top: 10px;">
                <strong>Order Discounts:</strong> -$${parseFloat(e.totalDiscounts).toFixed(2)}
                ${e.discountCodes?` (${e.discountCodes})`:""}
              </p>
              ${e.subtotalPrice?`
                <p style="font-size: 14px; color: #666;">
                  Subtotal: $${parseFloat(e.subtotalPrice).toFixed(2)} →
                  Final: $${parseFloat(e.totalPrice).toFixed(2)}
                </p>
              `:""}
            `:""}
          </div>

          ${e.shippingAddress?`
            <div class="section shipping-address">
              <h2>Shipping Address</h2>
              <pre style="white-space: pre-line; font-family: inherit; margin: 0;">${e.shippingAddress}</pre>
            </div>
          `:""}

          ${e.note?`
            <div class="section order-notes">
              <h2>Order Notes</h2>
              <p>${e.note}</p>
            </div>
          `:""}

          <div class="no-print" style="margin-top: 30px; text-align: center;">
            <button onclick="window.print()" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">Print</button>
            <button onclick="window.close()" style="padding: 10px 20px; font-size: 16px; cursor: pointer; margin-left: 10px;">Close</button>
          </div>
        </body>
      </html>
    `;n.document.write(r),n.document.close(),n.onload=()=>{n.print()}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-end print:hidden",children:l.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:[l.jsx("span",{children:"🖨️"}),"Print Order"]})}),l.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Customer Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Name:"}),l.jsx("span",{className:"ml-2 font-medium",children:e.customerName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Email:"}),l.jsx("span",{className:"ml-2 font-medium",children:e.customerEmail||"N/A"})]}),e.customerPhone&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Phone:"}),l.jsx("span",{className:"ml-2 font-medium",children:e.customerPhone})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Items to Fulfill"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Variant"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Price"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sale/Discount"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.lineItems&&e.lineItems.length>0?e.lineItems.map((n,r)=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm font-mono text-gray-900",children:n.sku||"N/A"}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:n.title}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:n.variantTitle||"-"}),l.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:n.quantity}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["$",parseFloat(n.price||0).toFixed(2)]}),l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsxs("div",{className:"space-y-1",children:[n.onSale&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"🏷️ On Sale in CRS"}),n.crsSalePrice&&l.jsxs("span",{className:"text-xs text-gray-600",children:["$",parseFloat(n.crsSalePrice).toFixed(2)]})]}),n.discountAllocations&&l.jsxs("div",{className:"text-xs text-green-700 font-medium",children:["💰 ",n.discountAllocations]}),!n.onSale&&!n.discountAllocations&&l.jsx("span",{className:"text-xs text-gray-400",children:"-"})]})})]},n.lineItemId||r)):l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No items found"})})})]})}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Items:"}),l.jsx("span",{className:"text-lg font-bold text-gray-900",children:e.itemCount||0})]}),e.totalDiscounts&&parseFloat(e.totalDiscounts)>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order Discounts:"}),e.discountCodes&&l.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",e.discountCodes,")"]})]}),l.jsxs("span",{className:"text-lg font-bold text-green-600",children:["-$",parseFloat(e.totalDiscounts).toFixed(2)]})]}),e.subtotalPrice&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Subtotal: $",parseFloat(e.subtotalPrice).toFixed(2)," → Final: $",parseFloat(e.totalPrice).toFixed(2)]})]})]}),e.shippingAddress&&l.jsxs("div",{className:"card bg-green-50 border-green-200",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Shipping Address"}),l.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:e.shippingAddress})]}),e.note&&l.jsxs("div",{className:"card bg-yellow-50 border-yellow-200",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Order Notes"}),l.jsx("div",{className:"text-sm text-gray-700",children:e.note})]})]})}Mg.propTypes={order:oe.shape({customerName:oe.string,customerEmail:oe.string,customerPhone:oe.string,lineItems:oe.arrayOf(oe.shape({lineItemId:oe.string,sku:oe.string,title:oe.string,variantTitle:oe.string,quantity:oe.number,price:oe.oneOfType([oe.string,oe.number])})),itemCount:oe.number,shippingAddress:oe.string,note:oe.string})};function hb(){const[e,t]=S.useState([]),[n,r]=S.useState(!0),[s,o]=S.useState(null),[i,a]=S.useState(null),[c,u]=S.useState(""),[d,f]=S.useState(!1),[h,y]=S.useState(!1);S.useEffect(()=>{g()},[d,h]);const g=async()=>{r(!0),o(null);try{const m=await Y.getPendingFulfillments(d,h);t(m.data.data||[])}catch(m){console.error("Error fetching orders:",m),o("Failed to load orders. Please try again.")}finally{r(!1)}},x=m=>{a(i===m?null:m)},b=e.filter(m=>{var w,v,j;if(!c)return!0;const p=c.toLowerCase();return((w=m.orderName)==null?void 0:w.toLowerCase().includes(p))||((v=m.customerName)==null?void 0:v.toLowerCase().includes(p))||((j=m.customerEmail)==null?void 0:j.toLowerCase().includes(p))});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between no-print",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders to Fulfill"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Shopify orders pending fulfillment in CRS ERP"})]}),l.jsx("button",{onClick:g,disabled:n,className:"btn-secondary",children:n?"Refreshing...":"🔄 Refresh"})]}),l.jsx("div",{className:"card no-print",children:l.jsx("input",{type:"text",placeholder:"Search by order #, customer name, or email...",value:c,onChange:m=>u(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),l.jsx("div",{className:"card no-print bg-blue-50 border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Optional Data Loading"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Enable these options to load additional data (may slow down initial load)"})]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:d,onChange:m=>f(m.target.checked),className:"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Discounts 💰"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:m=>y(m.target.checked),className:"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Sale Prices 🏷️"})]})]})]})}),s&&l.jsx("div",{className:"card bg-red-50 border-red-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-3xl",children:"⚠️"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-red-900",children:"Error Loading Orders"}),l.jsx("p",{className:"text-red-700 text-sm",children:s})]})]})}),n&&l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin text-5xl mb-4",children:"⚙️"}),l.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})})}),!n&&!s&&l.jsx("div",{className:"card bg-blue-50 border-blue-200 no-print",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900",children:[b.length," ",b.length===1?"Order":"Orders"," Pending Fulfillment"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c&&`Filtered from ${e.length} total orders`})]}),b.length>0&&l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:["$",b.reduce((m,p)=>m+parseFloat(p.totalPrice||0),0).toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]})]})}),!n&&!s&&b.length>0&&l.jsx("div",{className:"space-y-4",children:b.map(m=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"cursor-pointer no-print",onClick:()=>x(m.orderId),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsx("div",{className:"text-3xl",children:"📦"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order ",m.orderName]}),m.totalDiscounts&&parseFloat(m.totalDiscounts)>0&&l.jsx("span",{className:"text-green-600",title:`Discount: $${parseFloat(m.totalDiscounts).toFixed(2)}`,children:"💰"})]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[m.customerName," • ",m.customerEmail]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(m.createdAt).toLocaleDateString()," at ",new Date(m.createdAt).toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-xl font-bold text-primary-600",children:["$",parseFloat(m.totalPrice||0).toFixed(2)]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[m.itemCount," ",m.itemCount===1?"item":"items"]}),l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:m.displayFulfillmentStatus||"UNFULFILLED"})})]}),l.jsx("div",{className:"ml-4 text-2xl text-gray-400",children:i===m.orderId?"▼":"▶"})]})}),i===m.orderId&&l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsx(Mg,{order:m})})]},m.orderId))}),!n&&!s&&b.length===0&&l.jsx("div",{className:"card bg-green-50 border-green-200",children:l.jsxs("div",{className:"flex items-center gap-3 justify-center py-12",children:[l.jsx("span",{className:"text-5xl",children:"✅"}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-green-900",children:c?"No matching orders found":"All orders fulfilled!"}),l.jsx("p",{className:"text-green-700 text-sm mt-1",children:c?"Try adjusting your search terms":"There are no pending orders to fulfill in CRS"})]})]})})]})}function pb(){const e=pr(),[t,n]=S.useState([]),[r,s]=S.useState(!0),[o,i]=S.useState(null),[a,c]=S.useState("all");S.useEffect(()=>{u()},[a]);const u=async()=>{try{s(!0),i(null);const x=a==="active"?!0:void 0,b=await Y.getWorkflows(x);n(b.data)}catch(x){console.error("Error loading workflows:",x),i("Failed to load workflows")}finally{s(!1)}},d=async x=>{try{await Y.activateWorkflow(x),u()}catch(b){console.error("Error activating workflow:",b),i("Failed to activate workflow")}},f=async x=>{try{await Y.deactivateWorkflow(x),u()}catch(b){console.error("Error deactivating workflow:",b),i("Failed to deactivate workflow")}},h=async(x,b)=>{if(window.confirm(`Are you sure you want to delete workflow "${b}"?`))try{await Y.deleteWorkflow(x),u()}catch(m){console.error("Error deleting workflow:",m),i("Failed to delete workflow")}},y=async(x,b)=>{var m,p;if(window.confirm(`Execute workflow "${b}"?`))try{const w=await Y.executeWorkflow(x,{});w.data.success?alert(`Workflow executed successfully!

Context: ${JSON.stringify(w.data.context,null,2)}`):alert(`Workflow failed: ${w.data.error}`)}catch(w){console.error("Error executing workflow:",w),alert(`Failed to execute workflow: ${((p=(m=w.response)==null?void 0:m.data)==null?void 0:p.error)||w.message}`)}},g=t.filter(x=>a==="active"?x.isActive:a==="inactive"?!x.isActive:!0);return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading workflows..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflow Management"}),l.jsx("p",{className:"text-gray-600",children:"Create and manage multi-agent workflows with conditional logic and orchestration"})]}),l.jsx("button",{onClick:()=>e("/workflows/new"),className:"btn-primary",children:"+ Create Workflow"})]}),o&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>c("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="all"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["All Workflows (",t.length,")"]}),l.jsxs("button",{onClick:()=>c("active"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="active"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Active (",t.filter(x=>x.isActive).length,")"]}),l.jsxs("button",{onClick:()=>c("inactive"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="inactive"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Inactive (",t.filter(x=>!x.isActive).length,")"]})]})}),g.length===0?l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:"🔄"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflows found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first workflow"}),l.jsx("button",{onClick:()=>e("/workflows/new"),className:"btn-primary",children:"Create Workflow"})]}):l.jsx("div",{className:"grid gap-6",children:g.map(x=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:x.name}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.isActive?"Active":"Inactive"}),l.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:x.triggerType}),l.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:x.executionMode})]}),x.description&&l.jsx("p",{className:"text-gray-600 text-sm",children:x.description})]})}),l.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Steps:"})," ",x.stepCount||0]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Created:"})," ",new Date(x.createdAt).toLocaleDateString()]}),x.lastExecutedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Last Run:"})," ",new Date(x.lastExecutedAt).toLocaleString()]})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsx("button",{onClick:()=>e(`/workflows/${x.id}`),className:"px-3 py-2 text-sm bg-primary-50 text-primary-700 rounded hover:bg-primary-100",children:"Edit"}),l.jsx("button",{onClick:()=>y(x.id,x.name),className:"px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100",children:"Execute"}),x.isActive?l.jsx("button",{onClick:()=>f(x.id),className:"px-3 py-2 text-sm bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100",children:"Deactivate"}):l.jsx("button",{onClick:()=>d(x.id),className:"px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100",children:"Activate"}),l.jsx("button",{onClick:()=>h(x.id,x.name),className:"px-3 py-2 text-sm bg-red-50 text-red-700 rounded hover:bg-red-100 ml-auto",children:"Delete"})]})]},x.id))})]})}function De(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=De(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Lg={exports:{}},Dg={},Fg={exports:{}},zg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=S;function mb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gb=typeof Object.is=="function"?Object.is:mb,xb=ts.useState,yb=ts.useEffect,vb=ts.useLayoutEffect,wb=ts.useDebugValue;function Nb(e,t){var n=t(),r=xb({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return vb(function(){s.value=n,s.getSnapshot=t,xa(s)&&o({inst:s})},[e,n,t]),yb(function(){return xa(s)&&o({inst:s}),e(function(){xa(s)&&o({inst:s})})},[e]),wb(n),n}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gb(e,n)}catch{return!0}}function bb(e,t){return t()}var Sb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bb:Nb;zg.useSyncExternalStore=ts.useSyncExternalStore!==void 0?ts.useSyncExternalStore:Sb;Fg.exports=zg;var jb=Fg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=S,Eb=jb;function kb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cb=typeof Object.is=="function"?Object.is:kb,_b=Eb.useSyncExternalStore,Ab=Tl.useRef,Tb=Tl.useEffect,Pb=Tl.useMemo,Rb=Tl.useDebugValue;Dg.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=Ab(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=Pb(function(){function c(y){if(!u){if(u=!0,d=y,y=r(y),s!==void 0&&i.hasValue){var g=i.value;if(s(g,y))return f=g}return f=y}if(g=f,Cb(d,y))return g;var x=r(y);return s!==void 0&&s(g,x)?(d=y,g):(d=y,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var a=_b(e,o[0],o[1]);return Tb(function(){i.hasValue=!0,i.value=a},[a]),Rb(a),a};Lg.exports=Dg;var $b=Lg.exports;const Ib=qc($b),Ob={},Kf=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const y=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,y))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Ob?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},Mb=e=>e?Kf(e):Kf,{useDebugValue:Lb}=F,{useSyncExternalStoreWithSelector:Db}=Ib,Fb=e=>e;function Ug(e,t=Fb,n){const r=Db(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Lb(r),r}const Xf=(e,t)=>{const n=Mb(e),r=(s,o=t)=>Ug(n,s,o);return Object.assign(r,n),r},zb=(e,t)=>e?Xf(e,t):Xf;function $e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Ub={value:()=>{}};function Pl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ji(n)}function ji(e){this._=e}function Bb(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ji.prototype=Pl.prototype={constructor:ji,on:function(e,t){var n=this._,r=Bb(e+"",n),s,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((s=(e=r[o]).type)&&(s=Hb(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(s=(e=r[o]).type)n[s]=Yf(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Yf(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ji(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function Hb(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function Yf(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=Ub,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Tc="http://www.w3.org/1999/xhtml";const Gf={svg:"http://www.w3.org/2000/svg",xhtml:Tc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Gf.hasOwnProperty(t)?{space:Gf[t],local:e}:e}function Wb(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Tc&&t.documentElement.namespaceURI===Tc?t.createElement(e):t.createElementNS(n,e)}}function Vb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bg(e){var t=Rl(e);return(t.local?Vb:Wb)(t)}function qb(){}function qu(e){return e==null?qb:function(){return this.querySelector(e)}}function Kb(e){typeof e!="function"&&(e=qu(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=new Array(i),c,u,d=0;d<i;++d)(c=o[d])&&(u=e.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),a[d]=u);return new dt(r,this._parents)}function Xb(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Yb(){return[]}function Hg(e){return e==null?Yb:function(){return this.querySelectorAll(e)}}function Gb(e){return function(){return Xb(e.apply(this,arguments))}}function Qb(e){typeof e=="function"?e=Gb(e):e=Hg(e);for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var i=t[o],a=i.length,c,u=0;u<a;++u)(c=i[u])&&(r.push(e.call(c,c.__data__,u,i)),s.push(c));return new dt(r,s)}function Wg(e){return function(){return this.matches(e)}}function Vg(e){return function(t){return t.matches(e)}}var Jb=Array.prototype.find;function Zb(e){return function(){return Jb.call(this.children,e)}}function e2(){return this.firstElementChild}function t2(e){return this.select(e==null?e2:Zb(typeof e=="function"?e:Vg(e)))}var n2=Array.prototype.filter;function r2(){return Array.from(this.children)}function s2(e){return function(){return n2.call(this.children,e)}}function o2(e){return this.selectAll(e==null?r2:s2(typeof e=="function"?e:Vg(e)))}function i2(e){typeof e!="function"&&(e=Wg(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],c,u=0;u<i;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new dt(r,this._parents)}function qg(e){return new Array(e.length)}function l2(){return new dt(this._enter||this._groups.map(qg),this._parents)}function el(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}el.prototype={constructor:el,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function a2(e){return function(){return e}}function c2(e,t,n,r,s,o){for(var i=0,a,c=t.length,u=o.length;i<u;++i)(a=t[i])?(a.__data__=o[i],r[i]=a):n[i]=new el(e,o[i]);for(;i<c;++i)(a=t[i])&&(s[i]=a)}function u2(e,t,n,r,s,o,i){var a,c,u=new Map,d=t.length,f=o.length,h=new Array(d),y;for(a=0;a<d;++a)(c=t[a])&&(h[a]=y=i.call(c,c.__data__,a,t)+"",u.has(y)?s[a]=c:u.set(y,c));for(a=0;a<f;++a)y=i.call(e,o[a],a,o)+"",(c=u.get(y))?(r[a]=c,c.__data__=o[a],u.delete(y)):n[a]=new el(e,o[a]);for(a=0;a<d;++a)(c=t[a])&&u.get(h[a])===c&&(s[a]=c)}function d2(e){return e.__data__}function f2(e,t){if(!arguments.length)return Array.from(this,d2);var n=t?u2:c2,r=this._parents,s=this._groups;typeof e!="function"&&(e=a2(e));for(var o=s.length,i=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],f=s[u],h=f.length,y=h2(e.call(d,d&&d.__data__,u,r)),g=y.length,x=a[u]=new Array(g),b=i[u]=new Array(g),m=c[u]=new Array(h);n(d,f,x,b,m,y,t);for(var p=0,w=0,v,j;p<g;++p)if(v=x[p]){for(p>=w&&(w=p+1);!(j=b[w])&&++w<g;);v._next=j||null}}return i=new dt(i,r),i._enter=a,i._exit=c,i}function h2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function p2(){return new dt(this._exit||this._groups.map(qg),this._parents)}function m2(e,t,n){var r=this.enter(),s=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function g2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,o=r.length,i=Math.min(s,o),a=new Array(s),c=0;c<i;++c)for(var u=n[c],d=r[c],f=u.length,h=a[c]=new Array(f),y,g=0;g<f;++g)(y=u[g]||d[g])&&(h[g]=y);for(;c<s;++c)a[c]=n[c];return new dt(a,this._parents)}function x2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],i;--s>=0;)(i=r[s])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function y2(e){e||(e=v2);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var i=n[o],a=i.length,c=s[o]=new Array(a),u,d=0;d<a;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new dt(s,this._parents).order()}function v2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function w2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function N2(){return Array.from(this)}function b2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var i=r[s];if(i)return i}return null}function S2(){let e=0;for(const t of this)++e;return e}function j2(){return!this.node()}function E2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,i=s.length,a;o<i;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function k2(e){return function(){this.removeAttribute(e)}}function C2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _2(e,t){return function(){this.setAttribute(e,t)}}function A2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function T2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function P2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function R2(e,t){var n=Rl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?C2:k2:typeof t=="function"?n.local?P2:T2:n.local?A2:_2)(n,t))}function Kg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $2(e){return function(){this.style.removeProperty(e)}}function I2(e,t,n){return function(){this.style.setProperty(e,t,n)}}function O2(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function M2(e,t,n){return arguments.length>1?this.each((t==null?$2:typeof t=="function"?O2:I2)(e,t,n??"")):ns(this.node(),e)}function ns(e,t){return e.style.getPropertyValue(t)||Kg(e).getComputedStyle(e,null).getPropertyValue(t)}function L2(e){return function(){delete this[e]}}function D2(e,t){return function(){this[e]=t}}function F2(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function z2(e,t){return arguments.length>1?this.each((t==null?L2:typeof t=="function"?F2:D2)(e,t)):this.node()[e]}function Xg(e){return e.trim().split(/^|\s+/)}function Ku(e){return e.classList||new Yg(e)}function Yg(e){this._node=e,this._names=Xg(e.getAttribute("class")||"")}Yg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Gg(e,t){for(var n=Ku(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Qg(e,t){for(var n=Ku(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function U2(e){return function(){Gg(this,e)}}function B2(e){return function(){Qg(this,e)}}function H2(e,t){return function(){(t.apply(this,arguments)?Gg:Qg)(this,e)}}function W2(e,t){var n=Xg(e+"");if(arguments.length<2){for(var r=Ku(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?H2:t?U2:B2)(n,t))}function V2(){this.textContent=""}function q2(e){return function(){this.textContent=e}}function K2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function X2(e){return arguments.length?this.each(e==null?V2:(typeof e=="function"?K2:q2)(e)):this.node().textContent}function Y2(){this.innerHTML=""}function G2(e){return function(){this.innerHTML=e}}function Q2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function J2(e){return arguments.length?this.each(e==null?Y2:(typeof e=="function"?Q2:G2)(e)):this.node().innerHTML}function Z2(){this.nextSibling&&this.parentNode.appendChild(this)}function eS(){return this.each(Z2)}function tS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nS(){return this.each(tS)}function rS(e){var t=typeof e=="function"?e:Bg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sS(){return null}function oS(e,t){var n=typeof e=="function"?e:Bg(e),r=t==null?sS:typeof t=="function"?t:qu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function iS(){var e=this.parentNode;e&&e.removeChild(this)}function lS(){return this.each(iS)}function aS(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cS(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uS(e){return this.select(e?cS:aS)}function dS(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fS(e){return function(t){e.call(this,t,this.__data__)}}function hS(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function pS(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function mS(e,t,n){return function(){var r=this.__on,s,o=fS(t);if(r){for(var i=0,a=r.length;i<a;++i)if((s=r[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=t;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(s):this.__on=[s]}}function gS(e,t,n){var r=hS(e+""),s,o=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,d;c<u;++c)for(s=0,d=a[c];s<o;++s)if((i=r[s]).type===d.type&&i.name===d.name)return d.value}return}for(a=t?mS:pS,s=0;s<o;++s)this.each(a(r[s],t,n));return this}function Jg(e,t,n){var r=Kg(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function xS(e,t){return function(){return Jg(this,e,t)}}function yS(e,t){return function(){return Jg(this,e,t.apply(this,arguments))}}function vS(e,t){return this.each((typeof t=="function"?yS:xS)(e,t))}function*wS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length,i;s<o;++s)(i=r[s])&&(yield i)}var Zg=[null];function dt(e,t){this._groups=e,this._parents=t}function $o(){return new dt([[document.documentElement]],Zg)}function NS(){return this}dt.prototype=$o.prototype={constructor:dt,select:Kb,selectAll:Qb,selectChild:t2,selectChildren:o2,filter:i2,data:f2,enter:l2,exit:p2,join:m2,merge:g2,selection:NS,order:x2,sort:y2,call:w2,nodes:N2,node:b2,size:S2,empty:j2,each:E2,attr:R2,style:M2,property:z2,classed:W2,text:X2,html:J2,raise:eS,lower:nS,append:rS,insert:oS,remove:lS,clone:uS,datum:dS,on:gS,dispatch:vS,[Symbol.iterator]:wS};function gt(e){return typeof e=="string"?new dt([[document.querySelector(e)]],[document.documentElement]):new dt([[e]],Zg)}function bS(e){let t;for(;t=e.sourceEvent;)e=t;return e}function kt(e,t){if(e=bS(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const SS={passive:!1},ho={capture:!0,passive:!1};function ya(e){e.stopImmediatePropagation()}function Wr(e){e.preventDefault(),e.stopImmediatePropagation()}function e0(e){var t=e.document.documentElement,n=gt(e).on("dragstart.drag",Wr,ho);"onselectstart"in t?n.on("selectstart.drag",Wr,ho):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function t0(e,t){var n=e.document.documentElement,r=gt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Wr,ho),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ei=e=>()=>e;function Pc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:o,x:i,y:a,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Pc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function jS(e){return!e.ctrlKey&&!e.button}function ES(){return this.parentNode}function kS(e,t){return t??{x:e.x,y:e.y}}function CS(){return navigator.maxTouchPoints||"ontouchstart"in this}function _S(){var e=jS,t=ES,n=kS,r=CS,s={},o=Pl("start","drag","end"),i=0,a,c,u,d,f=0;function h(v){v.on("mousedown.drag",y).filter(r).on("touchstart.drag",b).on("touchmove.drag",m,SS).on("touchend.drag touchcancel.drag",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(v,j){if(!(d||!e.call(this,v,j))){var E=w(this,t.call(this,v,j),v,j,"mouse");E&&(gt(v.view).on("mousemove.drag",g,ho).on("mouseup.drag",x,ho),e0(v.view),ya(v),u=!1,a=v.clientX,c=v.clientY,E("start",v))}}function g(v){if(Wr(v),!u){var j=v.clientX-a,E=v.clientY-c;u=j*j+E*E>f}s.mouse("drag",v)}function x(v){gt(v.view).on("mousemove.drag mouseup.drag",null),t0(v.view,u),Wr(v),s.mouse("end",v)}function b(v,j){if(e.call(this,v,j)){var E=v.changedTouches,A=t.call(this,v,j),C=E.length,$,D;for($=0;$<C;++$)(D=w(this,A,v,j,E[$].identifier,E[$]))&&(ya(v),D("start",v,E[$]))}}function m(v){var j=v.changedTouches,E=j.length,A,C;for(A=0;A<E;++A)(C=s[j[A].identifier])&&(Wr(v),C("drag",v,j[A]))}function p(v){var j=v.changedTouches,E=j.length,A,C;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),A=0;A<E;++A)(C=s[j[A].identifier])&&(ya(v),C("end",v,j[A]))}function w(v,j,E,A,C,$){var D=o.copy(),I=kt($||E,j),U,z,N;if((N=n.call(v,new Pc("beforestart",{sourceEvent:E,target:h,identifier:C,active:i,x:I[0],y:I[1],dx:0,dy:0,dispatch:D}),A))!=null)return U=N.x-I[0]||0,z=N.y-I[1]||0,function P(T,B,_){var k=I,R;switch(T){case"start":s[C]=P,R=i++;break;case"end":delete s[C],--i;case"drag":I=kt(_||B,j),R=i;break}D.call(T,v,new Pc(T,{sourceEvent:B,subject:N,target:h,identifier:C,active:R,x:I[0]+U,y:I[1]+z,dx:I[0]-k[0],dy:I[1]-k[1],dispatch:D}),A)}}return h.filter=function(v){return arguments.length?(e=typeof v=="function"?v:ei(!!v),h):e},h.container=function(v){return arguments.length?(t=typeof v=="function"?v:ei(v),h):t},h.subject=function(v){return arguments.length?(n=typeof v=="function"?v:ei(v),h):n},h.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:ei(!!v),h):r},h.on=function(){var v=o.on.apply(o,arguments);return v===o?h:v},h.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,h):Math.sqrt(f)},h}function Xu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function n0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Io(){}var po=.7,tl=1/po,Vr="\\s*([+-]?\\d+)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AS=/^#([0-9a-f]{3,8})$/,TS=new RegExp(`^rgb\\(${Vr},${Vr},${Vr}\\)$`),PS=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),RS=new RegExp(`^rgba\\(${Vr},${Vr},${Vr},${mo}\\)$`),$S=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${mo}\\)$`),IS=new RegExp(`^hsl\\(${mo},${Bt},${Bt}\\)$`),OS=new RegExp(`^hsla\\(${mo},${Bt},${Bt},${mo}\\)$`),Qf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xu(Io,go,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jf,formatHex:Jf,formatHex8:MS,formatHsl:LS,formatRgb:Zf,toString:Zf});function Jf(){return this.rgb().formatHex()}function MS(){return this.rgb().formatHex8()}function LS(){return r0(this).formatHsl()}function Zf(){return this.rgb().formatRgb()}function go(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=AS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?eh(t):n===3?new et(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ti(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ti(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TS.exec(e))?new et(t[1],t[2],t[3],1):(t=PS.exec(e))?new et(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=RS.exec(e))?ti(t[1],t[2],t[3],t[4]):(t=$S.exec(e))?ti(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IS.exec(e))?rh(t[1],t[2]/100,t[3]/100,1):(t=OS.exec(e))?rh(t[1],t[2]/100,t[3]/100,t[4]):Qf.hasOwnProperty(e)?eh(Qf[e]):e==="transparent"?new et(NaN,NaN,NaN,0):null}function eh(e){return new et(e>>16&255,e>>8&255,e&255,1)}function ti(e,t,n,r){return r<=0&&(e=t=n=NaN),new et(e,t,n,r)}function DS(e){return e instanceof Io||(e=go(e)),e?(e=e.rgb(),new et(e.r,e.g,e.b,e.opacity)):new et}function Rc(e,t,n,r){return arguments.length===1?DS(e):new et(e,t,n,r??1)}function et(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Xu(et,Rc,n0(Io,{brighter(e){return e=e==null?tl:Math.pow(tl,e),new et(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new et(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new et(tr(this.r),tr(this.g),tr(this.b),nl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:th,formatHex:th,formatHex8:FS,formatRgb:nh,toString:nh}));function th(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}`}function FS(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}${Gn((isNaN(this.opacity)?1:this.opacity)*255)}`}function nh(){const e=nl(this.opacity);return`${e===1?"rgb(":"rgba("}${tr(this.r)}, ${tr(this.g)}, ${tr(this.b)}${e===1?")":`, ${e})`}`}function nl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gn(e){return e=tr(e),(e<16?"0":"")+e.toString(16)}function rh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _t(e,t,n,r)}function r0(e){if(e instanceof _t)return new _t(e.h,e.s,e.l,e.opacity);if(e instanceof Io||(e=go(e)),!e)return new _t;if(e instanceof _t)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,a=o-s,c=(o+s)/2;return a?(t===o?i=(n-r)/a+(n<r)*6:n===o?i=(r-t)/a+2:i=(t-n)/a+4,a/=c<.5?o+s:2-o-s,i*=60):a=c>0&&c<1?0:i,new _t(i,a,c,e.opacity)}function zS(e,t,n,r){return arguments.length===1?r0(e):new _t(e,t,n,r??1)}function _t(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Xu(_t,zS,n0(Io,{brighter(e){return e=e==null?tl:Math.pow(tl,e),new _t(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new _t(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new et(va(e>=240?e-240:e+120,s,r),va(e,s,r),va(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new _t(sh(this.h),ni(this.s),ni(this.l),nl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nl(this.opacity);return`${e===1?"hsl(":"hsla("}${sh(this.h)}, ${ni(this.s)*100}%, ${ni(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sh(e){return e=(e||0)%360,e<0?e+360:e}function ni(e){return Math.max(0,Math.min(1,e||0))}function va(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const s0=e=>()=>e;function US(e,t){return function(n){return e+n*t}}function BS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function HS(e){return(e=+e)==1?o0:function(t,n){return n-t?BS(t,n,e):s0(isNaN(t)?n:t)}}function o0(e,t){var n=t-e;return n?US(e,n):s0(isNaN(e)?t:e)}const oh=function e(t){var n=HS(t);function r(s,o){var i=n((s=Rc(s)).r,(o=Rc(o)).r),a=n(s.g,o.g),c=n(s.b,o.b),u=o0(s.opacity,o.opacity);return function(d){return s.r=i(d),s.g=a(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function hn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var $c=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wa=new RegExp($c.source,"g");function WS(e){return function(){return e}}function VS(e){return function(t){return e(t)+""}}function qS(e,t){var n=$c.lastIndex=wa.lastIndex=0,r,s,o,i=-1,a=[],c=[];for(e=e+"",t=t+"";(r=$c.exec(e))&&(s=wa.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,c.push({i,x:hn(r,s)})),n=wa.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?c[0]?VS(c[0].x):WS(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)a[(f=c[d]).i]=f.x(u);return a.join("")})}var ih=180/Math.PI,Ic={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function i0(e,t,n,r,s,o){var i,a,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*ih,skewX:Math.atan(c)*ih,scaleX:i,scaleY:a}}var ri;function KS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ic:i0(t.a,t.b,t.c,t.d,t.e,t.f)}function XS(e){return e==null||(ri||(ri=document.createElementNS("http://www.w3.org/2000/svg","g")),ri.setAttribute("transform",e),!(e=ri.transform.baseVal.consolidate()))?Ic:(e=e.matrix,i0(e.a,e.b,e.c,e.d,e.e,e.f))}function l0(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,d,f,h,y,g){if(u!==f||d!==h){var x=y.push("translate(",null,t,null,n);g.push({i:x-4,x:hn(u,f)},{i:x-2,x:hn(d,h)})}else(f||h)&&y.push("translate("+f+t+h+n)}function i(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:hn(u,d)})):d&&f.push(s(f)+"rotate("+d+r)}function a(u,d,f,h){u!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:hn(u,d)}):d&&f.push(s(f)+"skewX("+d+r)}function c(u,d,f,h,y,g){if(u!==f||d!==h){var x=y.push(s(y)+"scale(",null,",",null,")");g.push({i:x-4,x:hn(u,f)},{i:x-2,x:hn(d,h)})}else(f!==1||h!==1)&&y.push(s(y)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,f,h),i(u.rotate,d.rotate,f,h),a(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(y){for(var g=-1,x=h.length,b;++g<x;)f[(b=h[g]).i]=b.x(y);return f.join("")}}}var YS=l0(KS,"px, ","px)","deg)"),GS=l0(XS,", ",")",")"),QS=1e-12;function lh(e){return((e=Math.exp(e))+1/e)/2}function JS(e){return((e=Math.exp(e))-1/e)/2}function ZS(e){return((e=Math.exp(2*e))-1)/(e+1)}const ej=function e(t,n,r){function s(o,i){var a=o[0],c=o[1],u=o[2],d=i[0],f=i[1],h=i[2],y=d-a,g=f-c,x=y*y+g*g,b,m;if(x<QS)m=Math.log(h/u)/t,b=function(A){return[a+A*y,c+A*g,u*Math.exp(t*A*m)]};else{var p=Math.sqrt(x),w=(h*h-u*u+r*x)/(2*u*n*p),v=(h*h-u*u-r*x)/(2*h*n*p),j=Math.log(Math.sqrt(w*w+1)-w),E=Math.log(Math.sqrt(v*v+1)-v);m=(E-j)/t,b=function(A){var C=A*m,$=lh(j),D=u/(n*p)*($*ZS(t*C+j)-JS(j));return[a+D*y,c+D*g,u*$/lh(t*C+j)]}}return b.duration=m*1e3*t/Math.SQRT2,b}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,c=a*a;return e(i,a,c)},s}(Math.SQRT2,2,4);var rs=0,Os=0,ks=0,a0=1e3,rl,Ms,sl=0,cr=0,$l=0,xo=typeof performance=="object"&&performance.now?performance:Date,c0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yu(){return cr||(c0(tj),cr=xo.now()+$l)}function tj(){cr=0}function ol(){this._call=this._time=this._next=null}ol.prototype=u0.prototype={constructor:ol,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Yu():+n)+(t==null?0:+t),!this._next&&Ms!==this&&(Ms?Ms._next=this:rl=this,Ms=this),this._call=e,this._time=n,Oc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oc())}};function u0(e,t,n){var r=new ol;return r.restart(e,t,n),r}function nj(){Yu(),++rs;for(var e=rl,t;e;)(t=cr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rs}function ah(){cr=(sl=xo.now())+$l,rs=Os=0;try{nj()}finally{rs=0,sj(),cr=0}}function rj(){var e=xo.now(),t=e-sl;t>a0&&($l-=t,sl=e)}function sj(){for(var e,t=rl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:rl=n);Ms=e,Oc(r)}function Oc(e){if(!rs){Os&&(Os=clearTimeout(Os));var t=e-cr;t>24?(e<1/0&&(Os=setTimeout(ah,e-xo.now()-$l)),ks&&(ks=clearInterval(ks))):(ks||(sl=xo.now(),ks=setInterval(rj,a0)),rs=1,c0(ah))}}function ch(e,t,n){var r=new ol;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var oj=Pl("start","end","cancel","interrupt"),ij=[],d0=0,uh=1,Mc=2,Ei=3,dh=4,Lc=5,ki=6;function Il(e,t,n,r,s,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;lj(e,n,{name:t,index:r,group:s,on:oj,tween:ij,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:d0})}function Gu(e,t){var n=It(e,t);if(n.state>d0)throw new Error("too late; already scheduled");return n}function Ht(e,t){var n=It(e,t);if(n.state>Ei)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lj(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=u0(o,0,n.time);function o(u){n.state=uh,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var d,f,h,y;if(n.state!==uh)return c();for(d in r)if(y=r[d],y.name===n.name){if(y.state===Ei)return ch(i);y.state===dh?(y.state=ki,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[d]):+d<t&&(y.state=ki,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[d])}if(ch(function(){n.state===Ei&&(n.state=dh,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Mc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Mc){for(n.state=Ei,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(y=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=y);s.length=f+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Lc,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===Lc&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=ki,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Ci(e,t){var n=e.__transition,r,s,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}s=r.state>Mc&&r.state<Lc,r.state=ki,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function aj(e){return this.each(function(){Ci(this,e)})}function cj(e,t){var n,r;return function(){var s=Ht(this,e),o=s.tween;if(o!==n){r=n=o;for(var i=0,a=r.length;i<a;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function uj(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=Ht(this,e),i=o.tween;if(i!==r){s=(r=i).slice();for(var a={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=a;break}c===u&&s.push(a)}o.tween=s}}function dj(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=It(this.node(),n).tween,s=0,o=r.length,i;s<o;++s)if((i=r[s]).name===e)return i.value;return null}return this.each((t==null?cj:uj)(n,e,t))}function Qu(e,t,n){var r=e._id;return e.each(function(){var s=Ht(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return It(s,r).value[t]}}function f0(e,t){var n;return(typeof t=="number"?hn:t instanceof go?oh:(n=go(t))?(t=n,oh):qS)(e,t)}function fj(e){return function(){this.removeAttribute(e)}}function hj(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pj(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttribute(e);return i===s?null:i===r?o:o=t(r=i,n)}}function mj(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===r?o:o=t(r=i,n)}}function gj(e,t,n){var r,s,o;return function(){var i,a=n(this),c;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=a+"",i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,a)))}}function xj(e,t,n){var r,s,o;return function(){var i,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=a+"",i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,a)))}}function yj(e,t){var n=Rl(e),r=n==="transform"?GS:f0;return this.attrTween(e,typeof t=="function"?(n.local?xj:gj)(n,r,Qu(this,"attr."+e,t)):t==null?(n.local?hj:fj)(n):(n.local?mj:pj)(n,r,t))}function vj(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function wj(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Nj(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&wj(e,o)),n}return s._value=t,s}function bj(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&vj(e,o)),n}return s._value=t,s}function Sj(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Rl(e);return this.tween(n,(r.local?Nj:bj)(r,t))}function jj(e,t){return function(){Gu(this,e).delay=+t.apply(this,arguments)}}function Ej(e,t){return t=+t,function(){Gu(this,e).delay=t}}function kj(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jj:Ej)(t,e)):It(this.node(),t).delay}function Cj(e,t){return function(){Ht(this,e).duration=+t.apply(this,arguments)}}function _j(e,t){return t=+t,function(){Ht(this,e).duration=t}}function Aj(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Cj:_j)(t,e)):It(this.node(),t).duration}function Tj(e,t){if(typeof t!="function")throw new Error;return function(){Ht(this,e).ease=t}}function Pj(e){var t=this._id;return arguments.length?this.each(Tj(t,e)):It(this.node(),t).ease}function Rj(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ht(this,e).ease=n}}function $j(e){if(typeof e!="function")throw new Error;return this.each(Rj(this._id,e))}function Ij(e){typeof e!="function"&&(e=Wg(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],c,u=0;u<i;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new on(r,this._parents,this._name,this._id)}function Oj(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),i=new Array(r),a=0;a<o;++a)for(var c=t[a],u=n[a],d=c.length,f=i[a]=new Array(d),h,y=0;y<d;++y)(h=c[y]||u[y])&&(f[y]=h);for(;a<r;++a)i[a]=t[a];return new on(i,this._parents,this._name,this._id)}function Mj(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Lj(e,t,n){var r,s,o=Mj(t)?Gu:Ht;return function(){var i=o(this,e),a=i.on;a!==r&&(s=(r=a).copy()).on(t,n),i.on=s}}function Dj(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(Lj(n,e,t))}function Fj(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function zj(){return this.on("end.remove",Fj(this._id))}function Uj(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qu(e));for(var r=this._groups,s=r.length,o=new Array(s),i=0;i<s;++i)for(var a=r[i],c=a.length,u=o[i]=new Array(c),d,f,h=0;h<c;++h)(d=a[h])&&(f=e.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,Il(u[h],t,n,h,u,It(d,n)));return new on(o,this._parents,t,n)}function Bj(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hg(e));for(var r=this._groups,s=r.length,o=[],i=[],a=0;a<s;++a)for(var c=r[a],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),y,g=It(d,n),x=0,b=h.length;x<b;++x)(y=h[x])&&Il(y,t,n,x,h,g);o.push(h),i.push(d)}return new on(o,i,t,n)}var Hj=$o.prototype.constructor;function Wj(){return new Hj(this._groups,this._parents)}function Vj(e,t){var n,r,s;return function(){var o=ns(this,e),i=(this.style.removeProperty(e),ns(this,e));return o===i?null:o===n&&i===r?s:s=t(n=o,r=i)}}function h0(e){return function(){this.style.removeProperty(e)}}function qj(e,t,n){var r,s=n+"",o;return function(){var i=ns(this,e);return i===s?null:i===r?o:o=t(r=i,n)}}function Kj(e,t,n){var r,s,o;return function(){var i=ns(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),ns(this,e))),i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,a))}}function Xj(e,t){var n,r,s,o="style."+t,i="end."+o,a;return function(){var c=Ht(this,e),u=c.on,d=c.value[o]==null?a||(a=h0(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(i,s=d),c.on=r}}function Yj(e,t,n){var r=(e+="")=="transform"?YS:f0;return t==null?this.styleTween(e,Vj(e,r)).on("end.style."+e,h0(e)):typeof t=="function"?this.styleTween(e,Kj(e,r,Qu(this,"style."+e,t))).each(Xj(this._id,e)):this.styleTween(e,qj(e,r,t),n).on("end.style."+e,null)}function Gj(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Qj(e,t,n){var r,s;function o(){var i=t.apply(this,arguments);return i!==s&&(r=(s=i)&&Gj(e,i,n)),r}return o._value=t,o}function Jj(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Qj(e,t,n??""))}function Zj(e){return function(){this.textContent=e}}function eE(e){return function(){var t=e(this);this.textContent=t??""}}function tE(e){return this.tween("text",typeof e=="function"?eE(Qu(this,"text",e)):Zj(e==null?"":e+""))}function nE(e){return function(t){this.textContent=e.call(this,t)}}function rE(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&nE(s)),t}return r._value=e,r}function sE(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rE(e))}function oE(){for(var e=this._name,t=this._id,n=p0(),r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,c,u=0;u<a;++u)if(c=i[u]){var d=It(c,t);Il(c,e,n,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new on(r,this._parents,e,n)}function iE(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(o,i){var a={value:i},c={value:function(){--s===0&&o()}};n.each(function(){var u=Ht(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),s===0&&o()})}var lE=0;function on(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function p0(){return++lE}var Kt=$o.prototype;on.prototype={constructor:on,select:Uj,selectAll:Bj,selectChild:Kt.selectChild,selectChildren:Kt.selectChildren,filter:Ij,merge:Oj,selection:Wj,transition:oE,call:Kt.call,nodes:Kt.nodes,node:Kt.node,size:Kt.size,empty:Kt.empty,each:Kt.each,on:Dj,attr:yj,attrTween:Sj,style:Yj,styleTween:Jj,text:tE,textTween:sE,remove:zj,tween:dj,delay:kj,duration:Aj,ease:Pj,easeVarying:$j,end:iE,[Symbol.iterator]:Kt[Symbol.iterator]};function aE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cE={time:null,delay:0,duration:250,ease:aE};function uE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function dE(e){var t,n;e instanceof on?(t=e._id,e=e._name):(t=p0(),(n=cE).time=Yu(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,c,u=0;u<a;++u)(c=i[u])&&Il(c,e,t,u,i,n||uE(c,t));return new on(r,this._parents,e,t)}$o.prototype.interrupt=aj;$o.prototype.transition=dE;const si=e=>()=>e;function fE(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Jt(e,t,n){this.k=e,this.x=t,this.y=n}Jt.prototype={constructor:Jt,scale:function(e){return e===1?this:new Jt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Jt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var en=new Jt(1,0,0);Jt.prototype;function Na(e){e.stopImmediatePropagation()}function Cs(e){e.preventDefault(),e.stopImmediatePropagation()}function hE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function pE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fh(){return this.__zoom||en}function mE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function gE(){return navigator.maxTouchPoints||"ontouchstart"in this}function xE(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function m0(){var e=hE,t=pE,n=xE,r=mE,s=gE,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,c=ej,u=Pl("start","zoom","end"),d,f,h,y=500,g=150,x=0,b=10;function m(N){N.property("__zoom",fh).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",D).filter(s).on("touchstart.zoom",I).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(N,P,T,B){var _=N.selection?N.selection():N;_.property("__zoom",fh),N!==_?j(N,P,T,B):_.interrupt().each(function(){E(this,arguments).event(B).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},m.scaleBy=function(N,P,T,B){m.scaleTo(N,function(){var _=this.__zoom.k,k=typeof P=="function"?P.apply(this,arguments):P;return _*k},T,B)},m.scaleTo=function(N,P,T,B){m.transform(N,function(){var _=t.apply(this,arguments),k=this.__zoom,R=T==null?v(_):typeof T=="function"?T.apply(this,arguments):T,M=k.invert(R),L=typeof P=="function"?P.apply(this,arguments):P;return n(w(p(k,L),R,M),_,i)},T,B)},m.translateBy=function(N,P,T,B){m.transform(N,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),i)},null,B)},m.translateTo=function(N,P,T,B,_){m.transform(N,function(){var k=t.apply(this,arguments),R=this.__zoom,M=B==null?v(k):typeof B=="function"?B.apply(this,arguments):B;return n(en.translate(M[0],M[1]).scale(R.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof T=="function"?-T.apply(this,arguments):-T),k,i)},B,_)};function p(N,P){return P=Math.max(o[0],Math.min(o[1],P)),P===N.k?N:new Jt(P,N.x,N.y)}function w(N,P,T){var B=P[0]-T[0]*N.k,_=P[1]-T[1]*N.k;return B===N.x&&_===N.y?N:new Jt(N.k,B,_)}function v(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function j(N,P,T,B){N.on("start.zoom",function(){E(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(B).end()}).tween("zoom",function(){var _=this,k=arguments,R=E(_,k).event(B),M=t.apply(_,k),L=T==null?v(M):typeof T=="function"?T.apply(_,k):T,q=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),V=_.__zoom,W=typeof P=="function"?P.apply(_,k):P,J=c(V.invert(L).concat(q/V.k),W.invert(L).concat(q/W.k));return function(ee){if(ee===1)ee=W;else{var le=J(ee),ie=q/le[2];ee=new Jt(ie,L[0]-le[0]*ie,L[1]-le[1]*ie)}R.zoom(null,ee)}})}function E(N,P,T){return!T&&N.__zooming||new A(N,P)}function A(N,P){this.that=N,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,P),this.taps=0}A.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,P){return this.mouse&&N!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var P=gt(this.that).datum();u.call(N,this.that,new fE(N,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),P)}};function C(N,...P){if(!e.apply(this,arguments))return;var T=E(this,P).event(N),B=this.__zoom,_=Math.max(o[0],Math.min(o[1],B.k*Math.pow(2,r.apply(this,arguments)))),k=kt(N);if(T.wheel)(T.mouse[0][0]!==k[0]||T.mouse[0][1]!==k[1])&&(T.mouse[1]=B.invert(T.mouse[0]=k)),clearTimeout(T.wheel);else{if(B.k===_)return;T.mouse=[k,B.invert(k)],Ci(this),T.start()}Cs(N),T.wheel=setTimeout(R,g),T.zoom("mouse",n(w(p(B,_),T.mouse[0],T.mouse[1]),T.extent,i));function R(){T.wheel=null,T.end()}}function $(N,...P){if(h||!e.apply(this,arguments))return;var T=N.currentTarget,B=E(this,P,!0).event(N),_=gt(N.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",q,!0),k=kt(N,T),R=N.clientX,M=N.clientY;e0(N.view),Na(N),B.mouse=[k,this.__zoom.invert(k)],Ci(this),B.start();function L(V){if(Cs(V),!B.moved){var W=V.clientX-R,J=V.clientY-M;B.moved=W*W+J*J>x}B.event(V).zoom("mouse",n(w(B.that.__zoom,B.mouse[0]=kt(V,T),B.mouse[1]),B.extent,i))}function q(V){_.on("mousemove.zoom mouseup.zoom",null),t0(V.view,B.moved),Cs(V),B.event(V).end()}}function D(N,...P){if(e.apply(this,arguments)){var T=this.__zoom,B=kt(N.changedTouches?N.changedTouches[0]:N,this),_=T.invert(B),k=T.k*(N.shiftKey?.5:2),R=n(w(p(T,k),B,_),t.apply(this,P),i);Cs(N),a>0?gt(this).transition().duration(a).call(j,R,B,N):gt(this).call(m.transform,R,B,N)}}function I(N,...P){if(e.apply(this,arguments)){var T=N.touches,B=T.length,_=E(this,P,N.changedTouches.length===B).event(N),k,R,M,L;for(Na(N),R=0;R<B;++R)M=T[R],L=kt(M,this),L=[L,this.__zoom.invert(L),M.identifier],_.touch0?!_.touch1&&_.touch0[2]!==L[2]&&(_.touch1=L,_.taps=0):(_.touch0=L,k=!0,_.taps=1+!!d);d&&(d=clearTimeout(d)),k&&(_.taps<2&&(f=L[0],d=setTimeout(function(){d=null},y)),Ci(this),_.start())}}function U(N,...P){if(this.__zooming){var T=E(this,P).event(N),B=N.changedTouches,_=B.length,k,R,M,L;for(Cs(N),k=0;k<_;++k)R=B[k],M=kt(R,this),T.touch0&&T.touch0[2]===R.identifier?T.touch0[0]=M:T.touch1&&T.touch1[2]===R.identifier&&(T.touch1[0]=M);if(R=T.that.__zoom,T.touch1){var q=T.touch0[0],V=T.touch0[1],W=T.touch1[0],J=T.touch1[1],ee=(ee=W[0]-q[0])*ee+(ee=W[1]-q[1])*ee,le=(le=J[0]-V[0])*le+(le=J[1]-V[1])*le;R=p(R,Math.sqrt(ee/le)),M=[(q[0]+W[0])/2,(q[1]+W[1])/2],L=[(V[0]+J[0])/2,(V[1]+J[1])/2]}else if(T.touch0)M=T.touch0[0],L=T.touch0[1];else return;T.zoom("touch",n(w(R,M,L),T.extent,i))}}function z(N,...P){if(this.__zooming){var T=E(this,P).event(N),B=N.changedTouches,_=B.length,k,R;for(Na(N),h&&clearTimeout(h),h=setTimeout(function(){h=null},y),k=0;k<_;++k)R=B[k],T.touch0&&T.touch0[2]===R.identifier?delete T.touch0:T.touch1&&T.touch1[2]===R.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(R=kt(R,this),Math.hypot(f[0]-R[0],f[1]-R[1])<b)){var M=gt(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return m.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:si(+N),m):r},m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:si(!!N),m):e},m.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:si(!!N),m):s},m.extent=function(N){return arguments.length?(t=typeof N=="function"?N:si([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),m):t},m.scaleExtent=function(N){return arguments.length?(o[0]=+N[0],o[1]=+N[1],m):[o[0],o[1]]},m.translateExtent=function(N){return arguments.length?(i[0][0]=+N[0][0],i[1][0]=+N[1][0],i[0][1]=+N[0][1],i[1][1]=+N[1][1],m):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},m.constrain=function(N){return arguments.length?(n=N,m):n},m.duration=function(N){return arguments.length?(a=+N,m):a},m.interpolate=function(N){return arguments.length?(c=N,m):c},m.on=function(){var N=u.on.apply(u,arguments);return N===u?m:N},m.clickDistance=function(N){return arguments.length?(x=(N=+N)*N,m):Math.sqrt(x)},m.tapDistance=function(N){return arguments.length?(b=+N,m):b},m}const Ol=S.createContext(null),yE=Ol.Provider,ln={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},g0=ln.error001();function de(e,t){const n=S.useContext(Ol);if(n===null)throw new Error(g0);return Ug(n,e,t)}const Te=()=>{const e=S.useContext(Ol);if(e===null)throw new Error(g0);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},vE=e=>e.userSelectionActive?"none":"all";function Ju({position:e,children:t,className:n,style:r,...s}){const o=de(vE),i=`${e}`.split("-");return F.createElement("div",{className:De(["react-flow__panel",n,...i]),style:{...r,pointerEvents:o},...s},t)}function wE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:F.createElement(Ju,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},F.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const NE=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:o={},labelBgPadding:i=[2,4],labelBgBorderRadius:a=2,children:c,className:u,...d})=>{const f=S.useRef(null),[h,y]=S.useState({x:0,y:0,width:0,height:0}),g=De(["react-flow__edge-textwrapper",u]);return S.useEffect(()=>{if(f.current){const x=f.current.getBBox();y({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:F.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...d},s&&F.createElement("rect",{width:h.width+2*i[0],x:-i[0],y:-i[1],height:h.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),F.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),c)};var bE=S.memo(NE);const Zu=e=>({width:e.offsetWidth,height:e.offsetHeight}),ss=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ed=(e={x:0,y:0},t)=>({x:ss(e.x,t[0][0],t[1][0]),y:ss(e.y,t[0][1],t[1][1])}),hh=(e,t,n)=>e<t?ss(Math.abs(e-t),1,50)/50:e>n?-ss(Math.abs(e-n),1,50)/50:0,x0=(e,t)=>{const n=hh(e.x,35,t.width-35)*20,r=hh(e.y,35,t.height-35)*20;return[n,r]},y0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},v0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),yo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),w0=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ph=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),SE=(e,t)=>w0(v0(yo(e),yo(t))),Dc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},jE=e=>yt(e.width)&&yt(e.height)&&yt(e.x)&&yt(e.y),yt=e=>!isNaN(e)&&isFinite(e),we=Symbol.for("internals"),N0=["Enter"," ","Escape"],EE=(e,t)=>{},kE=e=>"nativeEvent"in e;function Fc(e){var s,o;const t=kE(e)?e.nativeEvent:e,n=((o=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const b0=e=>"clientX"in e,Tn=(e,t)=>{var o,i;const n=b0(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,s=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},il=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Oo=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:y=20})=>F.createElement(F.Fragment,null,F.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),y&&F.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}),s&&yt(n)&&yt(r)?F.createElement(bE,{x:n,y:r,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u}):null);Oo.displayName="BaseEdge";function _s(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(o=>o.id===e);s&&n(r,{...s})}}function S0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,o=n<e?n+s:n-s,i=Math.abs(r-t)/2,a=r<t?r+i:r-i;return[o,a,s,i]}function j0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:i,targetControlY:a}){const c=e*.125+s*.375+i*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var ur;(function(e){e.Strict="strict",e.Loose="loose"})(ur||(ur={}));var Qn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Qn||(Qn={}));var vo;(function(e){e.Partial="partial",e.Full="full"})(vo||(vo={}));var xn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(xn||(xn={}));var os;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(os||(os={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));function mh({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function E0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:o=G.Top}){const[i,a]=mh({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=mh({pos:o,x1:r,y1:s,x2:e,y2:t}),[d,f,h,y]=j0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:i,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${a} ${c},${u} ${r},${s}`,d,f,h,y]}const td=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=G.Bottom,targetPosition:o=G.Top,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:y,markerStart:g,interactionWidth:x})=>{const[b,m,p]=E0({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:o});return F.createElement(Oo,{path:b,labelX:m,labelY:p,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:y,markerStart:g,interactionWidth:x})});td.displayName="SimpleBezierEdge";const gh={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},CE=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},xh=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function _E({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:o}){const i=gh[t],a=gh[r],c={x:e.x+i.x*o,y:e.y+i.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},d=CE({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let y=[],g,x;const b={x:0,y:0},m={x:0,y:0},[p,w,v,j]=S0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[f]*a[f]===-1){g=s.x??p,x=s.y??w;const A=[{x:g,y:c.y},{x:g,y:u.y}],C=[{x:c.x,y:x},{x:u.x,y:x}];i[f]===h?y=f==="x"?A:C:y=f==="x"?C:A}else{const A=[{x:c.x,y:u.y}],C=[{x:u.x,y:c.y}];if(f==="x"?y=i.x===h?C:A:y=i.y===h?A:C,t===r){const z=Math.abs(e[f]-n[f]);if(z<=o){const N=Math.min(o-1,o-z);i[f]===h?b[f]=(c[f]>e[f]?-1:1)*N:m[f]=(u[f]>n[f]?-1:1)*N}}if(t!==r){const z=f==="x"?"y":"x",N=i[f]===a[z],P=c[z]>u[z],T=c[z]<u[z];(i[f]===1&&(!N&&P||N&&T)||i[f]!==1&&(!N&&T||N&&P))&&(y=f==="x"?A:C)}const $={x:c.x+b.x,y:c.y+b.y},D={x:u.x+m.x,y:u.y+m.y},I=Math.max(Math.abs($.x-y[0].x),Math.abs(D.x-y[0].x)),U=Math.max(Math.abs($.y-y[0].y),Math.abs(D.y-y[0].y));I>=U?(g=($.x+D.x)/2,x=y[0].y):(g=y[0].x,x=($.y+D.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...y,{x:u.x+m.x,y:u.y+m.y},n],g,x,v,j]}function AE(e,t,n,r){const s=Math.min(xh(e,t)/2,xh(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return`L${o} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+s*u},${i}Q ${o},${i} ${o},${i+s*d}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${i+s*c}Q ${o},${i} ${o+s*a},${i}`}function zc({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:o=G.Top,borderRadius:i=5,centerX:a,centerY:c,offset:u=20}){const[d,f,h,y,g]=_E({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:a,y:c},offset:u});return[d.reduce((b,m,p)=>{let w="";return p>0&&p<d.length-1?w=AE(d[p-1],m,d[p+1],i):w=`${p===0?"M":"L"}${m.x} ${m.y}`,b+=w,b},""),f,h,y,g]}const Ml=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=G.Bottom,targetPosition:h=G.Top,markerEnd:y,markerStart:g,pathOptions:x,interactionWidth:b})=>{const[m,p,w]=zc({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return F.createElement(Oo,{path:m,labelX:p,labelY:w,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:y,markerStart:g,interactionWidth:b})});Ml.displayName="SmoothStepEdge";const nd=S.memo(e=>{var t;return F.createElement(Ml,{...e,pathOptions:S.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});nd.displayName="StepEdge";function TE({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,o,i,a]=S0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,o,i,a]}const rd=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:y})=>{const[g,x,b]=TE({sourceX:e,sourceY:t,targetX:n,targetY:r});return F.createElement(Oo,{path:g,labelX:x,labelY:b,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:y})});rd.displayName="StraightEdge";function oi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function yh({pos:e,x1:t,y1:n,x2:r,y2:s,c:o}){switch(e){case G.Left:return[t-oi(t-r,o),n];case G.Right:return[t+oi(r-t,o),n];case G.Top:return[t,n-oi(n-s,o)];case G.Bottom:return[t,n+oi(s-n,o)]}}function k0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:o=G.Top,curvature:i=.25}){const[a,c]=yh({pos:n,x1:e,y1:t,x2:r,y2:s,c:i}),[u,d]=yh({pos:o,x1:r,y1:s,x2:e,y2:t,c:i}),[f,h,y,g]=j0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${c} ${u},${d} ${r},${s}`,f,h,y,g]}const ll=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=G.Bottom,targetPosition:o=G.Top,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:y,markerStart:g,pathOptions:x,interactionWidth:b})=>{const[m,p,w]=k0({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:o,curvature:x==null?void 0:x.curvature});return F.createElement(Oo,{path:m,labelX:p,labelY:w,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:y,markerStart:g,interactionWidth:b})});ll.displayName="BezierEdge";const sd=S.createContext(null),PE=sd.Provider;sd.Consumer;const RE=()=>S.useContext(sd),$E=e=>"id"in e&&"source"in e&&"target"in e,IE=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Uc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,OE=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),C0=(e,t)=>{if(!e.source||!e.target)return t;let n;return $E(e)?n={...e}:n={...e,id:IE(e)},OE(n,t)?t:t.concat(n)},Bc=({x:e,y:t},[n,r,s],o,[i,a])=>{const c={x:(e-n)/s,y:(t-r)/s};return o?{x:i*Math.round(c.x/i),y:a*Math.round(c.y/a)}:c},_0=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),nr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},Ll=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:o,y:i}=nr(s,t).positionAbsolute;return v0(r,yo({x:o,y:i,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return w0(n)},A0=(e,t,[n,r,s]=[0,0,1],o=!1,i=!1,a=[0,0])=>{const c={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:y=!0,hidden:g=!1}=d;if(i&&!y||g)return!1;const{positionAbsolute:x}=nr(d,a),b={x:x.x,y:x.y,width:f||0,height:h||0},m=Dc(c,b),p=typeof f>"u"||typeof h>"u"||f===null||h===null,w=o&&m>0,v=(f||0)*(h||0);(p||w||m>=v||d.dragging)&&u.push(d)}),u},T0=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},P0=(e,t,n,r,s,o=.1)=>{const i=t/(e.width*(1+o)),a=n/(e.height*(1+o)),c=Math.min(i,a),u=ss(c,r,s),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,y=n/2-f*u;return{x:h,y,zoom:u}},Vn=(e,t=0)=>e.transition().duration(t);function vh(e,t,n,r){return(t[n]||[]).reduce((s,o)=>{var i,a;return`${e.id}-${o.id}-${n}`!==r&&s.push({id:o.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),s},[])}function ME(e,t,n,r,s,o){const{x:i,y:a}=Tn(e),u=t.elementsFromPoint(i,a).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const x=od(void 0,u),b=u.getAttribute("data-handleid"),m=o({nodeId:g,id:b,type:x});if(m){const p=s.find(w=>w.nodeId===g&&w.type===x&&w.id===b);return{handle:{id:b,type:x,nodeId:g,x:(p==null?void 0:p.x)||n.x,y:(p==null?void 0:p.y)||n.y},validHandleResult:m}}}}let d=[],f=1/0;if(s.forEach(g=>{const x=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(x<=r){const b=o(g);x<=f&&(x<f?d=[{handle:g,validHandleResult:b}]:x===f&&d.push({handle:g,validHandleResult:b}),f=x)}}),!d.length)return{handle:null,validHandleResult:R0()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:g})=>g.isValid),y=d.some(({handle:g})=>g.type==="target");return d.find(({handle:g,validHandleResult:x})=>y?g.type==="target":h?x.isValid:!0)||d[0]}const LE={source:null,target:null,sourceHandle:null,targetHandle:null},R0=()=>({handleDomNode:null,isValid:!1,connection:LE,endHandle:null});function $0(e,t,n,r,s,o,i){const a=s==="target",c=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...R0(),handleDomNode:c};if(c){const d=od(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),y=c.classList.contains("connectable"),g=c.classList.contains("connectableend"),x={source:a?f:n,sourceHandle:a?h:r,target:a?n:f,targetHandle:a?r:h};u.connection=x,y&&g&&(t===ur.Strict?a&&d==="source"||!a&&d==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=o(x))}return u}function DE({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,o)=>{if(o[we]){const{handleBounds:i}=o[we];let a=[],c=[];i&&(a=vh(o,i,"source",`${t}-${n}-${r}`),c=vh(o,i,"target",`${t}-${n}-${r}`)),s.push(...a,...c)}return s},[])}function od(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ba(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function FE(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function I0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:o,setState:i,isValidConnection:a,edgeUpdaterType:c,onReconnectEnd:u}){const d=y0(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:y,connectionRadius:g,onConnectStart:x,panBy:b,getNodes:m,cancelConnection:p}=o();let w=0,v;const{x:j,y:E}=Tn(e),A=d==null?void 0:d.elementFromPoint(j,E),C=od(c,A),$=h==null?void 0:h.getBoundingClientRect();if(!$||!C)return;let D,I=Tn(e,$),U=!1,z=null,N=!1,P=null;const T=DE({nodes:m(),nodeId:n,handleId:t,handleType:C}),B=()=>{if(!y)return;const[R,M]=x0(I,$);b({x:R,y:M}),w=requestAnimationFrame(B)};i({connectionPosition:I,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:C});function _(R){const{transform:M}=o();I=Tn(R,$);const{handle:L,validHandleResult:q}=ME(R,d,Bc(I,M,!1,[1,1]),g,T,V=>$0(V,f,n,t,s?"target":"source",a,d));if(v=L,U||(B(),U=!0),P=q.handleDomNode,z=q.connection,N=q.isValid,i({connectionPosition:v&&N?_0({x:v.x,y:v.y},M):I,connectionStatus:FE(!!v,N),connectionEndHandle:q.endHandle}),!v&&!N&&!P)return ba(D);z.source!==z.target&&P&&(ba(D),D=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",N),P.classList.toggle("react-flow__handle-valid",N))}function k(R){var M,L;(v||P)&&z&&N&&(r==null||r(z)),(L=(M=o()).onConnectEnd)==null||L.call(M,R),c&&(u==null||u(R)),ba(D),p(),cancelAnimationFrame(w),U=!1,N=!1,z=null,P=null,d.removeEventListener("mousemove",_),d.removeEventListener("mouseup",k),d.removeEventListener("touchmove",_),d.removeEventListener("touchend",k)}d.addEventListener("mousemove",_),d.addEventListener("mouseup",k),d.addEventListener("touchmove",_),d.addEventListener("touchend",k)}const wh=()=>!0,zE=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),UE=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:o,connectionClickStartHandle:i}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},O0=S.forwardRef(({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:i,onConnect:a,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},y)=>{var $,D;const g=i||null,x=e==="target",b=Te(),m=RE(),{connectOnClick:p,noPanClassName:w}=de(zE,$e),{connecting:v,clickConnecting:j}=de(UE(m,g,e),$e);m||(D=($=b.getState()).onError)==null||D.call($,"010",ln.error010());const E=I=>{const{defaultEdgeOptions:U,onConnect:z,hasDefaultEdges:N}=b.getState(),P={...U,...I};if(N){const{edges:T,setEdges:B}=b.getState();B(C0(P,T))}z==null||z(P),a==null||a(P)},A=I=>{if(!m)return;const U=b0(I);s&&(U&&I.button===0||!U)&&I0({event:I,handleId:g,nodeId:m,onConnect:E,isTarget:x,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||wh}),U?d==null||d(I):f==null||f(I)},C=I=>{const{onClickConnectStart:U,onClickConnectEnd:z,connectionClickStartHandle:N,connectionMode:P,isValidConnection:T}=b.getState();if(!m||!N&&!s)return;if(!N){U==null||U(I,{nodeId:m,handleId:g,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:g}});return}const B=y0(I.target),_=n||T||wh,{connection:k,isValid:R}=$0({nodeId:m,id:g,type:e},P,N.nodeId,N.handleId||null,N.type,_,B);R&&E(k),z==null||z(I),b.setState({connectionClickStartHandle:null})};return F.createElement("div",{"data-handleid":g,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${g}-${e}`,className:De(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!x,target:x,connectable:r,connectablestart:s,connectableend:o,connecting:j,connectionindicator:r&&(s&&!v||o&&v)}]),onMouseDown:A,onTouchStart:A,onClick:p?C:void 0,ref:y,...h},c)});O0.displayName="Handle";var is=S.memo(O0);const M0=({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom})=>F.createElement(F.Fragment,null,F.createElement(is,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,F.createElement(is,{type:"source",position:r,isConnectable:t}));M0.displayName="DefaultNode";var Hc=S.memo(M0);const L0=({data:e,isConnectable:t,sourcePosition:n=G.Bottom})=>F.createElement(F.Fragment,null,e==null?void 0:e.label,F.createElement(is,{type:"source",position:n,isConnectable:t}));L0.displayName="InputNode";var D0=S.memo(L0);const F0=({data:e,isConnectable:t,targetPosition:n=G.Top})=>F.createElement(F.Fragment,null,F.createElement(is,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);F0.displayName="OutputNode";var z0=S.memo(F0);const id=()=>null;id.displayName="GroupNode";const BE=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),ii=e=>e.id;function HE(e,t){return $e(e.selectedNodes.map(ii),t.selectedNodes.map(ii))&&$e(e.selectedEdges.map(ii),t.selectedEdges.map(ii))}const U0=S.memo(({onSelectionChange:e})=>{const t=Te(),{selectedNodes:n,selectedEdges:r}=de(BE,HE);return S.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(o=>o(s))},[n,r,e]),null});U0.displayName="SelectionListener";const WE=e=>!!e.onSelectionChange;function VE({onSelectionChange:e}){const t=de(WE);return e||t?F.createElement(U0,{onSelectionChange:e}):null}const qE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Nr(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const KE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:o,onConnectEnd:i,onClickConnectStart:a,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:y,elevateNodesOnSelect:g,minZoom:x,maxZoom:b,nodeExtent:m,onNodesChange:p,onEdgesChange:w,elementsSelectable:v,connectionMode:j,snapGrid:E,snapToGrid:A,translateExtent:C,connectOnClick:$,defaultEdgeOptions:D,fitView:I,fitViewOptions:U,onNodesDelete:z,onEdgesDelete:N,onNodeDrag:P,onNodeDragStart:T,onNodeDragStop:B,onSelectionDrag:_,onSelectionDragStart:k,onSelectionDragStop:R,noPanClassName:M,nodeOrigin:L,rfId:q,autoPanOnConnect:V,autoPanOnNodeDrag:W,onError:J,connectionRadius:ee,isValidConnection:le,nodeDragThreshold:ie})=>{const{setNodes:se,setEdges:Ie,setDefaultNodesAndEdges:Ce,setMinZoom:qe,setMaxZoom:Fe,setTranslateExtent:Ne,setNodeExtent:it,reset:ce}=de(qE,$e),Q=Te();return S.useEffect(()=>{const Ke=r==null?void 0:r.map(Wt=>({...Wt,...D}));return Ce(n,Ke),()=>{ce()}},[]),te("defaultEdgeOptions",D,Q.setState),te("connectionMode",j,Q.setState),te("onConnect",s,Q.setState),te("onConnectStart",o,Q.setState),te("onConnectEnd",i,Q.setState),te("onClickConnectStart",a,Q.setState),te("onClickConnectEnd",c,Q.setState),te("nodesDraggable",u,Q.setState),te("nodesConnectable",d,Q.setState),te("nodesFocusable",f,Q.setState),te("edgesFocusable",h,Q.setState),te("edgesUpdatable",y,Q.setState),te("elementsSelectable",v,Q.setState),te("elevateNodesOnSelect",g,Q.setState),te("snapToGrid",A,Q.setState),te("snapGrid",E,Q.setState),te("onNodesChange",p,Q.setState),te("onEdgesChange",w,Q.setState),te("connectOnClick",$,Q.setState),te("fitViewOnInit",I,Q.setState),te("fitViewOnInitOptions",U,Q.setState),te("onNodesDelete",z,Q.setState),te("onEdgesDelete",N,Q.setState),te("onNodeDrag",P,Q.setState),te("onNodeDragStart",T,Q.setState),te("onNodeDragStop",B,Q.setState),te("onSelectionDrag",_,Q.setState),te("onSelectionDragStart",k,Q.setState),te("onSelectionDragStop",R,Q.setState),te("noPanClassName",M,Q.setState),te("nodeOrigin",L,Q.setState),te("rfId",q,Q.setState),te("autoPanOnConnect",V,Q.setState),te("autoPanOnNodeDrag",W,Q.setState),te("onError",J,Q.setState),te("connectionRadius",ee,Q.setState),te("isValidConnection",le,Q.setState),te("nodeDragThreshold",ie,Q.setState),Nr(e,se),Nr(t,Ie),Nr(x,qe),Nr(b,Fe),Nr(C,Ne),Nr(m,it),null},Nh={display:"none"},XE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},B0="react-flow__node-desc",H0="react-flow__edge-desc",YE="react-flow__aria-live",GE=e=>e.ariaLiveMessage;function QE({rfId:e}){const t=de(GE);return F.createElement("div",{id:`${YE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:XE},t)}function JE({rfId:e,disableKeyboardA11y:t}){return F.createElement(F.Fragment,null,F.createElement("div",{id:`${B0}-${e}`,style:Nh},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),F.createElement("div",{id:`${H0}-${e}`,style:Nh},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&F.createElement(QE,{rfId:e}))}var wo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=S.useState(!1),s=S.useRef(!1),o=S.useRef(new Set([])),[i,a]=S.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return S.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=y=>{if(s.current=y.ctrlKey||y.metaKey||y.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Fc(y))return!1;const x=Sh(y.code,a);o.current.add(y[x]),bh(i,o.current,!1)&&(y.preventDefault(),r(!0))},f=y=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Fc(y))return!1;const x=Sh(y.code,a);bh(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(y[x]),y.key==="Meta"&&o.current.clear(),s.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function bh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Sh(e,t){return t.includes(e)?"code":"key"}function W0(e,t,n,r){var a,c;const s=e.parentNode||e.parentId;if(!s)return n;const o=t.get(s),i=nr(o,r);return W0(o,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((a=o[we])==null?void 0:a.z)??0)>(n.z??0)?((c=o[we])==null?void 0:c.z)??0:n.z??0},r)}function V0(e,t,n){e.forEach(r=>{var o;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:i,y:a,z:c}=W0(r,e,{...r.position,z:((o=r[we])==null?void 0:o.z)??0},t);r.positionAbsolute={x:i,y:a},r[we].z=c,n!=null&&n[r.id]&&(r[we].isParent=!0)}})}function Sa(e,t,n,r){const s=new Map,o={},i=r?1e3:0;return e.forEach(a=>{var y;const c=(yt(a.zIndex)?a.zIndex:0)+(a.selected?i:0),u=t.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(d,we,{enumerable:!1,value:{handleBounds:h||(y=u==null?void 0:u[we])==null?void 0:y.handleBounds,z:c}}),s.set(a.id,d)}),V0(s,n,o),s}function q0(e,t={}){const{getNodes:n,width:r,height:s,minZoom:o,maxZoom:i,d3Zoom:a,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(a&&c&&(h||!t.initial)){const g=n().filter(b=>{var p;const m=t.includeHiddenNodes?b.width&&b.height:!b.hidden;return(p=t.nodes)!=null&&p.length?m&&t.nodes.some(w=>w.id===b.id):m}),x=g.every(b=>b.width&&b.height);if(g.length>0&&x){const b=Ll(g,f),{x:m,y:p,zoom:w}=P0(b,r,s,t.minZoom??o,t.maxZoom??i,t.padding??.1),v=en.translate(m,p).scale(w);return typeof t.duration=="number"&&t.duration>0?a.transform(Vn(c,t.duration),v):a.transform(c,v),!0}}return!1}function ZE(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[we]:r[we],selected:n.selected})}),new Map(t)}function ek(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function li({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:o,onNodesChange:i,onEdgesChange:a,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:ZE(e,s)}),i==null||i(e)),t!=null&&t.length&&(u&&r({edges:ek(t,o)}),a==null||a(t))}const br=()=>{},tk={zoomIn:br,zoomOut:br,zoomTo:br,getZoom:()=>1,setViewport:br,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:br,fitBounds:br,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},nk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),rk=()=>{const e=Te(),{d3Zoom:t,d3Selection:n}=de(nk,$e);return S.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Vn(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Vn(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,o)=>t.scaleTo(Vn(n,o==null?void 0:o.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,o)=>{const[i,a,c]=e.getState().transform,u=en.translate(s.x??i,s.y??a).scale(s.zoom??c);t.transform(Vn(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[s,o,i]=e.getState().transform;return{x:s,y:o,zoom:i}},fitView:s=>q0(e.getState,s),setCenter:(s,o,i)=>{const{width:a,height:c,maxZoom:u}=e.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,f=a/2-s*d,h=c/2-o*d,y=en.translate(f,h).scale(d);t.transform(Vn(n,i==null?void 0:i.duration),y)},fitBounds:(s,o)=>{const{width:i,height:a,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=P0(s,i,a,c,u,(o==null?void 0:o.padding)??.1),y=en.translate(d,f).scale(h);t.transform(Vn(n,o==null?void 0:o.duration),y)},project:s=>{const{transform:o,snapToGrid:i,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Bc(s,o,i,a)},screenToFlowPosition:s=>{const{transform:o,snapToGrid:i,snapGrid:a,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),f={x:s.x-u,y:s.y-d};return Bc(f,o,i,a)},flowToScreenPosition:s=>{const{transform:o,domNode:i}=e.getState();if(!i)return s;const{x:a,y:c}=i.getBoundingClientRect(),u=_0(s,o);return{x:u.x+a,y:u.y+c}},viewportInitialized:!0}:tk,[t,n])};function ld(){const e=rk(),t=Te(),n=S.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=S.useCallback(x=>t.getState().nodeInternals.get(x),[]),s=S.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(b=>({...b}))},[]),o=S.useCallback(x=>{const{edges:b=[]}=t.getState();return b.find(m=>m.id===x)},[]),i=S.useCallback(x=>{const{getNodes:b,setNodes:m,hasDefaultNodes:p,onNodesChange:w}=t.getState(),v=b(),j=typeof x=="function"?x(v):x;if(p)m(j);else if(w){const E=j.length===0?v.map(A=>({type:"remove",id:A.id})):j.map(A=>({item:A,type:"reset"}));w(E)}},[]),a=S.useCallback(x=>{const{edges:b=[],setEdges:m,hasDefaultEdges:p,onEdgesChange:w}=t.getState(),v=typeof x=="function"?x(b):x;if(p)m(v);else if(w){const j=v.length===0?b.map(E=>({type:"remove",id:E.id})):v.map(E=>({item:E,type:"reset"}));w(j)}},[]),c=S.useCallback(x=>{const b=Array.isArray(x)?x:[x],{getNodes:m,setNodes:p,hasDefaultNodes:w,onNodesChange:v}=t.getState();if(w){const E=[...m(),...b];p(E)}else if(v){const j=b.map(E=>({item:E,type:"add"}));v(j)}},[]),u=S.useCallback(x=>{const b=Array.isArray(x)?x:[x],{edges:m=[],setEdges:p,hasDefaultEdges:w,onEdgesChange:v}=t.getState();if(w)p([...m,...b]);else if(v){const j=b.map(E=>({item:E,type:"add"}));v(j)}},[]),d=S.useCallback(()=>{const{getNodes:x,edges:b=[],transform:m}=t.getState(),[p,w,v]=m;return{nodes:x().map(j=>({...j})),edges:b.map(j=>({...j})),viewport:{x:p,y:w,zoom:v}}},[]),f=S.useCallback(({nodes:x,edges:b})=>{const{nodeInternals:m,getNodes:p,edges:w,hasDefaultNodes:v,hasDefaultEdges:j,onNodesDelete:E,onEdgesDelete:A,onNodesChange:C,onEdgesChange:$}=t.getState(),D=(x||[]).map(P=>P.id),I=(b||[]).map(P=>P.id),U=p().reduce((P,T)=>{const B=T.parentNode||T.parentId,_=!D.includes(T.id)&&B&&P.find(R=>R.id===B);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(D.includes(T.id)||_)&&P.push(T),P},[]),z=w.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),N=z.filter(P=>I.includes(P.id));if(U||N){const P=T0(U,z),T=[...N,...P],B=T.reduce((_,k)=>(_.includes(k.id)||_.push(k.id),_),[]);if((j||v)&&(j&&t.setState({edges:w.filter(_=>!B.includes(_.id))}),v&&(U.forEach(_=>{m.delete(_.id)}),t.setState({nodeInternals:new Map(m)}))),B.length>0&&(A==null||A(T),$&&$(B.map(_=>({id:_,type:"remove"})))),U.length>0&&(E==null||E(U),C)){const _=U.map(k=>({id:k.id,type:"remove"}));C(_)}}},[]),h=S.useCallback(x=>{const b=jE(x),m=b?null:t.getState().nodeInternals.get(x.id);return!b&&!m?[null,null,b]:[b?x:ph(m),m,b]},[]),y=S.useCallback((x,b=!0,m)=>{const[p,w,v]=h(x);return p?(m||t.getState().getNodes()).filter(j=>{if(!v&&(j.id===w.id||!j.positionAbsolute))return!1;const E=ph(j),A=Dc(E,p);return b&&A>0||A>=p.width*p.height}):[]},[]),g=S.useCallback((x,b,m=!0)=>{const[p]=h(x);if(!p)return!1;const w=Dc(p,b);return m&&w>0||w>=p.width*p.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:o,setNodes:i,setEdges:a,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:y,isNodeIntersecting:g}),[e,n,r,s,o,i,a,c,u,d,f,y,g])}const sk={actInsideInputWithModifier:!1};var ok=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Te(),{deleteElements:r}=ld(),s=wo(e,sk),o=wo(t);S.useEffect(()=>{if(s){const{edges:i,getNodes:a}=n.getState(),c=a().filter(d=>d.selected),u=i.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),S.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function ik(e){const t=Te();S.useEffect(()=>{let n;const r=()=>{var o,i;if(!e.current)return;const s=Zu(e.current);(s.height===0||s.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",ln.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const ad={position:"absolute",width:"100%",height:"100%",top:0,left:0},lk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ai=e=>({x:e.x,y:e.y,zoom:e.k}),Sr=(e,t)=>e.target.closest(`.${t}`),jh=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Eh=e=>{const t=e.ctrlKey&&il()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},ak=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),ck=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:o=!0,panOnScroll:i=!1,panOnScrollSpeed:a=.5,panOnScrollMode:c=Qn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:y,minZoom:g,maxZoom:x,zoomActivationKeyCode:b,preventScrolling:m=!0,children:p,noWheelClassName:w,noPanClassName:v})=>{const j=S.useRef(),E=Te(),A=S.useRef(!1),C=S.useRef(!1),$=S.useRef(null),D=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:U,d3ZoomHandler:z,userSelectionActive:N}=de(ak,$e),P=wo(b),T=S.useRef(0),B=S.useRef(!1),_=S.useRef();return ik($),S.useEffect(()=>{if($.current){const k=$.current.getBoundingClientRect(),R=m0().scaleExtent([g,x]).translateExtent(y),M=gt($.current).call(R),L=en.translate(h.x,h.y).scale(ss(h.zoom,g,x)),q=[[0,0],[k.width,k.height]],V=R.constrain()(L,q,y);R.transform(M,V),R.wheelDelta(Eh),E.setState({d3Zoom:R,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:$.current.closest(".react-flow")})}},[]),S.useEffect(()=>{U&&I&&(i&&!P&&!N?U.on("wheel.zoom",k=>{if(Sr(k,w))return!1;k.preventDefault(),k.stopImmediatePropagation();const R=U.property("__zoom").k||1;if(k.ctrlKey&&o){const le=kt(k),ie=Eh(k),se=R*Math.pow(2,ie);I.scaleTo(U,se,le,k);return}const M=k.deltaMode===1?20:1;let L=c===Qn.Vertical?0:k.deltaX*M,q=c===Qn.Horizontal?0:k.deltaY*M;!il()&&k.shiftKey&&c!==Qn.Vertical&&(L=k.deltaY*M,q=0),I.translateBy(U,-(L/R)*a,-(q/R)*a,{internal:!0});const V=ai(U.property("__zoom")),{onViewportChangeStart:W,onViewportChange:J,onViewportChangeEnd:ee}=E.getState();clearTimeout(_.current),B.current||(B.current=!0,t==null||t(k,V),W==null||W(V)),B.current&&(e==null||e(k,V),J==null||J(V),_.current=setTimeout(()=>{n==null||n(k,V),ee==null||ee(V),B.current=!1},150))},{passive:!1}):typeof z<"u"&&U.on("wheel.zoom",function(k,R){if(!m&&k.type==="wheel"&&!k.ctrlKey||Sr(k,w))return null;k.preventDefault(),z.call(this,k,R)},{passive:!1}))},[N,i,c,U,I,z,P,o,m,w,t,e,n]),S.useEffect(()=>{I&&I.on("start",k=>{var L,q;if(!k.sourceEvent||k.sourceEvent.internal)return null;T.current=(L=k.sourceEvent)==null?void 0:L.button;const{onViewportChangeStart:R}=E.getState(),M=ai(k.transform);A.current=!0,D.current=M,((q=k.sourceEvent)==null?void 0:q.type)==="mousedown"&&E.setState({paneDragging:!0}),R==null||R(M),t==null||t(k.sourceEvent,M)})},[I,t]),S.useEffect(()=>{I&&(N&&!A.current?I.on("zoom",null):N||I.on("zoom",k=>{var M;const{onViewportChange:R}=E.getState();if(E.setState({transform:[k.transform.x,k.transform.y,k.transform.k]}),C.current=!!(r&&jh(f,T.current??0)),(e||R)&&!((M=k.sourceEvent)!=null&&M.internal)){const L=ai(k.transform);R==null||R(L),e==null||e(k.sourceEvent,L)}}))},[N,I,e,f,r]),S.useEffect(()=>{I&&I.on("end",k=>{if(!k.sourceEvent||k.sourceEvent.internal)return null;const{onViewportChangeEnd:R}=E.getState();if(A.current=!1,E.setState({paneDragging:!1}),r&&jh(f,T.current??0)&&!C.current&&r(k.sourceEvent),C.current=!1,(n||R)&&lk(D.current,k.transform)){const M=ai(k.transform);D.current=M,clearTimeout(j.current),j.current=setTimeout(()=>{R==null||R(M),n==null||n(k.sourceEvent,M)},i?150:0)}})},[I,i,f,n,r]),S.useEffect(()=>{I&&I.filter(k=>{const R=P||s,M=o&&k.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&k.button===1&&k.type==="mousedown"&&(Sr(k,"react-flow__node")||Sr(k,"react-flow__edge")))return!0;if(!f&&!R&&!i&&!u&&!o||N||!u&&k.type==="dblclick"||Sr(k,w)&&k.type==="wheel"||Sr(k,v)&&(k.type!=="wheel"||i&&k.type==="wheel"&&!P)||!o&&k.ctrlKey&&k.type==="wheel"||!R&&!i&&!M&&k.type==="wheel"||!f&&(k.type==="mousedown"||k.type==="touchstart")||Array.isArray(f)&&!f.includes(k.button)&&k.type==="mousedown")return!1;const L=Array.isArray(f)&&f.includes(k.button)||!k.button||k.button<=1;return(!k.ctrlKey||k.type==="wheel")&&L})},[N,I,s,o,i,u,f,d,P]),F.createElement("div",{className:"react-flow__renderer",ref:$,style:ad},p)},uk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function dk(){const{userSelectionActive:e,userSelectionRect:t}=de(uk,$e);return e&&t?F.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function kh(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(s>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),o>0&&(r.style.height+=o),t.position.x<0){const i=Math.abs(t.position.x);r.position.x=r.position.x-i,r.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);r.position.y=r.position.y-i,r.style.height+=i,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function K0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const o=e.filter(a=>a.id===s.id);if(o.length===0)return r.push(s),r;const i={...s};for(const a of o)if(a)switch(a.type){case"select":{i.selected=a.selected;break}case"position":{typeof a.position<"u"&&(i.position=a.position),typeof a.positionAbsolute<"u"&&(i.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(i.dragging=a.dragging),i.expandParent&&kh(r,i);break}case"dimensions":{typeof a.dimensions<"u"&&(i.width=a.dimensions.width,i.height=a.dimensions.height),typeof a.updateStyle<"u"&&(i.style={...i.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(i.resizing=a.resizing),i.expandParent&&kh(r,i);break}case"remove":return r}return r.push(i),r},n)}function X0(e,t){return K0(e,t)}function fk(e,t){return K0(e,t)}const pn=(e,t)=>({id:e,type:"select",selected:t});function Lr(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(pn(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(pn(r.id,!1))),n},[])}const ja=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},hk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Y0=S.memo(({isSelecting:e,selectionMode:t=vo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:o,onPaneContextMenu:i,onPaneScroll:a,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=S.useRef(null),y=Te(),g=S.useRef(0),x=S.useRef(0),b=S.useRef(),{userSelectionActive:m,elementsSelectable:p,dragging:w}=de(hk,$e),v=()=>{y.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,x.current=0},j=z=>{o==null||o(z),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},E=z=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){z.preventDefault();return}i==null||i(z)},A=a?z=>a(z):void 0,C=z=>{const{resetSelectedElements:N,domNode:P}=y.getState();if(b.current=P==null?void 0:P.getBoundingClientRect(),!p||!e||z.button!==0||z.target!==h.current||!b.current)return;const{x:T,y:B}=Tn(z,b.current);N(),y.setState({userSelectionRect:{width:0,height:0,startX:T,startY:B,x:T,y:B}}),r==null||r(z)},$=z=>{const{userSelectionRect:N,nodeInternals:P,edges:T,transform:B,onNodesChange:_,onEdgesChange:k,nodeOrigin:R,getNodes:M}=y.getState();if(!e||!b.current||!N)return;y.setState({userSelectionActive:!0,nodesSelectionActive:!1});const L=Tn(z,b.current),q=N.startX??0,V=N.startY??0,W={...N,x:L.x<q?L.x:q,y:L.y<V?L.y:V,width:Math.abs(L.x-q),height:Math.abs(L.y-V)},J=M(),ee=A0(P,W,B,t===vo.Partial,!0,R),le=T0(ee,T).map(se=>se.id),ie=ee.map(se=>se.id);if(g.current!==ie.length){g.current=ie.length;const se=Lr(J,ie);se.length&&(_==null||_(se))}if(x.current!==le.length){x.current=le.length;const se=Lr(T,le);se.length&&(k==null||k(se))}y.setState({userSelectionRect:W})},D=z=>{if(z.button!==0)return;const{userSelectionRect:N}=y.getState();!m&&N&&z.target===h.current&&(j==null||j(z)),y.setState({nodesSelectionActive:g.current>0}),v(),s==null||s(z)},I=z=>{m&&(y.setState({nodesSelectionActive:g.current>0}),s==null||s(z)),v()},U=p&&(e||m);return F.createElement("div",{className:De(["react-flow__pane",{dragging:w,selection:e}]),onClick:U?void 0:ja(j,h),onContextMenu:ja(E,h),onWheel:ja(A,h),onMouseEnter:U?void 0:c,onMouseDown:U?C:void 0,onMouseMove:U?$:u,onMouseUp:U?D:void 0,onMouseLeave:U?I:d,ref:h,style:ad},f,F.createElement(dk,null))});Y0.displayName="Pane";function G0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:G0(r,t):!1}function Ch(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function pk(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!G0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var o,i;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=s.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((i=s.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function mk(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Q0(e,t,n,r,s=[0,0],o){const i=mk(e,e.extent||r);let a=i;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:h,y}=nr(f,s).positionAbsolute;a=f&&yt(h)&&yt(y)&&yt(f.width)&&yt(f.height)?[[h+e.width*s[0],y+e.height*s[1]],[h+f.width-e.width+e.width*s[0],y+f.height-e.height+e.height*s[1]]]:a}else o==null||o("005",ln.error005()),a=i;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:h,y}=nr(f,s).positionAbsolute;a=[[e.extent[0][0]+h,e.extent[0][1]+y],[e.extent[1][0]+h,e.extent[1][1]+y]]}let u={x:0,y:0};if(c){const f=n.get(c);u=nr(f,s).positionAbsolute}const d=a&&a!=="parent"?ed(t,a):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Ea({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const _h=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const o=Array.from(s),i=t.getBoundingClientRect(),a={x:i.width*r[0],y:i.height*r[1]};return o.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-i.left-a.x)/n,y:(u.top-i.top-a.y)/n,...Zu(c)}})};function As(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function Wc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:i,nodeInternals:a,onError:c}=t.getState(),u=a.get(e);if(!u){c==null||c("012",ln.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function gk(){const e=Te();return S.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:o}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,c={x:(i-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:o?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function ka(e){return(t,n,r)=>e==null?void 0:e(t,r)}function J0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,selectNodesOnDrag:i}){const a=Te(),[c,u]=S.useState(!1),d=S.useRef([]),f=S.useRef({x:null,y:null}),h=S.useRef(0),y=S.useRef(null),g=S.useRef({x:0,y:0}),x=S.useRef(null),b=S.useRef(!1),m=S.useRef(!1),p=S.useRef(!1),w=gk();return S.useEffect(()=>{if(e!=null&&e.current){const v=gt(e.current),j=({x:C,y:$})=>{const{nodeInternals:D,onNodeDrag:I,onSelectionDrag:U,updateNodePositions:z,nodeExtent:N,snapGrid:P,snapToGrid:T,nodeOrigin:B,onError:_}=a.getState();f.current={x:C,y:$};let k=!1,R={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&N){const L=Ll(d.current,B);R=yo(L)}if(d.current=d.current.map(L=>{const q={x:C-L.distance.x,y:$-L.distance.y};T&&(q.x=P[0]*Math.round(q.x/P[0]),q.y=P[1]*Math.round(q.y/P[1]));const V=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];d.current.length>1&&N&&!L.extent&&(V[0][0]=L.positionAbsolute.x-R.x+N[0][0],V[1][0]=L.positionAbsolute.x+(L.width??0)-R.x2+N[1][0],V[0][1]=L.positionAbsolute.y-R.y+N[0][1],V[1][1]=L.positionAbsolute.y+(L.height??0)-R.y2+N[1][1]);const W=Q0(L,q,D,V,B,_);return k=k||L.position.x!==W.position.x||L.position.y!==W.position.y,L.position=W.position,L.positionAbsolute=W.positionAbsolute,L}),!k)return;z(d.current,!0,!0),u(!0);const M=s?I:ka(U);if(M&&x.current){const[L,q]=Ea({nodeId:s,dragItems:d.current,nodeInternals:D});M(x.current,L,q)}},E=()=>{if(!y.current)return;const[C,$]=x0(g.current,y.current);if(C!==0||$!==0){const{transform:D,panBy:I}=a.getState();f.current.x=(f.current.x??0)-C/D[2],f.current.y=(f.current.y??0)-$/D[2],I({x:C,y:$})&&j(f.current)}h.current=requestAnimationFrame(E)},A=C=>{var B;const{nodeInternals:$,multiSelectionActive:D,nodesDraggable:I,unselectNodesAndEdges:U,onNodeDragStart:z,onSelectionDragStart:N}=a.getState();m.current=!0;const P=s?z:ka(N);(!i||!o)&&!D&&s&&((B=$.get(s))!=null&&B.selected||U()),s&&o&&i&&Wc({id:s,store:a,nodeRef:e});const T=w(C);if(f.current=T,d.current=pk($,I,T,s),P&&d.current){const[_,k]=Ea({nodeId:s,dragItems:d.current,nodeInternals:$});P(C.sourceEvent,_,k)}};if(t)v.on(".drag",null);else{const C=_S().on("start",$=>{const{domNode:D,nodeDragThreshold:I}=a.getState();I===0&&A($),p.current=!1;const U=w($);f.current=U,y.current=(D==null?void 0:D.getBoundingClientRect())||null,g.current=Tn($.sourceEvent,y.current)}).on("drag",$=>{var z,N;const D=w($),{autoPanOnNodeDrag:I,nodeDragThreshold:U}=a.getState();if($.sourceEvent.type==="touchmove"&&$.sourceEvent.touches.length>1&&(p.current=!0),!p.current){if(!b.current&&m.current&&I&&(b.current=!0,E()),!m.current){const P=D.xSnapped-(((z=f==null?void 0:f.current)==null?void 0:z.x)??0),T=D.ySnapped-(((N=f==null?void 0:f.current)==null?void 0:N.y)??0);Math.sqrt(P*P+T*T)>U&&A($)}(f.current.x!==D.xSnapped||f.current.y!==D.ySnapped)&&d.current&&m.current&&(x.current=$.sourceEvent,g.current=Tn($.sourceEvent,y.current),j(D))}}).on("end",$=>{if(!(!m.current||p.current)&&(u(!1),b.current=!1,m.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:D,nodeInternals:I,onNodeDragStop:U,onSelectionDragStop:z}=a.getState(),N=s?U:ka(z);if(D(d.current,!1,!1),N){const[P,T]=Ea({nodeId:s,dragItems:d.current,nodeInternals:I});N($.sourceEvent,P,T)}}}).filter($=>{const D=$.target;return!$.button&&(!n||!Ch(D,`.${n}`,e))&&(!r||Ch(D,r,e))});return v.call(C),()=>{v.on(".drag",null)}}}},[e,t,n,r,o,a,s,i,w]),c}function Z0(){const e=Te();return S.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:o,getNodes:i,snapToGrid:a,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=i().filter(p=>p.selected&&(p.draggable||d&&typeof p.draggable>"u")),h=a?c[0]:5,y=a?c[1]:5,g=n.isShiftPressed?4:1,x=n.x*h*g,b=n.y*y*g,m=f.map(p=>{if(p.positionAbsolute){const w={x:p.positionAbsolute.x+x,y:p.positionAbsolute.y+b};a&&(w.x=c[0]*Math.round(w.x/c[0]),w.y=c[1]*Math.round(w.y/c[1]));const{positionAbsolute:v,position:j}=Q0(p,w,r,s,void 0,u);p.position=j,p.positionAbsolute=v}return p});o(m,!0,!1)},[])}const qr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ts=e=>{const t=({id:n,type:r,data:s,xPos:o,yPos:i,xPosOrigin:a,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:y,onContextMenu:g,onDoubleClick:x,style:b,className:m,isDraggable:p,isSelectable:w,isConnectable:v,isFocusable:j,selectNodesOnDrag:E,sourcePosition:A,targetPosition:C,hidden:$,resizeObserver:D,dragHandle:I,zIndex:U,isParent:z,noDragClassName:N,noPanClassName:P,initialized:T,disableKeyboardA11y:B,ariaLabel:_,rfId:k,hasHandleBounds:R})=>{const M=Te(),L=S.useRef(null),q=S.useRef(null),V=S.useRef(A),W=S.useRef(C),J=S.useRef(r),ee=w||p||d||f||h||y,le=Z0(),ie=As(n,M.getState,f),se=As(n,M.getState,h),Ie=As(n,M.getState,y),Ce=As(n,M.getState,g),qe=As(n,M.getState,x),Fe=ce=>{const{nodeDragThreshold:Q}=M.getState();if(w&&(!E||!p||Q>0)&&Wc({id:n,store:M,nodeRef:L}),d){const Ke=M.getState().nodeInternals.get(n);Ke&&d(ce,{...Ke})}},Ne=ce=>{if(!Fc(ce)&&!B)if(N0.includes(ce.key)&&w){const Q=ce.key==="Escape";Wc({id:n,store:M,unselect:Q,nodeRef:L})}else p&&u&&Object.prototype.hasOwnProperty.call(qr,ce.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${ce.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~i}`}),le({x:qr[ce.key].x,y:qr[ce.key].y,isShiftPressed:ce.shiftKey}))};S.useEffect(()=>()=>{q.current&&(D==null||D.unobserve(q.current),q.current=null)},[]),S.useEffect(()=>{if(L.current&&!$){const ce=L.current;(!T||!R||q.current!==ce)&&(q.current&&(D==null||D.unobserve(q.current)),D==null||D.observe(ce),q.current=ce)}},[$,T,R]),S.useEffect(()=>{const ce=J.current!==r,Q=V.current!==A,Ke=W.current!==C;L.current&&(ce||Q||Ke)&&(ce&&(J.current=r),Q&&(V.current=A),Ke&&(W.current=C),M.getState().updateNodeDimensions([{id:n,nodeElement:L.current,forceUpdate:!0}]))},[n,r,A,C]);const it=J0({nodeRef:L,disabled:$||!p,noDragClassName:N,handleSelector:I,nodeId:n,isSelectable:w,selectNodesOnDrag:E});return $?null:F.createElement("div",{className:De(["react-flow__node",`react-flow__node-${r}`,{[P]:p},m,{selected:u,selectable:w,parent:z,dragging:it}]),ref:L,style:{zIndex:U,transform:`translate(${a}px,${c}px)`,pointerEvents:ee?"all":"none",visibility:T?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ie,onMouseMove:se,onMouseLeave:Ie,onContextMenu:Ce,onClick:Fe,onDoubleClick:qe,onKeyDown:j?Ne:void 0,tabIndex:j?0:void 0,role:j?"button":void 0,"aria-describedby":B?void 0:`${B0}-${k}`,"aria-label":_},F.createElement(PE,{value:n},F.createElement(e,{id:n,data:s,type:r,xPos:o,yPos:i,selected:u,isConnectable:v,sourcePosition:A,targetPosition:C,dragging:it,dragHandle:I,zIndex:U})))};return t.displayName="NodeWrapper",S.memo(t)};const xk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Ll(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function yk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Te(),{width:s,height:o,x:i,y:a,transformString:c,userSelectionActive:u}=de(xk,$e),d=Z0(),f=S.useRef(null);if(S.useEffect(()=>{var g;n||(g=f.current)==null||g.focus({preventScroll:!0})},[n]),J0({nodeRef:f}),u||!s||!o)return null;const h=e?g=>{const x=r.getState().getNodes().filter(b=>b.selected);e(g,x)}:void 0,y=g=>{Object.prototype.hasOwnProperty.call(qr,g.key)&&d({x:qr[g.key].x,y:qr[g.key].y,isShiftPressed:g.shiftKey})};return F.createElement("div",{className:De(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},F.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:y,style:{width:s,height:o,top:a,left:i}}))}var vk=S.memo(yk);const wk=e=>e.nodesSelectionActive,ex=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,deleteKeyCode:a,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:y,onSelectionStart:g,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:m,zoomActivationKeyCode:p,elementsSelectable:w,zoomOnScroll:v,zoomOnPinch:j,panOnScroll:E,panOnScrollSpeed:A,panOnScrollMode:C,zoomOnDoubleClick:$,panOnDrag:D,defaultViewport:I,translateExtent:U,minZoom:z,maxZoom:N,preventScrolling:P,onSelectionContextMenu:T,noWheelClassName:B,noPanClassName:_,disableKeyboardA11y:k})=>{const R=de(wk),M=wo(f),L=wo(m),q=L||D,V=L||E,W=M||h&&q!==!0;return ok({deleteKeyCode:a,multiSelectionKeyCode:b}),F.createElement(ck,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:v,zoomOnPinch:j,panOnScroll:V,panOnScrollSpeed:A,panOnScrollMode:C,zoomOnDoubleClick:$,panOnDrag:!M&&q,defaultViewport:I,translateExtent:U,minZoom:z,maxZoom:N,zoomActivationKeyCode:p,preventScrolling:P,noWheelClassName:B,noPanClassName:_},F.createElement(Y0,{onSelectionStart:g,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:q,isSelecting:!!W,selectionMode:y},e,R&&F.createElement(vk,{onSelectionContextMenu:T,noPanClassName:_,disableKeyboardA11y:k})))};ex.displayName="FlowRenderer";var Nk=S.memo(ex);function bk(e){return de(S.useCallback(n=>e?A0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function Sk(e){const t={input:Ts(e.input||D0),default:Ts(e.default||Hc),output:Ts(e.output||z0),group:Ts(e.group||id)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,o)=>(s[o]=Ts(e[o]||Hc),s),n);return{...t,...r}}const jk=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},Ek=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),tx=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:o,onError:i}=de(Ek,$e),a=bk(e.onlyRenderVisibleElements),c=S.useRef(),u=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(y=>({id:y.target.getAttribute("data-id"),nodeElement:y.target,forceUpdate:!0}));o(h)});return c.current=d,d},[]);return S.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),F.createElement("div",{className:"react-flow__nodes",style:ad},a.map(d=>{var j,E,A;let f=d.type||"default";e.nodeTypes[f]||(i==null||i("003",ln.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,y=!!(d.draggable||t&&typeof d.draggable>"u"),g=!!(d.selectable||s&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),m=e.nodeExtent?ed(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,p=(m==null?void 0:m.x)??0,w=(m==null?void 0:m.y)??0,v=jk({x:p,y:w,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return F.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||G.Bottom,targetPosition:d.targetPosition||G.Top,hidden:d.hidden,xPos:p,yPos:w,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:y,isSelectable:g,isConnectable:x,isFocusable:b,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((j=d[we])==null?void 0:j.z)??0,isParent:!!((E=d[we])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((A=d[we])!=null&&A.handleBounds)})}))};tx.displayName="NodeRenderer";var kk=S.memo(tx);const Ck=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,_k=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,Ah="react-flow__edgeupdater",Th=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:i,type:a})=>F.createElement("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:i,className:De([Ah,`${Ah}-${a}`]),cx:Ck(t,r,e),cy:_k(n,r,e),r,stroke:"transparent",fill:"transparent"}),Ak=()=>!0;var jr=e=>{const t=({id:n,className:r,type:s,data:o,onClick:i,onEdgeDoubleClick:a,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:x,style:b,source:m,target:p,sourceX:w,sourceY:v,targetX:j,targetY:E,sourcePosition:A,targetPosition:C,elementsSelectable:$,hidden:D,sourceHandleId:I,targetHandleId:U,onContextMenu:z,onMouseEnter:N,onMouseMove:P,onMouseLeave:T,reconnectRadius:B,onReconnect:_,onReconnectStart:k,onReconnectEnd:R,markerEnd:M,markerStart:L,rfId:q,ariaLabel:V,isFocusable:W,isReconnectable:J,pathOptions:ee,interactionWidth:le,disableKeyboardA11y:ie})=>{const se=S.useRef(null),[Ie,Ce]=S.useState(!1),[qe,Fe]=S.useState(!1),Ne=Te(),it=S.useMemo(()=>`url('#${Uc(L,q)}')`,[L,q]),ce=S.useMemo(()=>`url('#${Uc(M,q)}')`,[M,q]);if(D)return null;const Q=ze=>{var Ot;const{edges:bt,addSelectedEdges:Fn,unselectNodesAndEdges:zn,multiSelectionActive:Un}=Ne.getState(),qt=bt.find(ms=>ms.id===n);qt&&($&&(Ne.setState({nodesSelectionActive:!1}),qt.selected&&Un?(zn({nodes:[],edges:[qt]}),(Ot=se.current)==null||Ot.blur()):Fn([n])),i&&i(ze,qt))},Ke=_s(n,Ne.getState,a),Wt=_s(n,Ne.getState,z),hs=_s(n,Ne.getState,N),mr=_s(n,Ne.getState,P),gr=_s(n,Ne.getState,T),Vt=(ze,bt)=>{if(ze.button!==0)return;const{edges:Fn,isValidConnection:zn}=Ne.getState(),Un=bt?p:m,qt=(bt?U:I)||null,Ot=bt?"target":"source",ms=zn||Ak,Dl=bt,gs=Fn.find(Bn=>Bn.id===n);Fe(!0),k==null||k(ze,gs,Ot);const Fl=Bn=>{Fe(!1),R==null||R(Bn,gs,Ot)};I0({event:ze,handleId:qt,nodeId:Un,onConnect:Bn=>_==null?void 0:_(gs,Bn),isTarget:Dl,getState:Ne.getState,setState:Ne.setState,isValidConnection:ms,edgeUpdaterType:Ot,onReconnectEnd:Fl})},xr=ze=>Vt(ze,!0),Ln=ze=>Vt(ze,!1),Dn=()=>Ce(!0),yr=()=>Ce(!1),vr=!$&&!i,ps=ze=>{var bt;if(!ie&&N0.includes(ze.key)&&$){const{unselectNodesAndEdges:Fn,addSelectedEdges:zn,edges:Un}=Ne.getState();ze.key==="Escape"?((bt=se.current)==null||bt.blur(),Fn({edges:[Un.find(Ot=>Ot.id===n)]})):zn([n])}};return F.createElement("g",{className:De(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:vr,updating:Ie}]),onClick:Q,onDoubleClick:Ke,onContextMenu:Wt,onMouseEnter:hs,onMouseMove:mr,onMouseLeave:gr,onKeyDown:W?ps:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${m} to ${p}`,"aria-describedby":W?`${H0}-${q}`:void 0,ref:se},!qe&&F.createElement(e,{id:n,source:m,target:p,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:y,labelBgPadding:g,labelBgBorderRadius:x,data:o,style:b,sourceX:w,sourceY:v,targetX:j,targetY:E,sourcePosition:A,targetPosition:C,sourceHandleId:I,targetHandleId:U,markerStart:it,markerEnd:ce,pathOptions:ee,interactionWidth:le}),J&&F.createElement(F.Fragment,null,(J==="source"||J===!0)&&F.createElement(Th,{position:A,centerX:w,centerY:v,radius:B,onMouseDown:xr,onMouseEnter:Dn,onMouseOut:yr,type:"source"}),(J==="target"||J===!0)&&F.createElement(Th,{position:C,centerX:j,centerY:E,radius:B,onMouseDown:Ln,onMouseEnter:Dn,onMouseOut:yr,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function Tk(e){const t={default:jr(e.default||ll),straight:jr(e.bezier||rd),step:jr(e.step||nd),smoothstep:jr(e.step||Ml),simplebezier:jr(e.simplebezier||td)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,o)=>(s[o]=jr(e[o]||ll),s),n);return{...t,...r}}function Ph(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case G.Top:return{x:r+o/2,y:s};case G.Right:return{x:r+o,y:s+i/2};case G.Bottom:return{x:r+o/2,y:s+i};case G.Left:return{x:r,y:s+i/2}}}function Rh(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const Pk=(e,t,n,r,s,o)=>{const i=Ph(n,e,t),a=Ph(o,r,s);return{sourceX:i.x,sourceY:i.y,targetX:a.x,targetY:a.y}};function Rk({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:o,width:i,height:a,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=yo({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:a/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function $h(e){var r,s,o,i,a;const t=((r=e==null?void 0:e[we])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const $k=[{level:0,isMaxLevel:!0,edges:[]}];function Ik(e,t,n=!1){let r=-1;const s=e.reduce((i,a)=>{var d,f;const c=yt(a.zIndex);let u=c?a.zIndex:0;if(n){const h=t.get(a.target),y=t.get(a.source),g=a.selected||(h==null?void 0:h.selected)||(y==null?void 0:y.selected),x=Math.max(((d=y==null?void 0:y[we])==null?void 0:d.z)||0,((f=h==null?void 0:h[we])==null?void 0:f.z)||0,1e3);u=(c?a.zIndex:0)+(g?x:0)}return i[u]?i[u].push(a):i[u]=[a],r=u>r?u:r,i},{}),o=Object.entries(s).map(([i,a])=>{const c=+i;return{edges:a,level:c,isMaxLevel:c===r}});return o.length===0?$k:o}function Ok(e,t,n){const r=de(S.useCallback(s=>e?s.edges.filter(o=>{const i=t.get(o.source),a=t.get(o.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&Rk({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:a.width,targetHeight:a.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return Ik(r,t,n)}const Mk=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Lk=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ih={[os.Arrow]:Mk,[os.ArrowClosed]:Lk};function Dk(e){const t=Te();return S.useMemo(()=>{var s,o;return Object.prototype.hasOwnProperty.call(Ih,e)?Ih[e]:((o=(s=t.getState()).onError)==null||o.call(s,"009",ln.error009(e)),null)},[e])}const Fk=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:a="auto-start-reverse"})=>{const c=Dk(t);return c?F.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},F.createElement(c,{color:n,strokeWidth:i})):null},zk=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,o)=>([o.markerStart,o.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const a=Uc(i,t);r.includes(a)||(s.push({id:a,color:i.color||e,...i}),r.push(a))}}),s),[]).sort((s,o)=>s.id.localeCompare(o.id))},nx=({defaultColor:e,rfId:t})=>{const n=de(S.useCallback(zk({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((o,i)=>o.id!==s[i].id)));return F.createElement("defs",null,n.map(r=>F.createElement(Fk,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};nx.displayName="MarkerDefinitions";var Uk=S.memo(nx);const Bk=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),rx=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:o,onEdgeContextMenu:i,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:y,onReconnectEnd:g,reconnectRadius:x,children:b,disableKeyboardA11y:m})=>{const{edgesFocusable:p,edgesUpdatable:w,elementsSelectable:v,width:j,height:E,connectionMode:A,nodeInternals:C,onError:$}=de(Bk,$e),D=Ok(t,C,n);return j?F.createElement(F.Fragment,null,D.map(({level:I,edges:U,isMaxLevel:z})=>F.createElement("svg",{key:I,style:{zIndex:I},width:j,height:E,className:"react-flow__edges react-flow__container"},z&&F.createElement(Uk,{defaultColor:e,rfId:r}),F.createElement("g",null,U.map(N=>{const[P,T,B]=$h(C.get(N.source)),[_,k,R]=$h(C.get(N.target));if(!B||!R)return null;let M=N.type||"default";s[M]||($==null||$("011",ln.error011(M)),M="default");const L=s[M]||s.default,q=A===ur.Strict?k.target:(k.target??[]).concat(k.source??[]),V=Rh(T.source,N.sourceHandle),W=Rh(q,N.targetHandle),J=(V==null?void 0:V.position)||G.Bottom,ee=(W==null?void 0:W.position)||G.Top,le=!!(N.focusable||p&&typeof N.focusable>"u"),ie=N.reconnectable||N.updatable,se=typeof h<"u"&&(ie||w&&typeof ie>"u");if(!V||!W)return $==null||$("008",ln.error008(V,N)),null;const{sourceX:Ie,sourceY:Ce,targetX:qe,targetY:Fe}=Pk(P,V,J,_,W,ee);return F.createElement(L,{key:N.id,id:N.id,className:De([N.className,o]),type:M,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:Ie,sourceY:Ce,targetX:qe,targetY:Fe,sourcePosition:J,targetPosition:ee,elementsSelectable:v,onContextMenu:i,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:y,onReconnectEnd:g,reconnectRadius:x,rfId:r,ariaLabel:N.ariaLabel,isFocusable:le,isReconnectable:se,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:m})})))),b):null};rx.displayName="EdgeRenderer";var Hk=S.memo(rx);const Wk=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Vk({children:e}){const t=de(Wk);return F.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function qk(e){const t=ld(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Kk={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},sx=({nodeId:e,handleType:t,style:n,type:r=xn.Bezier,CustomComponent:s,connectionStatus:o})=>{var E,A,C;const{fromNode:i,handleId:a,toX:c,toY:u,connectionMode:d}=de(S.useCallback($=>({fromNode:$.nodeInternals.get(e),handleId:$.connectionHandleId,toX:($.connectionPosition.x-$.transform[0])/$.transform[2],toY:($.connectionPosition.y-$.transform[1])/$.transform[2],connectionMode:$.connectionMode}),[e]),$e),f=(E=i==null?void 0:i[we])==null?void 0:E.handleBounds;let h=f==null?void 0:f[t];if(d===ur.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!i||!h)return null;const y=a?h.find($=>$.id===a):h[0],g=y?y.x+y.width/2:(i.width??0)/2,x=y?y.y+y.height/2:i.height??0,b=(((A=i.positionAbsolute)==null?void 0:A.x)??0)+g,m=(((C=i.positionAbsolute)==null?void 0:C.y)??0)+x,p=y==null?void 0:y.position,w=p?Kk[p]:null;if(!p||!w)return null;if(s)return F.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:y,fromX:b,fromY:m,toX:c,toY:u,fromPosition:p,toPosition:w,connectionStatus:o});let v="";const j={sourceX:b,sourceY:m,sourcePosition:p,targetX:c,targetY:u,targetPosition:w};return r===xn.Bezier?[v]=k0(j):r===xn.Step?[v]=zc({...j,borderRadius:0}):r===xn.SmoothStep?[v]=zc(j):r===xn.SimpleBezier?[v]=E0(j):v=`M${b},${m} ${c},${u}`,F.createElement("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};sx.displayName="ConnectionLine";const Xk=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Yk({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:o,nodesConnectable:i,width:a,height:c,connectionStatus:u}=de(Xk,$e);return!(s&&o&&a&&i)?null:F.createElement("svg",{style:e,width:a,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},F.createElement("g",{className:De(["react-flow__connection",u])},F.createElement(sx,{nodeId:s,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Oh(e,t){return S.useRef(null),Te(),S.useMemo(()=>t(e),[e])}const ox=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:o,onNodeClick:i,onEdgeClick:a,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:y,onSelectionContextMenu:g,onSelectionStart:x,onSelectionEnd:b,connectionLineType:m,connectionLineStyle:p,connectionLineComponent:w,connectionLineContainerStyle:v,selectionKeyCode:j,selectionOnDrag:E,selectionMode:A,multiSelectionKeyCode:C,panActivationKeyCode:$,zoomActivationKeyCode:D,deleteKeyCode:I,onlyRenderVisibleElements:U,elementsSelectable:z,selectNodesOnDrag:N,defaultViewport:P,translateExtent:T,minZoom:B,maxZoom:_,preventScrolling:k,defaultMarkerColor:R,zoomOnScroll:M,zoomOnPinch:L,panOnScroll:q,panOnScrollSpeed:V,panOnScrollMode:W,zoomOnDoubleClick:J,panOnDrag:ee,onPaneClick:le,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:Ie,onPaneScroll:Ce,onPaneContextMenu:qe,onEdgeContextMenu:Fe,onEdgeMouseEnter:Ne,onEdgeMouseMove:it,onEdgeMouseLeave:ce,onReconnect:Q,onReconnectStart:Ke,onReconnectEnd:Wt,reconnectRadius:hs,noDragClassName:mr,noWheelClassName:gr,noPanClassName:Vt,elevateEdgesOnSelect:xr,disableKeyboardA11y:Ln,nodeOrigin:Dn,nodeExtent:yr,rfId:vr})=>{const ps=Oh(e,Sk),ze=Oh(t,Tk);return qk(o),F.createElement(Nk,{onPaneClick:le,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:Ie,onPaneContextMenu:qe,onPaneScroll:Ce,deleteKeyCode:I,selectionKeyCode:j,selectionOnDrag:E,selectionMode:A,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:C,panActivationKeyCode:$,zoomActivationKeyCode:D,elementsSelectable:z,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:M,zoomOnPinch:L,zoomOnDoubleClick:J,panOnScroll:q,panOnScrollSpeed:V,panOnScrollMode:W,panOnDrag:ee,defaultViewport:P,translateExtent:T,minZoom:B,maxZoom:_,onSelectionContextMenu:g,preventScrolling:k,noDragClassName:mr,noWheelClassName:gr,noPanClassName:Vt,disableKeyboardA11y:Ln},F.createElement(Vk,null,F.createElement(Hk,{edgeTypes:ze,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:U,onEdgeContextMenu:Fe,onEdgeMouseEnter:Ne,onEdgeMouseMove:it,onEdgeMouseLeave:ce,onReconnect:Q,onReconnectStart:Ke,onReconnectEnd:Wt,reconnectRadius:hs,defaultMarkerColor:R,noPanClassName:Vt,elevateEdgesOnSelect:!!xr,disableKeyboardA11y:Ln,rfId:vr},F.createElement(Yk,{style:p,type:m,component:w,containerStyle:v})),F.createElement("div",{className:"react-flow__edgelabel-renderer"}),F.createElement(kk,{nodeTypes:ps,onNodeClick:i,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:y,selectNodesOnDrag:N,onlyRenderVisibleElements:U,noPanClassName:Vt,noDragClassName:mr,disableKeyboardA11y:Ln,nodeOrigin:Dn,nodeExtent:yr,rfId:vr})))};ox.displayName="GraphView";var Gk=S.memo(ox);const Vc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],un={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Vc,nodeExtent:Vc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ur.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:EE,isValidConnection:void 0},Qk=()=>zb((e,t)=>({...un,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:o}=t();e({nodeInternals:Sa(n,r,s,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",o=typeof r<"u",i=s?Sa(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:o?r:[],hasDefaultNodes:s,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:o,fitViewOnInitDone:i,fitViewOnInitOptions:a,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),y=n.reduce((x,b)=>{const m=s.get(b.id);if(m!=null&&m.hidden)s.set(m.id,{...m,[we]:{...m[we],handleBounds:void 0}});else if(m){const p=Zu(b.nodeElement);!!(p.width&&p.height&&(m.width!==p.width||m.height!==p.height||b.forceUpdate))&&(s.set(m.id,{...m,[we]:{...m[we],handleBounds:{source:_h(".source",b.nodeElement,h,u),target:_h(".target",b.nodeElement,h,u)}},...p}),x.push({id:m.id,type:"dimensions",dimensions:p}))}return x},[]);V0(s,u);const g=i||o&&!i&&q0(t,{initial:!0,...a});e({nodeInternals:new Map(s),fitViewOnInitDone:g}),(y==null?void 0:y.length)>0&&(r==null||r(y))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:o}=t(),i=n.map(a=>{const c={id:a.id,type:"position",dragging:s};return r&&(c.positionAbsolute=a.positionAbsolute,c.position=a.position),c});o(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:o,nodeOrigin:i,getNodes:a,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(o){const u=X0(n,a()),d=Sa(u,s,i,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=t();let i,a=null;r?i=n.map(c=>pn(c,!0)):(i=Lr(o(),n),a=Lr(s,[])),li({changedNodes:i,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=t();let i,a=null;r?i=n.map(c=>pn(c,!0)):(i=Lr(s,n),a=Lr(o(),[])),li({changedNodes:a,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:o}=t(),i=n||o(),a=r||s,c=i.map(d=>(d.selected=!1,pn(d.id,!1))),u=a.map(d=>pn(d.id,!1));li({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>pn(a.id,!1)),i=n.filter(a=>a.selected).map(a=>pn(a.id,!1));li({changedNodes:o,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=ed(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:o,d3Zoom:i,d3Selection:a,translateExtent:c}=t();if(!i||!a||!n.x&&!n.y)return!1;const u=en.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,o]],f=i==null?void 0:i.constrain()(u,d,c);return i.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:un.connectionNodeId,connectionHandleId:un.connectionHandleId,connectionHandleType:un.connectionHandleType,connectionStatus:un.connectionStatus,connectionStartHandle:un.connectionStartHandle,connectionEndHandle:un.connectionEndHandle}),reset:()=>e({...un})}),Object.is),ix=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=Qk()),F.createElement(yE,{value:t.current},e)};ix.displayName="ReactFlowProvider";const lx=({children:e})=>S.useContext(Ol)?F.createElement(F.Fragment,null,e):F.createElement(ix,null,e);lx.displayName="ReactFlowWrapper";const Jk={input:D0,default:Hc,output:z0,group:id},Zk={default:ll,straight:rd,step:nd,smoothstep:Ml,simplebezier:td},eC=[0,0],tC=[15,15],nC={x:0,y:0,zoom:1},rC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ax=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o=Jk,edgeTypes:i=Zk,onNodeClick:a,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:y,onConnectStart:g,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:m,onNodeMouseEnter:p,onNodeMouseMove:w,onNodeMouseLeave:v,onNodeContextMenu:j,onNodeDoubleClick:E,onNodeDragStart:A,onNodeDrag:C,onNodeDragStop:$,onNodesDelete:D,onEdgesDelete:I,onSelectionChange:U,onSelectionDragStart:z,onSelectionDrag:N,onSelectionDragStop:P,onSelectionContextMenu:T,onSelectionStart:B,onSelectionEnd:_,connectionMode:k=ur.Strict,connectionLineType:R=xn.Bezier,connectionLineStyle:M,connectionLineComponent:L,connectionLineContainerStyle:q,deleteKeyCode:V="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:J=!1,selectionMode:ee=vo.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ie=il()?"Meta":"Control",zoomActivationKeyCode:se=il()?"Meta":"Control",snapToGrid:Ie=!1,snapGrid:Ce=tC,onlyRenderVisibleElements:qe=!1,selectNodesOnDrag:Fe=!0,nodesDraggable:Ne,nodesConnectable:it,nodesFocusable:ce,nodeOrigin:Q=eC,edgesFocusable:Ke,edgesUpdatable:Wt,elementsSelectable:hs,defaultViewport:mr=nC,minZoom:gr=.5,maxZoom:Vt=2,translateExtent:xr=Vc,preventScrolling:Ln=!0,nodeExtent:Dn,defaultMarkerColor:yr="#b1b1b7",zoomOnScroll:vr=!0,zoomOnPinch:ps=!0,panOnScroll:ze=!1,panOnScrollSpeed:bt=.5,panOnScrollMode:Fn=Qn.Free,zoomOnDoubleClick:zn=!0,panOnDrag:Un=!0,onPaneClick:qt,onPaneMouseEnter:Ot,onPaneMouseMove:ms,onPaneMouseLeave:Dl,onPaneScroll:gs,onPaneContextMenu:Fl,children:cd,onEdgeContextMenu:Bn,onEdgeDoubleClick:px,onEdgeMouseEnter:mx,onEdgeMouseMove:gx,onEdgeMouseLeave:xx,onEdgeUpdate:yx,onEdgeUpdateStart:vx,onEdgeUpdateEnd:wx,onReconnect:Nx,onReconnectStart:bx,onReconnectEnd:Sx,reconnectRadius:jx=10,edgeUpdaterRadius:Ex=10,onNodesChange:kx,onEdgesChange:Cx,noDragClassName:_x="nodrag",noWheelClassName:Ax="nowheel",noPanClassName:ud="nopan",fitView:Tx=!1,fitViewOptions:Px,connectOnClick:Rx=!0,attributionPosition:$x,proOptions:Ix,defaultEdgeOptions:Ox,elevateNodesOnSelect:Mx=!0,elevateEdgesOnSelect:Lx=!1,disableKeyboardA11y:dd=!1,autoPanOnConnect:Dx=!0,autoPanOnNodeDrag:Fx=!0,connectionRadius:zx=20,isValidConnection:Ux,onError:Bx,style:Hx,id:fd,nodeDragThreshold:Wx,...Vx},qx)=>{const zl=fd||"1";return F.createElement("div",{...Vx,style:{...Hx,...rC},ref:qx,className:De(["react-flow",s]),"data-testid":"rf__wrapper",id:fd},F.createElement(lx,null,F.createElement(Gk,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:p,onNodeMouseMove:w,onNodeMouseLeave:v,onNodeContextMenu:j,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:i,connectionLineType:R,connectionLineStyle:M,connectionLineComponent:L,connectionLineContainerStyle:q,selectionKeyCode:W,selectionOnDrag:J,selectionMode:ee,deleteKeyCode:V,multiSelectionKeyCode:ie,panActivationKeyCode:le,zoomActivationKeyCode:se,onlyRenderVisibleElements:qe,selectNodesOnDrag:Fe,defaultViewport:mr,translateExtent:xr,minZoom:gr,maxZoom:Vt,preventScrolling:Ln,zoomOnScroll:vr,zoomOnPinch:ps,zoomOnDoubleClick:zn,panOnScroll:ze,panOnScrollSpeed:bt,panOnScrollMode:Fn,panOnDrag:Un,onPaneClick:qt,onPaneMouseEnter:Ot,onPaneMouseMove:ms,onPaneMouseLeave:Dl,onPaneScroll:gs,onPaneContextMenu:Fl,onSelectionContextMenu:T,onSelectionStart:B,onSelectionEnd:_,onEdgeContextMenu:Bn,onEdgeDoubleClick:px,onEdgeMouseEnter:mx,onEdgeMouseMove:gx,onEdgeMouseLeave:xx,onReconnect:Nx??yx,onReconnectStart:bx??vx,onReconnectEnd:Sx??wx,reconnectRadius:jx??Ex,defaultMarkerColor:yr,noDragClassName:_x,noWheelClassName:Ax,noPanClassName:ud,elevateEdgesOnSelect:Lx,rfId:zl,disableKeyboardA11y:dd,nodeOrigin:Q,nodeExtent:Dn}),F.createElement(KE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:g,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:m,nodesDraggable:Ne,nodesConnectable:it,nodesFocusable:ce,edgesFocusable:Ke,edgesUpdatable:Wt,elementsSelectable:hs,elevateNodesOnSelect:Mx,minZoom:gr,maxZoom:Vt,nodeExtent:Dn,onNodesChange:kx,onEdgesChange:Cx,snapToGrid:Ie,snapGrid:Ce,connectionMode:k,translateExtent:xr,connectOnClick:Rx,defaultEdgeOptions:Ox,fitView:Tx,fitViewOptions:Px,onNodesDelete:D,onEdgesDelete:I,onNodeDragStart:A,onNodeDrag:C,onNodeDragStop:$,onSelectionDrag:N,onSelectionDragStart:z,onSelectionDragStop:P,noPanClassName:ud,nodeOrigin:Q,rfId:zl,autoPanOnConnect:Dx,autoPanOnNodeDrag:Fx,onError:Bx,connectionRadius:zx,isValidConnection:Ux,nodeDragThreshold:Wx}),F.createElement(VE,{onSelectionChange:U}),cd,F.createElement(wE,{proOptions:Ix,position:$x}),F.createElement(JE,{rfId:zl,disableKeyboardA11y:dd})))});ax.displayName="ReactFlow";function cx(e){return t=>{const[n,r]=S.useState(t),s=S.useCallback(o=>r(i=>e(o,i)),[]);return[n,r,s]}}const sC=cx(X0),oC=cx(fk),ux=({id:e,x:t,y:n,width:r,height:s,style:o,color:i,strokeColor:a,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,onClick:h,selected:y})=>{const{background:g,backgroundColor:x}=o||{},b=i||g||x;return F.createElement("rect",{className:De(["react-flow__minimap-node",{selected:y},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:b,stroke:a,strokeWidth:c,shapeRendering:f,onClick:h?m=>h(m,e):void 0})};ux.displayName="MiniMapNode";var iC=S.memo(ux);const lC=e=>e.nodeOrigin,aC=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Ca=e=>e instanceof Function?e:()=>e;function cC({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:o=iC,onClick:i}){const a=de(aC,$e),c=de(lC),u=Ca(t),d=Ca(e),f=Ca(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return F.createElement(F.Fragment,null,a.map(y=>{const{x:g,y:x}=nr(y,c).positionAbsolute;return F.createElement(o,{key:y.id,x:g,y:x,width:y.width,height:y.height,style:y.style,selected:y.selected,className:f(y),color:u(y),borderRadius:r,strokeColor:d(y),strokeWidth:s,shapeRendering:h,onClick:i,id:y.id})}))}var uC=S.memo(cC);const dC=200,fC=150,hC=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?SE(Ll(t,e.nodeOrigin),n):n,rfId:e.rfId}},pC="react-flow__minimap-desc";function dx({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:o=5,nodeStrokeWidth:i=2,nodeComponent:a,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:f="bottom-right",onClick:h,onNodeClick:y,pannable:g=!1,zoomable:x=!1,ariaLabel:b="React Flow mini map",inversePan:m=!1,zoomStep:p=10,offsetScale:w=5}){const v=Te(),j=S.useRef(null),{boundingRect:E,viewBB:A,rfId:C}=de(hC,$e),$=(e==null?void 0:e.width)??dC,D=(e==null?void 0:e.height)??fC,I=E.width/$,U=E.height/D,z=Math.max(I,U),N=z*$,P=z*D,T=w*z,B=E.x-(N-E.width)/2-T,_=E.y-(P-E.height)/2-T,k=N+T*2,R=P+T*2,M=`${pC}-${C}`,L=S.useRef(0);L.current=z,S.useEffect(()=>{if(j.current){const W=gt(j.current),J=ie=>{const{transform:se,d3Selection:Ie,d3Zoom:Ce}=v.getState();if(ie.sourceEvent.type!=="wheel"||!Ie||!Ce)return;const qe=-ie.sourceEvent.deltaY*(ie.sourceEvent.deltaMode===1?.05:ie.sourceEvent.deltaMode?1:.002)*p,Fe=se[2]*Math.pow(2,qe);Ce.scaleTo(Ie,Fe)},ee=ie=>{const{transform:se,d3Selection:Ie,d3Zoom:Ce,translateExtent:qe,width:Fe,height:Ne}=v.getState();if(ie.sourceEvent.type!=="mousemove"||!Ie||!Ce)return;const it=L.current*Math.max(1,se[2])*(m?-1:1),ce={x:se[0]-ie.sourceEvent.movementX*it,y:se[1]-ie.sourceEvent.movementY*it},Q=[[0,0],[Fe,Ne]],Ke=en.translate(ce.x,ce.y).scale(se[2]),Wt=Ce.constrain()(Ke,Q,qe);Ce.transform(Ie,Wt)},le=m0().on("zoom",g?ee:null).on("zoom.wheel",x?J:null);return W.call(le),()=>{W.on("zoom",null)}}},[g,x,m,p]);const q=h?W=>{const J=kt(W);h(W,{x:J[0],y:J[1]})}:void 0,V=y?(W,J)=>{const ee=v.getState().nodeInternals.get(J);y(W,ee)}:void 0;return F.createElement(Ju,{position:f,style:e,className:De(["react-flow__minimap",t]),"data-testid":"rf__minimap"},F.createElement("svg",{width:$,height:D,viewBox:`${B} ${_} ${k} ${R}`,role:"img","aria-labelledby":M,ref:j,onClick:q},b&&F.createElement("title",{id:M},b),F.createElement(uC,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:s,nodeStrokeWidth:i,nodeComponent:a}),F.createElement("path",{className:"react-flow__minimap-mask",d:`M${B-T},${_-T}h${k+T*2}v${R+T*2}h${-k-T*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}dx.displayName="MiniMap";var mC=S.memo(dx);function gC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},F.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function xC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},F.createElement("path",{d:"M0 0h32v4.2H0z"}))}function yC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},F.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function vC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function wC(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ls=({children:e,className:t,...n})=>F.createElement("button",{type:"button",className:De(["react-flow__controls-button",t]),...n},e);Ls.displayName="ControlButton";const NC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),fx=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:i,onFitView:a,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=Te(),[y,g]=S.useState(!1),{isInteractive:x,minZoomReached:b,maxZoomReached:m}=de(NC,$e),{zoomIn:p,zoomOut:w,fitView:v}=ld();if(S.useEffect(()=>{g(!0)},[]),!y)return null;const j=()=>{p(),o==null||o()},E=()=>{w(),i==null||i()},A=()=>{v(s),a==null||a()},C=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return F.createElement(Ju,{className:De(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&F.createElement(F.Fragment,null,F.createElement(Ls,{onClick:j,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},F.createElement(gC,null)),F.createElement(Ls,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},F.createElement(xC,null))),n&&F.createElement(Ls,{className:"react-flow__controls-fitview",onClick:A,title:"fit view","aria-label":"fit view"},F.createElement(yC,null)),r&&F.createElement(Ls,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},x?F.createElement(wC,null):F.createElement(vC,null)),d)};fx.displayName="Controls";var bC=S.memo(fx),Pt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Pt||(Pt={}));function SC({color:e,dimensions:t,lineWidth:n}){return F.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function jC({color:e,radius:t}){return F.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const EC={[Pt.Dots]:"#91919a",[Pt.Lines]:"#eee",[Pt.Cross]:"#e2e2e2"},kC={[Pt.Dots]:1,[Pt.Lines]:1,[Pt.Cross]:6},CC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function hx({id:e,variant:t=Pt.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=2,color:i,style:a,className:c}){const u=S.useRef(null),{transform:d,patternId:f}=de(CC,$e),h=i||EC[t],y=r||kC[t],g=t===Pt.Dots,x=t===Pt.Cross,b=Array.isArray(n)?n:[n,n],m=[b[0]*d[2]||1,b[1]*d[2]||1],p=y*d[2],w=x?[p,p]:m,v=g?[p/o,p/o]:[w[0]/o,w[1]/o];return F.createElement("svg",{className:De(["react-flow__background",c]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},F.createElement("pattern",{id:f+e,x:d[0]%m[0],y:d[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${v[0]},-${v[1]})`},g?F.createElement(jC,{color:h,radius:p/o}):F.createElement(SC,{dimensions:w,color:h,lineWidth:s})),F.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}hx.displayName="Background";var _C=S.memo(hx);function AC({data:e,selected:t}){const n=s=>{switch(s){case"AGENT_EXECUTION":return"bg-blue-500";case"CONDITION":return"bg-yellow-500";case"APPROVAL":return"bg-purple-500";case"PARALLEL":return"bg-green-500";default:return"bg-gray-500"}},r=s=>{switch(s){case"AGENT_EXECUTION":return"🤖";case"CONDITION":return"🔀";case"APPROVAL":return"✋";case"PARALLEL":return"⚡";default:return"📦"}};return l.jsxs("div",{className:`px-4 py-3 shadow-lg rounded-lg border-2 bg-white min-w-[200px] ${t?"border-primary-500":"border-gray-300"}`,children:[l.jsx(is,{type:"target",position:G.Top,className:"w-3 h-3"}),l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:`text-2xl ${n(e.stepType)} w-10 h-10 rounded-full flex items-center justify-center`,children:r(e.stepType)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:e.name||"Untitled Step"}),l.jsx("div",{className:"text-xs text-gray-500",children:e.stepType})]})]}),e.agent&&l.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[l.jsx("span",{className:"font-medium",children:"Agent:"})," ",e.agent.name]}),e.conditionExpression&&l.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[l.jsx("span",{className:"font-medium",children:"Condition:"})," ",e.conditionExpression]}),e.outputVariable&&l.jsxs("div",{className:"text-xs text-gray-500",children:[l.jsx("span",{className:"font-medium",children:"Output:"})," $",e.outputVariable]}),l.jsx(is,{type:"source",position:G.Bottom,className:"w-3 h-3"})]})}function TC({step:e,agents:t,onUpdate:n,onClose:r,onDelete:s}){const[o,i]=S.useState({name:"",stepType:"AGENT_EXECUTION",agentId:null,inputMappingJson:{},outputVariable:"",conditionExpression:"",timeoutSeconds:300,retryConfigJson:null,...e}),[a,c]=S.useState(""),[u,d]=S.useState("");S.useEffect(()=>{e&&(i({...o,...e}),c(JSON.stringify(e.inputMappingJson||{},null,2)),d(e.retryConfigJson?JSON.stringify(e.retryConfigJson,null,2):""))},[e]);const f=()=>{try{const h={...o,inputMappingJson:a?JSON.parse(a):{},retryConfigJson:u?JSON.parse(u):null};n(h)}catch(h){alert("Invalid JSON in input mapping or retry config: "+h.message)}};return e?l.jsxs("div",{className:"w-96 bg-white border-l border-gray-300 p-4 overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Configure Step"}),l.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Step Name *"}),l.jsx("input",{type:"text",value:o.name,onChange:h=>i({...o,name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., Classify Customer Inquiry"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Step Type"}),l.jsxs("select",{value:o.stepType,onChange:h=>i({...o,stepType:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"AGENT_EXECUTION",children:"Agent Execution"}),l.jsx("option",{value:"CONDITION",children:"Condition"}),l.jsx("option",{value:"APPROVAL",children:"Approval"}),l.jsx("option",{value:"PARALLEL",children:"Parallel"})]})]}),o.stepType==="AGENT_EXECUTION"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent *"}),l.jsxs("select",{value:o.agentId||"",onChange:h=>i({...o,agentId:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"",children:"Select an agent..."}),t.map(h=>l.jsx("option",{value:h.id,children:h.name},h.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Mapping (JSON)"}),l.jsx("textarea",{value:a,onChange:h=>c(h.target.value),rows:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm",placeholder:`{
  "message": "\${trigger.message}",
  "context": "\${step1.result}"
}`}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use ${variableName} to reference context variables"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Output Variable"}),l.jsx("input",{type:"text",value:o.outputVariable,onChange:h=>i({...o,outputVariable:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., step1"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Store result as ${outputVariable} for later steps"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition Expression (optional)"}),l.jsx("input",{type:"text",value:o.conditionExpression,onChange:h=>i({...o,conditionExpression:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., ${step1.status}==success"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Skip step if condition evaluates to false"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout (seconds)"}),l.jsx("input",{type:"number",value:o.timeoutSeconds,onChange:h=>i({...o,timeoutSeconds:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",min:"10",max:"3600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Retry Config (JSON, optional)"}),l.jsx("textarea",{value:u,onChange:h=>d(h.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm",placeholder:`{
  "maxRetries": 3,
  "initialDelayMs": 1000,
  "multiplier": 2.0
}`})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsx("button",{onClick:f,className:"flex-1 btn-primary",children:"Save Changes"}),l.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100",children:"Delete"})]})]})]}):l.jsx("div",{className:"w-96 bg-gray-100 border-l border-gray-300 p-4 overflow-y-auto",children:l.jsx("div",{className:"text-center text-gray-500 py-20",children:"Select a step to configure"})})}const PC={workflowStep:AC};function Mh(){const{id:e}=_o(),t=pr(),n=!!e,[r,s]=S.useState({name:"",description:"",triggerType:"MANUAL",executionMode:"SEQUENTIAL",isActive:!1,triggerConfigJson:{}}),[o,i,a]=sC([]),[c,u,d]=oC([]),[f,h]=S.useState(null),[y,g]=S.useState([]),[x,b]=S.useState([]),[m,p]=S.useState(n),[w,v]=S.useState(!1),[j,E]=S.useState(null),[A,C]=S.useState("visual");S.useEffect(()=>{$(),n&&D()},[e]),S.useEffect(()=>{y.length>0&&I(y)},[y]);const $=async()=>{try{const _=await Y.getAgents();b(_.data)}catch(_){console.error("Error loading agents:",_),E("Failed to load agents")}},D=async()=>{try{p(!0);const[_,k]=await Promise.all([Y.getWorkflow(e),Y.getWorkflowSteps(e)]);s(_.data),g(k.data)}catch(_){console.error("Error loading workflow:",_),E("Failed to load workflow")}finally{p(!1)}},I=_=>{const R=[..._].sort((L,q)=>L.stepOrder-q.stepOrder).map((L,q)=>{const V=x.find(W=>W.id===L.agentId);return{id:`step-${L.id}`,type:"workflowStep",position:{x:250,y:q*150+50},data:{...L,agent:V,onEdit:()=>U(`step-${L.id}`)}}}),M=[];for(let L=0;L<R.length-1;L++)M.push({id:`edge-${L}`,source:R[L].id,target:R[L+1].id,animated:!0,markerEnd:{type:os.ArrowClosed}});i(R),u(M)},U=S.useCallback(_=>{const k=o.find(R=>R.id===_);k&&h(k)},[o]),z=async _=>{var k,R;try{const M=f.data.id;await Y.updateWorkflowStep(e,M,_);const L=await Y.getWorkflowSteps(e);g(L.data),h(null)}catch(M){console.error("Error updating step:",M),alert("Failed to update step: "+(((R=(k=M.response)==null?void 0:k.data)==null?void 0:R.message)||M.message))}},N=async()=>{if(window.confirm(`Delete step "${f.data.name}"?`))try{const _=f.data.id;await Y.deleteWorkflowStep(e,_);const k=await Y.getWorkflowSteps(e);g(k.data),h(null)}catch(_){console.error("Error deleting step:",_),alert("Failed to delete step")}},P=async()=>{var _,k;try{if(v(!0),E(null),!r.name.trim()){E("Workflow name is required");return}if(n)await Y.updateWorkflow(e,r);else{const R=await Y.createWorkflow(r);t(`/workflows/${R.data.id}`);return}alert("Workflow saved successfully")}catch(R){console.error("Error saving workflow:",R),E(((k=(_=R.response)==null?void 0:_.data)==null?void 0:k.message)||"Failed to save workflow")}finally{v(!1)}},T=async()=>{const _={stepOrder:y.length+1,stepType:"AGENT_EXECUTION",name:"New Step",agentId:x.length>0?x[0].id:null,inputMappingJson:{},outputVariable:`step${y.length+1}`,conditionExpression:"",timeoutSeconds:300};try{await Y.createWorkflowStep(e,_);const k=await Y.getWorkflowSteps(e);g(k.data)}catch(k){console.error("Error adding step:",k),alert("Failed to add step")}},B=S.useCallback(_=>u(k=>C0({..._,animated:!0,markerEnd:{type:os.ArrowClosed}},k)),[u]);return m?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading workflow..."})}):l.jsxs("div",{className:"h-screen flex flex-col",children:[l.jsxs("div",{className:"bg-white border-b px-6 py-4 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?r.name:"Create Workflow"}),l.jsx("p",{className:"text-sm text-gray-600",children:n?"Edit workflow configuration and steps":"Create a new multi-agent workflow"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t("/workflows"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:P,disabled:w,className:"btn-primary disabled:opacity-50",children:w?"Saving...":"Save Workflow"})]})]}),j&&l.jsx("div",{className:"mx-6 mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:j}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"w-80 bg-white border-r overflow-y-auto p-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Workflow Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow Name *"}),l.jsx("input",{type:"text",value:r.name,onChange:_=>s({...r,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Customer Query Classification"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{value:r.description,onChange:_=>s({...r,description:_.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe what this workflow does..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trigger Type"}),l.jsxs("select",{value:r.triggerType,onChange:_=>s({...r,triggerType:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:"MANUAL",children:"Manual"}),l.jsx("option",{value:"SCHEDULED",children:"Scheduled"}),l.jsx("option",{value:"WEBHOOK",children:"Webhook"}),l.jsx("option",{value:"EVENT",children:"Event"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Execution Mode"}),l.jsxs("select",{value:r.executionMode,onChange:_=>s({...r,executionMode:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:"SEQUENTIAL",children:"Sequential"}),l.jsx("option",{value:"PARALLEL",children:"Parallel"}),l.jsx("option",{value:"CONDITIONAL",children:"Conditional"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:_=>s({...r,isActive:_.target.checked}),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),n&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pt-4 border-t",children:l.jsx("button",{onClick:T,className:"w-full btn-primary text-sm",children:"+ Add Step"})}),l.jsxs("div",{className:"text-xs text-gray-500 mt-4",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Steps:"})," ",y.length]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Status:"})," ",r.isActive?"Active":"Inactive"]})]})]})]})]}),l.jsx("div",{className:"flex-1 bg-gray-50",children:n&&y.length>0?l.jsxs(ax,{nodes:o,edges:c,onNodesChange:a,onEdgesChange:d,onConnect:B,onNodeClick:(_,k)=>U(k.id),nodeTypes:PC,fitView:!0,minZoom:.5,maxZoom:1.5,children:[l.jsx(_C,{variant:"dots",gap:12,size:1}),l.jsx(bC,{}),l.jsx(mC,{})]}):n?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🤖"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No steps yet"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first step to start building your workflow"}),l.jsx("button",{onClick:T,className:"btn-primary",children:"+ Add First Step"})]})}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"text-6xl mb-4",children:"📝"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Save workflow first"}),l.jsx("p",{className:"text-gray-600",children:'Complete the workflow settings on the left and click "Save Workflow" to start adding steps'})]})})}),f&&l.jsx(TC,{step:f.data,agents:x,onUpdate:z,onClose:()=>h(null),onDelete:N})]})]})}function Lh(){const{workflowId:e}=_o(),t=pr(),[n,r]=S.useState([]),[s,o]=S.useState([]),[i,a]=S.useState(null),[c,u]=S.useState(!0),[d,f]=S.useState(null),[h,y]=S.useState({status:"all",workflowId:e||"all"});S.useEffect(()=>{g(),x()},[h]);const g=async()=>{try{const v=await Y.getWorkflows();o(v.data)}catch(v){console.error("Error loading workflows:",v)}},x=async()=>{try{u(!0),f(null);let j=(h.workflowId!=="all"?await Y.getWorkflowExecutions(h.workflowId):await Y.getAllExecutions()).data||[];h.status!=="all"&&(j=j.filter(E=>E.status===h.status)),r(j)}catch(v){console.error("Error loading executions:",v),f("Failed to load executions")}finally{u(!1)}},b=v=>{switch(v){case"COMPLETED":return"bg-green-100 text-green-800";case"RUNNING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";case"PAUSED":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},m=v=>{switch(v){case"COMPLETED":return"✓";case"RUNNING":return"⟳";case"FAILED":return"✗";case"PAUSED":return"⏸";default:return"•"}},p=(v,j)=>{if(!j)return"Running...";const E=new Date(v),C=new Date(j)-E,$=Math.floor(C/1e3);if($<60)return`${$}s`;const D=Math.floor($/60),I=$%60;return`${D}m ${I}s`},w=v=>{a(v)};return c?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading executions..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflow Executions"}),l.jsx("p",{className:"text-gray-600",children:"Monitor and track workflow execution history"})]}),l.jsx("button",{onClick:()=>t("/workflows"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Workflows"})]}),d&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Workflow"}),l.jsxs("select",{value:h.workflowId,onChange:v=>y({...h,workflowId:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Workflows"}),s.map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l.jsxs("select",{value:h.status,onChange:v=>y({...h,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"RUNNING",children:"Running"}),l.jsx("option",{value:"COMPLETED",children:"Completed"}),l.jsx("option",{value:"FAILED",children:"Failed"}),l.jsx("option",{value:"PAUSED",children:"Paused"})]})]})]})}),n.length===0?l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:"📊"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No executions found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"No workflow executions match your filters"})]}):l.jsx("div",{className:"space-y-4",children:n.map(v=>l.jsx("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>w(v),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${b(v.status)}`,children:[m(v.status)," ",v.status]}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.workflowName||`Workflow #${v.workflowId}`})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Started:"})," ",new Date(v.startedAt).toLocaleString()]}),v.completedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Duration:"})," ",p(v.startedAt,v.completedAt)]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Execution ID:"})," ",v.id]})]}),v.errorMessage&&l.jsxs("div",{className:"mt-2 text-sm text-red-600",children:[l.jsx("span",{className:"font-medium",children:"Error:"})," ",v.errorMessage]})]}),l.jsx("button",{onClick:j=>{j.stopPropagation(),w(v)},className:"px-4 py-2 bg-primary-50 text-primary-700 rounded-lg hover:bg-primary-100",children:"View Details"})]})},v.id))}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Execution Details"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${b(i.status)}`,children:[m(i.status)," ",i.status]}),l.jsxs("span",{className:"text-gray-600",children:["ID: ",i.id]})]})]}),l.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card bg-gray-50",children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Execution Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Workflow:"})," ",i.workflowName]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Status:"})," ",i.status]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Started:"})," ",new Date(i.startedAt).toLocaleString()]}),i.completedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Completed:"})," ",new Date(i.completedAt).toLocaleString()]}),i.completedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Duration:"})," ",p(i.startedAt,i.completedAt)]})]})]}),i.triggerDataJson&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Trigger Data"}),l.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:JSON.stringify(i.triggerDataJson,null,2)})]}),i.contextDataJson&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Final Context"}),l.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:JSON.stringify(i.contextDataJson,null,2)})]}),i.errorMessage&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3 text-red-700",children:"Error Details"}),l.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg text-sm text-red-800",children:i.errorMessage})]})]}),l.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t",children:l.jsx("button",{onClick:()=>a(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})})]})}function RC(){const e=pr(),[t,n]=S.useState([]),[r,s]=S.useState(!0),[o,i]=S.useState(null),[a,c]=S.useState("all"),[u,d]=S.useState(null),[f,h]=S.useState(""),[y,g]=S.useState(null);S.useEffect(()=>{x()},[a]);const x=async()=>{try{s(!0),i(null);const E=a==="active"?!0:void 0,A=await Y.getAgents(E);n(A.data)}catch(E){console.error("Error loading agents:",E),i("Failed to load agents")}finally{s(!1)}},b=async E=>{try{await Y.activateAgent(E),x()}catch(A){console.error("Error activating agent:",A),i("Failed to activate agent")}},m=async E=>{try{await Y.deactivateAgent(E),x()}catch(A){console.error("Error deactivating agent:",A),i("Failed to deactivate agent")}},p=async(E,A)=>{if(window.confirm(`Are you sure you want to delete agent "${A}"?`))try{await Y.deleteAgent(E),x()}catch(C){console.error("Error deleting agent:",C),i("Failed to delete agent")}},w=E=>{d(E),h(""),g(null)},v=async()=>{var E,A;if(!f.trim()){alert("Please enter test input");return}try{const C={message:f},$=await Y.executeAgent(u.id,C);g($.data)}catch(C){console.error("Error testing agent:",C),g({error:((A=(E=C.response)==null?void 0:E.data)==null?void 0:A.message)||C.message})}},j=t.filter(E=>a==="active"?E.isActive:a==="inactive"?!E.isActive:!0);return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading agents..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Management"}),l.jsx("p",{className:"text-gray-600",children:"Create and manage AI agents with custom system prompts and tools"})]}),l.jsx("button",{onClick:()=>e("/agents/new"),className:"btn-primary",children:"+ Create Agent"})]}),o&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>c("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="all"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["All Agents (",t.length,")"]}),l.jsxs("button",{onClick:()=>c("active"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="active"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Active (",t.filter(E=>E.isActive).length,")"]}),l.jsxs("button",{onClick:()=>c("inactive"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="inactive"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Inactive (",t.filter(E=>!E.isActive).length,")"]})]})}),j.length===0?l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:"🤖"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No agents found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first AI agent"}),l.jsx("button",{onClick:()=>e("/agents/new"),className:"btn-primary",children:"Create Agent"})]}):l.jsx("div",{className:"grid gap-6",children:j.map(E=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:E.name}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:E.isActive?"Active":"Inactive"}),l.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:[E.modelProvider,"/",E.modelName]})]}),E.description&&l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:E.description}),E.systemPrompt&&l.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[l.jsx("span",{className:"font-medium",children:"System Prompt:"})," ",E.systemPrompt.substring(0,150),E.systemPrompt.length>150?"...":""]})]})}),l.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Temperature:"})," ",E.temperature]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Max Tokens:"})," ",E.maxTokens]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Tools:"})," ",E.toolCount||0]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Created:"})," ",new Date(E.createdAt).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsx("button",{onClick:()=>e(`/agents/${E.id}`),className:"px-3 py-2 text-sm bg-primary-50 text-primary-700 rounded hover:bg-primary-100",children:"Edit"}),l.jsx("button",{onClick:()=>w(E),className:"px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100",children:"Test"}),E.isActive?l.jsx("button",{onClick:()=>m(E.id),className:"px-3 py-2 text-sm bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100",children:"Deactivate"}):l.jsx("button",{onClick:()=>b(E.id),className:"px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100",children:"Activate"}),l.jsx("button",{onClick:()=>p(E.id,E.name),className:"px-3 py-2 text-sm bg-red-50 text-red-700 rounded hover:bg-red-100 ml-auto",children:"Delete"})]})]},E.id))}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Test Agent: ",u.name]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Input"}),l.jsx("textarea",{value:f,onChange:E=>h(E.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Enter a message to test the agent..."})]}),y&&l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Result:"}),y.error?l.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded",children:[l.jsx("strong",{children:"Error:"})," ",y.error]}):l.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"Output:"}),l.jsx("pre",{className:"text-sm mt-2 whitespace-pre-wrap",children:JSON.stringify(y.output,null,2)})]}),y.inputTokens&&l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Tokens:"})," ",y.inputTokens," in / ",y.outputTokens," out"]})]})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[l.jsx("button",{onClick:v,className:"btn-primary",children:"Execute Test"}),l.jsx("button",{onClick:()=>{d(null),g(null)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})]})]})})]})}function Dh(){const{id:e}=_o(),t=pr(),n=!!e,[r,s]=S.useState({name:"",description:"",modelProvider:"ANTHROPIC",modelName:"claude-3-5-sonnet-20241022",systemPrompt:"",temperature:.7,maxTokens:4096,isActive:!0}),[o,i]=S.useState([]),[a,c]=S.useState([]),[u,d]=S.useState(n),[f,h]=S.useState(!1),[y,g]=S.useState(null),x={ANTHROPIC:["claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307"],OPENAI:["gpt-4-turbo-preview","gpt-4","gpt-3.5-turbo"],GOOGLE:["gemini-pro","gemini-pro-vision"]};S.useEffect(()=>{b(),n&&m()},[e]);const b=async()=>{try{const v=await Y.getTools();i(v.data)}catch(v){console.error("Error loading tools:",v),g("Failed to load tools")}},m=async()=>{try{d(!0);const v=await Y.getAgent(e);if(s(v.data),v.data.agentTools){const j=v.data.agentTools.map(E=>E.tool.id);c(j)}}catch(v){console.error("Error loading agent:",v),g("Failed to load agent")}finally{d(!1)}},p=async()=>{var v,j;try{if(h(!0),g(null),!r.name.trim()){g("Agent name is required");return}if(!r.systemPrompt.trim()){g("System prompt is required");return}const E={...r,toolIds:a};if(n)await Y.updateAgent(e,E),alert("Agent updated successfully");else{const A=await Y.createAgent(E);t(`/agents/${A.data.id}`);return}}catch(E){console.error("Error saving agent:",E),g(((j=(v=E.response)==null?void 0:v.data)==null?void 0:j.message)||"Failed to save agent")}finally{h(!1)}},w=v=>{c(j=>j.includes(v)?j.filter(E=>E!==v):[...j,v])};return u?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading agent..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n?"Edit Agent":"Create Agent"}),l.jsx("p",{className:"text-gray-600",children:n?`Editing: ${r.name}`:"Create a new AI agent with custom capabilities"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t("/agents"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:p,disabled:f,className:"btn-primary disabled:opacity-50",children:f?"Saving...":"Save Agent"})]})]}),y&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:y}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Basic Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agent Name *"}),l.jsx("input",{type:"text",value:r.name,onChange:v=>s({...r,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Customer Support Agent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:r.description,onChange:v=>s({...r,description:v.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Describe what this agent does..."})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:v=>s({...r,isActive:v.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Active (agent will be available for use)"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Model Configuration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model Provider"}),l.jsxs("select",{value:r.modelProvider,onChange:v=>s({...r,modelProvider:v.target.value,modelName:x[v.target.value][0]}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[l.jsx("option",{value:"ANTHROPIC",children:"Anthropic (Claude)"}),l.jsx("option",{value:"OPENAI",children:"OpenAI (GPT)"}),l.jsx("option",{value:"GOOGLE",children:"Google (Gemini)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),l.jsx("select",{value:r.modelName,onChange:v=>s({...r,modelName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:x[r.modelProvider].map(v=>l.jsx("option",{value:v,children:v},v))})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",r.temperature.toFixed(2)]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:r.temperature,onChange:v=>s({...r,temperature:parseFloat(v.target.value)}),className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"More Focused (0.0)"}),l.jsx("span",{children:"More Creative (1.0)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens"}),l.jsx("input",{type:"number",min:"256",max:"8192",step:"256",value:r.maxTokens,onChange:v=>s({...r,maxTokens:parseInt(v.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum length of AI responses (256-8192 tokens)"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"System Prompt *"}),l.jsxs("div",{children:[l.jsx("textarea",{value:r.systemPrompt,onChange:v=>s({...r,systemPrompt:v.target.value}),rows:"12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 font-mono text-sm",placeholder:"You are a helpful AI assistant that..."}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This prompt defines the agent's behavior, personality, and capabilities. Be specific and clear."})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Tool Assignment"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select which tools this agent can use. Tools extend the agent's capabilities beyond conversation."}),o.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No tools available. Create tools first to assign them to agents."}):l.jsx("div",{className:"space-y-3",children:o.map(v=>l.jsxs("div",{className:"flex items-start p-3 border border-gray-200 rounded-lg hover:border-primary-300",children:[l.jsx("input",{type:"checkbox",id:`tool-${v.id}`,checked:a.includes(v.id),onChange:()=>w(v.id),className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsxs("label",{htmlFor:`tool-${v.id}`,className:"ml-3 flex-1 cursor-pointer",children:[l.jsx("div",{className:"font-medium text-gray-900",children:v.name}),v.description&&l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:v.description}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.isActive?"Active":"Inactive"}),l.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:v.handlerClass})]})]})]},v.id))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>t("/agents"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:p,disabled:f,className:"btn-primary disabled:opacity-50",children:f?"Saving...":"Save Agent"})]})]})}function $C(){const[e,t]=S.useState([]),[n,r]=S.useState(!0),[s,o]=S.useState(null),[i,a]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState("admin@example.com"),[h,y]=S.useState("");S.useEffect(()=>{g();const p=setInterval(g,1e4);return()=>clearInterval(p)},[]);const g=async()=>{try{r(!0);const p=await Y.getPendingApprovals();t(p.data)}catch(p){console.error("Error loading approvals:",p),o("Failed to load approval requests")}finally{r(!1)}},x=async p=>{var w,v,j,E;if(window.confirm(`Approve request for workflow "${(v=(w=p.workflowExecution)==null?void 0:w.workflow)==null?void 0:v.name}"?`))try{u(!0),await Y.approveRequest(p.id,d,h),alert("Approval granted successfully"),y(""),a(null),await g()}catch(A){console.error("Error approving request:",A),alert("Failed to approve request: "+(((E=(j=A.response)==null?void 0:j.data)==null?void 0:E.message)||A.message))}finally{u(!1)}},b=async p=>{var v,j;const w=window.prompt("Please provide a reason for rejection:");if(w)try{u(!0),await Y.rejectRequest(p.id,d,w),alert("Request rejected"),y(""),a(null),await g()}catch(E){console.error("Error rejecting request:",E),alert("Failed to reject request: "+(((j=(v=E.response)==null?void 0:v.data)==null?void 0:j.message)||E.message))}finally{u(!1)}},m=p=>p?new Date(p).toLocaleString():"N/A";return n&&e.length===0?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading approvals..."})}):l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Approval Queue"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Pending approval requests for workflow executions"})]}),s&&l.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),l.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border p-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name/Email (for audit trail)"}),l.jsx("input",{type:"text",value:d,onChange:p=>f(p.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., john@example.com"})]}),e.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"✅"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Approvals"}),l.jsx("p",{className:"text-gray-600",children:"All workflow approvals have been processed. New requests will appear here."})]}):l.jsx("div",{className:"space-y-4",children:e.map(p=>{var w,v,j,E,A;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition",children:[l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-medium rounded-full",children:"PENDING"}),p.requiredRole&&l.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:["Role: ",p.requiredRole]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((v=(w=p.workflowExecution)==null?void 0:w.workflow)==null?void 0:v.name)||"Workflow Approval"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Execution ID:"}),l.jsxs("span",{className:"ml-2 font-mono text-gray-900",children:["#",(j=p.workflowExecution)==null?void 0:j.id]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Step:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:((E=p.workflowStep)==null?void 0:E.name)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Requested:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:m(p.requestedAt)})]}),p.timeoutAt&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Timeout:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:m(p.timeoutAt)})]})]}),((A=p.workflowExecution)==null?void 0:A.triggerDataJson)&&l.jsxs("details",{className:"mb-4",children:[l.jsx("summary",{className:"cursor-pointer text-sm font-medium text-primary-600 hover:text-primary-700",children:"View Workflow Context"}),l.jsx("pre",{className:"mt-2 p-3 bg-gray-50 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(p.workflowExecution.triggerDataJson,null,2)})]}),(i==null?void 0:i.id)===p.id&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments (Optional)"}),l.jsx("textarea",{value:h,onChange:C=>y(C.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Add any comments about this approval..."})]})]})}),l.jsx("div",{className:"flex gap-3 mt-4 pt-4 border-t",children:(i==null?void 0:i.id)===p.id?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(p),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition",children:c?"Processing...":"Confirm Approval"}),l.jsx("button",{onClick:()=>a(null),disabled:c,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>a(p),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Approve"}),l.jsx("button",{onClick:()=>b(p),disabled:c,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition",children:"Reject"})]})})]},p.id)})})]})}function IC(){var m;const{id:e}=_o(),[t,n]=S.useState(null),[r,s]=S.useState({}),[o,i]=S.useState(!0),[a,c]=S.useState(!1),[u,d]=S.useState(null),[f,h]=S.useState(null);S.useEffect(()=>{y()},[e]);const y=async()=>{var p;try{i(!0);const w=await Y.getWorkflow(e);if(n(w.data),(p=w.data.inputSchemaJson)!=null&&p.properties){const v={};Object.entries(w.data.inputSchemaJson.properties).forEach(([j,E])=>{E.default!==void 0&&(v[j]=E.default)}),s(v)}}catch(w){console.error("Error loading workflow:",w),h("Failed to load workflow. Please check if the workflow exists and is accessible.")}finally{i(!1)}},g=(p,w)=>{s({...r,[p]:w})},x=async p=>{var w,v,j;p.preventDefault();try{if(c(!0),h(null),d(null),(w=t.inputSchemaJson)!=null&&w.required){for(const A of t.inputSchemaJson.required)if(!r[A]||r[A]===""){h(`Field "${A}" is required`);return}}const E=t.isPublic?await Y.executePublicWorkflow(e,r):await Y.executeWorkflow(e,r);d(E.data)}catch(E){console.error("Error executing workflow:",E),h(((j=(v=E.response)==null?void 0:v.data)==null?void 0:j.error)||"Failed to execute workflow")}finally{c(!1)}},b=(p,w)=>{var A,C;const v=r[p]||"",j=(C=(A=t.inputSchemaJson)==null?void 0:A.required)==null?void 0:C.includes(p),E="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500";switch(w.type){case"string":return w.enum?l.jsxs("select",{value:v,onChange:$=>g(p,$.target.value),required:j,className:E,children:[l.jsx("option",{value:"",children:"Select an option..."}),w.enum.map($=>l.jsx("option",{value:$,children:$},$))]}):l.jsx("input",{type:"text",value:v,onChange:$=>g(p,$.target.value),required:j,className:E,placeholder:w.description||""});case"number":case"integer":return l.jsx("input",{type:"number",value:v,onChange:$=>g(p,$.target.value),required:j,step:w.type==="integer"?"1":"any",className:E,placeholder:w.description||""});case"boolean":return l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:v===!0||v==="true",onChange:$=>g(p,$.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("span",{className:"ml-2 text-sm text-gray-600",children:w.description||"Check to enable"})]});default:return l.jsx("textarea",{value:v,onChange:$=>g(p,$.target.value),required:j,rows:"3",className:E,placeholder:w.description||""})}};return o?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading workflow..."})]})}):t?l.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("div",{className:"card mb-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.name}),t.description&&l.jsx("p",{className:"text-gray-600",children:t.description}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[t.isPublic&&l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded",children:"Public"}),l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-semibold rounded",children:"Form Interface"})]})]})]})}),l.jsx("div",{className:"card",children:l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Workflow Inputs"}),(m=t.inputSchemaJson)!=null&&m.properties?l.jsx("div",{className:"space-y-4",children:Object.entries(t.inputSchemaJson.properties).map(([p,w])=>{var v;return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[w.title||p,((v=t.inputSchemaJson.required)==null?void 0:v.includes(p))&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),b(p,w),w.description&&w.type!=="boolean"&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.description})]},p)})}):l.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:l.jsx("p",{className:"text-gray-500",children:"No input fields defined for this workflow"})}),f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l.jsx("p",{className:"text-sm text-red-700",children:f})]})}),l.jsx("button",{type:"submit",disabled:a,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:a?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Executing..."]}):"Execute Workflow"})]})}),u&&l.jsxs("div",{className:`card mt-6 ${u.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:u.success?l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-6 h-6 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-green-900",children:"Execution Successful"})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-6 h-6 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-900",children:"Execution Failed"})]})}),u.error&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 rounded text-red-800 text-sm",children:u.error}),u.context&&Object.keys(u.context).length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Result Data:"}),l.jsx("pre",{className:"bg-white p-4 rounded-lg border border-gray-200 overflow-x-auto text-xs",children:JSON.stringify(u.context,null,2)})]})]})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"card max-w-md",children:l.jsxs("div",{className:"text-center text-red-600",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Workflow Not Found"}),l.jsx("p",{className:"text-gray-600",children:"The requested workflow could not be loaded."})]})})})}function OC(){const{id:e}=_o(),t=S.useRef(null),[n,r]=S.useState(null),[s,o]=S.useState([]),[i,a]=S.useState(""),[c,u]=S.useState({}),[d,f]=S.useState(null),[h,y]=S.useState(!0),[g,x]=S.useState(!1),[b,m]=S.useState(null);S.useEffect(()=>{w()},[e]),S.useEffect(()=>{p()},[s]);const p=()=>{var I;(I=t.current)==null||I.scrollIntoView({behavior:"smooth"})},w=async()=>{var I;try{y(!0);const U=await Y.getWorkflow(e);r(U.data);const z={type:"bot",text:`Hi! I'll help you execute the "${U.data.name}" workflow. Let me collect the information I need.`,timestamp:new Date};if(o([z]),(I=U.data.inputSchemaJson)!=null&&I.properties){const N=Object.entries(U.data.inputSchemaJson.properties);N.length>0?v(N[0],U.data.inputSchemaJson.required):j("This workflow doesn't require any inputs. Type 'execute' to run it.")}}catch(U){console.error("Error loading workflow:",U),m("Failed to load workflow")}finally{y(!1)}},v=(I,U=[])=>{if(!I)return;const[z,N]=I;f({name:z,schema:N,required:U.includes(z)});let P=N.title||z;N.description&&(P+=` (${N.description})`),U.includes(z)&&(P+=" *required*"),N.enum?P+=`
Options: ${N.enum.join(", ")}`:N.type==="boolean"&&(P+=`
Please answer yes or no`),j(P)},j=I=>{o(U=>[...U,{type:"bot",text:I,timestamp:new Date}])},E=I=>{o(U=>[...U,{type:"user",text:I,timestamp:new Date}])},A=async()=>{if(!i.trim())return;const I=i.trim();if(E(I),a(""),I.toLowerCase()==="execute"&&!d){await $();return}if(d){const U=C(I,d.schema);if(U===null&&d.required){j("Invalid input. Please try again.");return}u(P=>({...P,[d.name]:U}));const z=Object.entries(n.inputSchemaJson.properties),N=z.findIndex(([P])=>P===d.name);N<z.length-1?v(z[N+1],n.inputSchemaJson.required):(f(null),j("Great! I've collected all the information. Type 'execute' to run the workflow, or 'review' to see what I've collected."))}else if(I.toLowerCase()==="review"){const U=Object.entries(c).map(([z,N])=>`${z}: ${N}`).join(`
`);j(`Here's what I've collected:

${U}

Type 'execute' to run the workflow.`)}else j("I'm not sure what you mean. Type 'execute' to run the workflow or 'review' to see collected data.")},C=(I,U)=>{try{switch(U.type){case"string":return U.enum?U.enum.find(T=>T.toLowerCase()===I.toLowerCase())||null:I;case"number":case"integer":const z=U.type==="integer"?parseInt(I):parseFloat(I);return isNaN(z)?null:z;case"boolean":const N=I.toLowerCase();return["yes","true","1","y"].includes(N)?!0:["no","false","0","n"].includes(N)?!1:null;default:return I}}catch{return null}},$=async()=>{var I,U;try{x(!0),j("Executing workflow...");const z=n.isPublic?await Y.executePublicWorkflow(e,c):await Y.executeWorkflow(e,c);if(z.data.success){if(j("✅ Workflow executed successfully!"),z.data.context){const N=JSON.stringify(z.data.context,null,2);j(`Result:
\`\`\`json
${N}
\`\`\``)}}else j(`❌ Execution failed: ${z.data.error||"Unknown error"}`)}catch(z){console.error("Error executing workflow:",z),j(`❌ Error: ${((U=(I=z.response)==null?void 0:I.data)==null?void 0:U.error)||z.message}`)}finally{x(!1)}},D=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),A())};return h?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading workflow..."})]})}):n?l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[l.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-lg font-bold text-gray-900",children:n.name}),l.jsx("p",{className:"text-sm text-gray-500",children:"Chat Interface"})]}),n.isPublic&&l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded",children:"Public"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-4",children:[s.map((I,U)=>l.jsx("div",{className:`flex ${I.type==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-3 ${I.type==="user"?"bg-primary-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:I.text}),l.jsx("p",{className:`text-xs mt-1 ${I.type==="user"?"text-primary-100":"text-gray-400"}`,children:I.timestamp.toLocaleTimeString()})]})},U)),g&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Processing..."})]})})}),l.jsx("div",{ref:t})]})}),l.jsxs("div",{className:"bg-white border-t border-gray-200 px-4 py-4",children:[l.jsxs("div",{className:"max-w-4xl mx-auto flex gap-2",children:[l.jsx("input",{type:"text",value:i,onChange:I=>a(I.target.value),onKeyPress:D,disabled:g,placeholder:"Type your response...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"}),l.jsx("button",{onClick:A,disabled:!i.trim()||g,className:"btn-primary px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),b&&l.jsx("div",{className:"max-w-4xl mx-auto mt-2",children:l.jsx("p",{className:"text-sm text-red-600",children:b})})]})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"card max-w-md",children:l.jsxs("div",{className:"text-center text-red-600",children:[l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Workflow Not Found"}),l.jsx("p",{className:"text-gray-600",children:"The requested workflow could not be loaded."})]})})})}function MC(){const e=pr(),[t,n]=S.useState([]),[r,s]=S.useState(!0),[o,i]=S.useState(null),[a,c]=S.useState("all");S.useEffect(()=>{u()},[]);const u=async()=>{try{s(!0);const x=(await Y.getWorkflows(!0)).data.filter(b=>b.isPublic);n(x)}catch(g){console.error("Error loading workflows:",g),i("Failed to load workflows")}finally{s(!1)}},d=()=>a==="all"?t:t.filter(g=>g.interfaceType.toLowerCase()===a),f=g=>{switch(g){case"FORM":return l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"CHAT":return l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})});case"API":return l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})});default:return l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}},h=g=>{g.interfaceType==="CHAT"?e(`/workflow/chat/${g.id}`):e(`/workflow/execute/${g.id}`)},y=d();return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading workflows..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflow Gallery"}),l.jsx("p",{className:"text-gray-600",children:"Browse and execute public workflows. These workflows are available for anyone to use."})]}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Workflows (",t.length,")"]}),l.jsxs("button",{onClick:()=>c("form"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="form"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Form (",t.filter(g=>g.interfaceType==="FORM").length,")"]}),l.jsxs("button",{onClick:()=>c("chat"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a==="chat"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Chat (",t.filter(g=>g.interfaceType==="CHAT").length,")"]})]})}),o&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsx("p",{className:"text-red-700",children:o})}),y.length===0?l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Workflows Found"}),l.jsx("p",{className:"text-gray-600",children:a==="all"?"There are no public workflows available yet.":`There are no ${a} workflows available yet.`})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(g=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>h(g),children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${g.interfaceType==="CHAT"?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:f(g.interfaceType)}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:g.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[g.interfaceType," Interface"]})]})]})}),l.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:g.description||"No description provided"}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),g.stepCount||0," steps"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.executionMode]})]}),l.jsx("button",{className:"w-full btn-primary text-sm",onClick:x=>{x.stopPropagation(),h(g)},children:"Launch Workflow"})]},g.id))}),t.length>0&&l.jsx("div",{className:"card bg-blue-50 border-blue-200",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"About Public Workflows"}),l.jsx("p",{className:"text-sm text-blue-800",children:"Public workflows can be executed by anyone without authentication. They are designed to be shared and used across your organization. Choose between Form interfaces for structured data entry or Chat interfaces for conversational execution."})]})]})})]})}function LC(){return l.jsx(y1,{children:l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(GN,{}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(d1,{children:[l.jsx(je,{path:"/",element:l.jsx(QN,{})}),l.jsx(je,{path:"/products",element:l.jsx(nb,{})}),l.jsx(je,{path:"/chat",element:l.jsx(ob,{})}),l.jsx(je,{path:"/fulfillment",element:l.jsx(hb,{})}),l.jsx(je,{path:"/agents",element:l.jsx(RC,{})}),l.jsx(je,{path:"/agents/new",element:l.jsx(Dh,{})}),l.jsx(je,{path:"/agents/:id",element:l.jsx(Dh,{})}),l.jsx(je,{path:"/workflows",element:l.jsx(pb,{})}),l.jsx(je,{path:"/workflows/new",element:l.jsx(Mh,{})}),l.jsx(je,{path:"/workflows/:id",element:l.jsx(Mh,{})}),l.jsx(je,{path:"/workflow-gallery",element:l.jsx(MC,{})}),l.jsx(je,{path:"/workflow/execute/:id",element:l.jsx(IC,{})}),l.jsx(je,{path:"/workflow/chat/:id",element:l.jsx(OC,{})}),l.jsx(je,{path:"/executions",element:l.jsx(Lh,{})}),l.jsx(je,{path:"/executions/:workflowId",element:l.jsx(Lh,{})}),l.jsx(je,{path:"/approvals",element:l.jsx($C,{})}),l.jsx(je,{path:"/settings",element:l.jsx(ib,{})}),l.jsx(je,{path:"/analytics",element:l.jsx(fb,{})}),l.jsx(je,{path:"/market-intel",element:l.jsx("div",{className:"text-center py-20 text-gray-500",children:"Market Intelligence - Coming Soon"})})]})})]})})}_a.createRoot(document.getElementById("root")).render(l.jsx(F.StrictMode,{children:l.jsx(LC,{})}));
