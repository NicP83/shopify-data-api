function Kx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fh={exports:{}},ll={},zh={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),Yx=Symbol.for("react.portal"),qx=Symbol.for("react.fragment"),Gx=Symbol.for("react.strict_mode"),Qx=Symbol.for("react.profiler"),Jx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),ey=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ny=Symbol.for("react.memo"),ry=Symbol.for("react.lazy"),hd=Symbol.iterator;function sy(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var Uh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bh=Object.assign,Hh={};function is(e,t,n){this.props=e,this.context=t,this.refs=Hh,this.updater=n||Uh}is.prototype.isReactComponent={};is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vh(){}Vh.prototype=is.prototype;function Xc(e,t,n){this.props=e,this.context=t,this.refs=Hh,this.updater=n||Uh}var Kc=Xc.prototype=new Vh;Kc.constructor=Xc;Bh(Kc,is.prototype);Kc.isPureReactComponent=!0;var pd=Array.isArray,Wh=Object.prototype.hasOwnProperty,Yc={current:null},Xh={key:!0,ref:!0,__self:!0,__source:!0};function Kh(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Wh.call(t,r)&&!Xh.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:No,type:e,key:o,ref:i,props:s,_owner:Yc.current}}function oy(e,t){return{$$typeof:No,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qc(e){return typeof e=="object"&&e!==null&&e.$$typeof===No}function iy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var md=/\/+/g;function zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iy(""+e.key):t.toString(36)}function ai(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case No:case Yx:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+zl(i,0):r,pd(s)?(n="",e!=null&&(n=e.replace(md,"$&/")+"/"),ai(s,t,n,"",function(u){return u})):s!=null&&(qc(s)&&(s=oy(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(md,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",pd(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+zl(o,a);i+=ai(o,t,n,c,s)}else if(c=sy(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+zl(o,a++),i+=ai(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Oo(e,t,n){if(e==null)return e;var r=[],s=0;return ai(e,r,"","",function(o){return t.call(n,o,s++)}),r}function ly(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},ci={transition:null},ay={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:ci,ReactCurrentOwner:Yc};function Yh(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Oo,forEach:function(e,t,n){Oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oo(e,function(){t++}),t},toArray:function(e){return Oo(e,function(t){return t})||[]},only:function(e){if(!qc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=is;ne.Fragment=qx;ne.Profiler=Qx;ne.PureComponent=Xc;ne.StrictMode=Gx;ne.Suspense=ty;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ay;ne.act=Yh;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bh({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Yc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Wh.call(t,c)&&!Xh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:No,type:e.type,key:s,ref:o,props:r,_owner:i}};ne.createContext=function(e){return e={$$typeof:Zx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jx,_context:e},e.Consumer=e};ne.createElement=Kh;ne.createFactory=function(e){var t=Kh.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:ey,render:e}};ne.isValidElement=qc;ne.lazy=function(e){return{$$typeof:ry,_payload:{_status:-1,_result:e},_init:ly}};ne.memo=function(e,t){return{$$typeof:ny,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ci.transition;ci.transition={};try{e()}finally{ci.transition=t}};ne.unstable_act=Yh;ne.useCallback=function(e,t){return Ge.current.useCallback(e,t)};ne.useContext=function(e){return Ge.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Ge.current.useEffect(e,t)};ne.useId=function(){return Ge.current.useId()};ne.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ge.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};ne.useRef=function(e){return Ge.current.useRef(e)};ne.useState=function(e){return Ge.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Ge.current.useTransition()};ne.version="18.3.1";zh.exports=ne;var b=zh.exports;const M=Wc(b),cy=Kx({__proto__:null,default:M},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=b,dy=Symbol.for("react.element"),fy=Symbol.for("react.fragment"),hy=Object.prototype.hasOwnProperty,py=uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,my={key:!0,ref:!0,__self:!0,__source:!0};function qh(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)hy.call(t,r)&&!my.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dy,type:e,key:o,ref:i,props:s,_owner:py.current}}ll.Fragment=fy;ll.jsx=qh;ll.jsxs=qh;Fh.exports=ll;var l=Fh.exports,Ca={},Gh={exports:{}},ft={},Qh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,k){var P=C.length;C.push(k);e:for(;0<P;){var O=P-1>>>1,D=C[O];if(0<s(D,k))C[O]=k,C[P]=D,P=O;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var k=C[0],P=C.pop();if(P!==k){C[0]=P;e:for(var O=0,D=C.length,X=D>>>1;O<X;){var W=2*(O+1)-1,V=C[W],J=W+1,ee=C[J];if(0>s(V,P))J<D&&0>s(ee,V)?(C[O]=ee,C[J]=P,O=J):(C[O]=V,C[W]=P,O=W);else if(J<D&&0>s(ee,P))C[O]=ee,C[J]=P,O=J;else break e}}return k}function s(C,k){var P=C.sortIndex-k.sortIndex;return P!==0?P:C.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,h=3,x=!1,y=!1,g=!1,N=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=C)r(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=n(u)}}function v(C){if(g=!1,w(C),!y)if(n(c)!==null)y=!0,A(E);else{var k=n(u);k!==null&&F(v,k.startTime-C)}}function E(C,k){y=!1,g&&(g=!1,p(_),_=-1),x=!0;var P=h;try{for(w(k),f=n(c);f!==null&&(!(f.expirationTime>k)||C&&!z());){var O=f.callback;if(typeof O=="function"){f.callback=null,h=f.priorityLevel;var D=O(f.expirationTime<=k);k=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(c)&&r(c),w(k)}else r(c);f=n(c)}if(f!==null)var X=!0;else{var W=n(u);W!==null&&F(v,W.startTime-k),X=!1}return X}finally{f=null,h=P,x=!1}}var j=!1,T=null,_=-1,$=5,L=-1;function z(){return!(e.unstable_now()-L<$)}function H(){if(T!==null){var C=e.unstable_now();L=C;var k=!0;try{k=T(!0,C)}finally{k?U():(j=!1,T=null)}}else j=!1}var U;if(typeof m=="function")U=function(){m(H)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,R=S.port2;S.port1.onmessage=H,U=function(){R.postMessage(null)}}else U=function(){N(H,0)};function A(C){T=C,j||(j=!0,U())}function F(C,k){_=N(function(){C(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,A(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var P=h;h=k;try{return C()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,k){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var P=h;h=C;try{return k()}finally{h=P}},e.unstable_scheduleCallback=function(C,k,P){var O=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?O+P:O):P=O,C){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=P+D,C={id:d++,callback:k,priorityLevel:C,startTime:P,expirationTime:D,sortIndex:-1},P>O?(C.sortIndex=P,t(u,C),n(c)===null&&C===n(u)&&(g?(p(_),_=-1):g=!0,F(v,P-O))):(C.sortIndex=D,t(c,C),y||x||(y=!0,A(E))),C},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(C){var k=h;return function(){var P=h;h=k;try{return C.apply(this,arguments)}finally{h=P}}}})(Jh);Qh.exports=Jh;var gy=Qh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=b,ut=gy;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zh=new Set,Ks={};function dr(e,t){Xr(e,t),Xr(e+"Capture",t)}function Xr(e,t){for(Ks[e]=t,e=0;e<t.length;e++)Zh.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=Object.prototype.hasOwnProperty,yy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gd={},xd={};function vy(e){return _a.call(xd,e)?!0:_a.call(gd,e)?!1:yy.test(e)?xd[e]=!0:(gd[e]=!0,!1)}function wy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ny(e,t,n,r){if(t===null||typeof t>"u"||wy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gc=/[\-:]([a-z])/g;function Qc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gc,Qc);Me[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gc,Qc);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gc,Qc);Me[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jc(e,t,n,r){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ny(t,n,s,r)&&(n=null),r||s===null?vy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Do=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),Ta=Symbol.for("react.suspense"),Pa=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),np=Symbol.for("react.offscreen"),yd=Symbol.iterator;function xs(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Ul;function Ps(e){if(Ul===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ul=t&&t[1]||""}return`
`+Ul+e}var Bl=!1;function Hl(e,t){if(!e||Bl)return"";Bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Bl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ps(e):""}function Sy(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=Hl(e.type,!1),e;case 11:return e=Hl(e.type.render,!1),e;case 1:return e=Hl(e.type,!0),e;default:return""}}function Ra(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Er:return"Fragment";case jr:return"Portal";case Aa:return"Profiler";case Zc:return"StrictMode";case Ta:return"Suspense";case Pa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tp:return(e.displayName||"Context")+".Consumer";case ep:return(e._context.displayName||"Context")+".Provider";case eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tu:return t=e.displayName||null,t!==null?t:Ra(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return Ra(e(t))}catch{}}return null}function by(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ra(t);case 8:return t===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jy(e){var t=rp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mo(e){e._valueTracker||(e._valueTracker=jy(e))}function sp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $a(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function op(e,t){t=t.checked,t!=null&&Jc(e,"checked",t,!1)}function Ia(e,t){op(e,t);var n=Pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oa(e,t.type,Pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Oa(e,t,n){(t!=="number"||Ci(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Mr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Rs(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pn(n)}}function ip(e,t){var n=Pn(t.value),r=Pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lo,ap=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ey=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){Ey.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function cp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function up(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ky=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(e,t){if(t){if(ky[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Lr=null,Fr=null;function bd(e){if(e=jo(e)){if(typeof Ua!="function")throw Error(B(280));var t=e.stateNode;t&&(t=fl(t),Ua(e.stateNode,e.type,t))}}function dp(e){Lr?Fr?Fr.push(e):Fr=[e]:Lr=e}function fp(){if(Lr){var e=Lr,t=Fr;if(Fr=Lr=null,bd(e),t)for(e=0;e<t.length;e++)bd(t[e])}}function hp(e,t){return e(t)}function pp(){}var Vl=!1;function mp(e,t,n){if(Vl)return e(t,n);Vl=!0;try{return hp(e,t,n)}finally{Vl=!1,(Lr!==null||Fr!==null)&&(pp(),fp())}}function qs(e,t){var n=e.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Ba=!1;if(tn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{Ba=!1}function Cy(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fs=!1,_i=null,Ai=!1,Ha=null,_y={onError:function(e){Fs=!0,_i=e}};function Ay(e,t,n,r,s,o,i,a,c){Fs=!1,_i=null,Cy.apply(_y,arguments)}function Ty(e,t,n,r,s,o,i,a,c){if(Ay.apply(this,arguments),Fs){if(Fs){var u=_i;Fs=!1,_i=null}else throw Error(B(198));Ai||(Ai=!0,Ha=u)}}function fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jd(e){if(fr(e)!==e)throw Error(B(188))}function Py(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return jd(s),e;if(o===r)return jd(s),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function xp(e){return e=Py(e),e!==null?yp(e):null}function yp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yp(e);if(t!==null)return t;e=e.sibling}return null}var vp=ut.unstable_scheduleCallback,Ed=ut.unstable_cancelCallback,Ry=ut.unstable_shouldYield,$y=ut.unstable_requestPaint,Se=ut.unstable_now,Iy=ut.unstable_getCurrentPriorityLevel,ru=ut.unstable_ImmediatePriority,wp=ut.unstable_UserBlockingPriority,Ti=ut.unstable_NormalPriority,Oy=ut.unstable_LowPriority,Np=ut.unstable_IdlePriority,al=null,zt=null;function Dy(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(al,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Fy,My=Math.log,Ly=Math.LN2;function Fy(e){return e>>>=0,e===0?32:31-(My(e)/Ly|0)|0}var Fo=64,zo=4194304;function $s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=$s(a):(o&=i,o!==0&&(r=$s(o)))}else i=n&~s,i!==0?r=$s(i):o!==0&&(r=$s(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-At(t),s=1<<n,r|=e[n],t&=~s;return r}function zy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-At(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=zy(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sp(){var e=Fo;return Fo<<=1,!(Fo&4194240)&&(Fo=64),e}function Wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function So(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=n}function By(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-At(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function su(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ae=0;function bp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jp,ou,Ep,kp,Cp,Wa=!1,Uo=[],Nn=null,Sn=null,bn=null,Gs=new Map,Qs=new Map,mn=[],Hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(t.pointerId)}}function vs(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=jo(t),t!==null&&ou(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vy(e,t,n,r,s){switch(t){case"focusin":return Nn=vs(Nn,e,t,n,r,s),!0;case"dragenter":return Sn=vs(Sn,e,t,n,r,s),!0;case"mouseover":return bn=vs(bn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Gs.set(o,vs(Gs.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Qs.set(o,vs(Qs.get(o)||null,e,t,n,r,s)),!0}return!1}function _p(e){var t=Xn(e.target);if(t!==null){var n=fr(t);if(n!==null){if(t=n.tag,t===13){if(t=gp(n),t!==null){e.blockedOn=t,Cp(e.priority,function(){Ep(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);za=r,n.target.dispatchEvent(r),za=null}else return t=jo(n),t!==null&&ou(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){ui(e)&&n.delete(t)}function Wy(){Wa=!1,Nn!==null&&ui(Nn)&&(Nn=null),Sn!==null&&ui(Sn)&&(Sn=null),bn!==null&&ui(bn)&&(bn=null),Gs.forEach(Cd),Qs.forEach(Cd)}function ws(e,t){e.blockedOn===t&&(e.blockedOn=null,Wa||(Wa=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,Wy)))}function Js(e){function t(s){return ws(s,e)}if(0<Uo.length){ws(Uo[0],e);for(var n=1;n<Uo.length;n++){var r=Uo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nn!==null&&ws(Nn,e),Sn!==null&&ws(Sn,e),bn!==null&&ws(bn,e),Gs.forEach(t),Qs.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)_p(n),n.blockedOn===null&&mn.shift()}var zr=an.ReactCurrentBatchConfig,Ri=!0;function Xy(e,t,n,r){var s=ae,o=zr.transition;zr.transition=null;try{ae=1,iu(e,t,n,r)}finally{ae=s,zr.transition=o}}function Ky(e,t,n,r){var s=ae,o=zr.transition;zr.transition=null;try{ae=4,iu(e,t,n,r)}finally{ae=s,zr.transition=o}}function iu(e,t,n,r){if(Ri){var s=Xa(e,t,n,r);if(s===null)ta(e,t,r,$i,n),kd(e,r);else if(Vy(s,e,t,n,r))r.stopPropagation();else if(kd(e,r),t&4&&-1<Hy.indexOf(e)){for(;s!==null;){var o=jo(s);if(o!==null&&jp(o),o=Xa(e,t,n,r),o===null&&ta(e,t,r,$i,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ta(e,t,r,null,n)}}var $i=null;function Xa(e,t,n,r){if($i=null,e=nu(r),e=Xn(e),e!==null)if(t=fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $i=e,null}function Ap(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iy()){case ru:return 1;case wp:return 4;case Ti:case Oy:return 16;case Np:return 536870912;default:return 16}default:return 16}}var yn=null,lu=null,di=null;function Tp(){if(di)return di;var e,t=lu,n=t.length,r,s="value"in yn?yn.value:yn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return di=s.slice(e,1<r?1-r:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bo(){return!0}function _d(){return!1}function ht(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bo:_d,this.isPropagationStopped=_d,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),t}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=ht(ls),bo=ye({},ls,{view:0,detail:0}),Yy=ht(bo),Xl,Kl,Ns,cl=ye({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(Xl=e.screenX-Ns.screenX,Kl=e.screenY-Ns.screenY):Kl=Xl=0,Ns=e),Xl)},movementY:function(e){return"movementY"in e?e.movementY:Kl}}),Ad=ht(cl),qy=ye({},cl,{dataTransfer:0}),Gy=ht(qy),Qy=ye({},bo,{relatedTarget:0}),Yl=ht(Qy),Jy=ye({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Zy=ht(Jy),ev=ye({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tv=ht(ev),nv=ye({},ls,{data:0}),Td=ht(nv),rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ov[e])?!!t[e]:!1}function cu(){return iv}var lv=ye({},bo,{key:function(e){if(e.key){var t=rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),av=ht(lv),cv=ye({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=ht(cv),uv=ye({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),dv=ht(uv),fv=ye({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),hv=ht(fv),pv=ye({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=ht(pv),gv=[9,13,27,32],uu=tn&&"CompositionEvent"in window,zs=null;tn&&"documentMode"in document&&(zs=document.documentMode);var xv=tn&&"TextEvent"in window&&!zs,Pp=tn&&(!uu||zs&&8<zs&&11>=zs),Rd=" ",$d=!1;function Rp(e,t){switch(e){case"keyup":return gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $p(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kr=!1;function yv(e,t){switch(e){case"compositionend":return $p(t);case"keypress":return t.which!==32?null:($d=!0,Rd);case"textInput":return e=t.data,e===Rd&&$d?null:e;default:return null}}function vv(e,t){if(kr)return e==="compositionend"||!uu&&Rp(e,t)?(e=Tp(),di=lu=yn=null,kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pp&&t.locale!=="ko"?null:t.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wv[e.type]:t==="textarea"}function Ip(e,t,n,r){dp(r),t=Ii(t,"onChange"),0<t.length&&(n=new au("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Us=null,Zs=null;function Nv(e){Wp(e,0)}function ul(e){var t=Ar(e);if(sp(t))return e}function Sv(e,t){if(e==="change")return t}var Op=!1;if(tn){var ql;if(tn){var Gl="oninput"in document;if(!Gl){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Gl=typeof Od.oninput=="function"}ql=Gl}else ql=!1;Op=ql&&(!document.documentMode||9<document.documentMode)}function Dd(){Us&&(Us.detachEvent("onpropertychange",Dp),Zs=Us=null)}function Dp(e){if(e.propertyName==="value"&&ul(Zs)){var t=[];Ip(t,Zs,e,nu(e)),mp(Nv,t)}}function bv(e,t,n){e==="focusin"?(Dd(),Us=t,Zs=n,Us.attachEvent("onpropertychange",Dp)):e==="focusout"&&Dd()}function jv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(Zs)}function Ev(e,t){if(e==="click")return ul(t)}function kv(e,t){if(e==="input"||e==="change")return ul(t)}function Cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Cv;function eo(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_a.call(t,s)||!Rt(e[s],t[s]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var n=Md(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Md(n)}}function Mp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lp(){for(var e=window,t=Ci();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ci(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _v(e){var t=Lp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mp(n.ownerDocument.documentElement,n)){if(r!==null&&du(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ld(n,o);var i=Ld(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Av=tn&&"documentMode"in document&&11>=document.documentMode,Cr=null,Ka=null,Bs=null,Ya=!1;function Fd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ya||Cr==null||Cr!==Ci(r)||(r=Cr,"selectionStart"in r&&du(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bs&&eo(Bs,r)||(Bs=r,r=Ii(Ka,"onSelect"),0<r.length&&(t=new au("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cr)))}function Ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},Ql={},Fp={};tn&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function dl(e){if(Ql[e])return Ql[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fp)return Ql[e]=t[n];return e}var zp=dl("animationend"),Up=dl("animationiteration"),Bp=dl("animationstart"),Hp=dl("transitionend"),Vp=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){Vp.set(e,t),dr(t,[e])}for(var Jl=0;Jl<zd.length;Jl++){var Zl=zd[Jl],Tv=Zl.toLowerCase(),Pv=Zl[0].toUpperCase()+Zl.slice(1);$n(Tv,"on"+Pv)}$n(zp,"onAnimationEnd");$n(Up,"onAnimationIteration");$n(Bp,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Hp,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Ud(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ty(r,t,void 0,e),e.currentTarget=null}function Wp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Ud(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Ud(s,a,u),o=c}}}if(Ai)throw e=Ha,Ai=!1,Ha=null,e}function fe(e,t){var n=t[Za];n===void 0&&(n=t[Za]=new Set);var r=e+"__bubble";n.has(r)||(Xp(t,e,2,!1),n.add(r))}function ea(e,t,n){var r=0;t&&(r|=4),Xp(n,e,r,t)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[Vo]){e[Vo]=!0,Zh.forEach(function(n){n!=="selectionchange"&&(Rv.has(n)||ea(n,!1,e),ea(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vo]||(t[Vo]=!0,ea("selectionchange",!1,t))}}function Xp(e,t,n,r){switch(Ap(t)){case 1:var s=Xy;break;case 4:s=Ky;break;default:s=iu}n=s.bind(null,t,n,e),s=void 0,!Ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ta(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Xn(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}mp(function(){var u=o,d=nu(n),f=[];e:{var h=Vp.get(e);if(h!==void 0){var x=au,y=e;switch(e){case"keypress":if(fi(n)===0)break e;case"keydown":case"keyup":x=av;break;case"focusin":y="focus",x=Yl;break;case"focusout":y="blur",x=Yl;break;case"beforeblur":case"afterblur":x=Yl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=dv;break;case zp:case Up:case Bp:x=Zy;break;case Hp:x=hv;break;case"scroll":x=Yy;break;case"wheel":x=mv;break;case"copy":case"cut":case"paste":x=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Pd}var g=(t&4)!==0,N=!g&&e==="scroll",p=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,w;m!==null;){w=m;var v=w.stateNode;if(w.tag===5&&v!==null&&(w=v,p!==null&&(v=qs(m,p),v!=null&&g.push(no(m,v,w)))),N)break;m=m.return}0<g.length&&(h=new x(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&n!==za&&(y=n.relatedTarget||n.fromElement)&&(Xn(y)||y[nn]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=u,y=y?Xn(y):null,y!==null&&(N=fr(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=u),x!==y)){if(g=Ad,v="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=Pd,v="onPointerLeave",p="onPointerEnter",m="pointer"),N=x==null?h:Ar(x),w=y==null?h:Ar(y),h=new g(v,m+"leave",x,n,d),h.target=N,h.relatedTarget=w,v=null,Xn(d)===u&&(g=new g(p,m+"enter",y,n,d),g.target=w,g.relatedTarget=N,v=g),N=v,x&&y)t:{for(g=x,p=y,m=0,w=g;w;w=vr(w))m++;for(w=0,v=p;v;v=vr(v))w++;for(;0<m-w;)g=vr(g),m--;for(;0<w-m;)p=vr(p),w--;for(;m--;){if(g===p||p!==null&&g===p.alternate)break t;g=vr(g),p=vr(p)}g=null}else g=null;x!==null&&Bd(f,h,x,g,!1),y!==null&&N!==null&&Bd(f,N,y,g,!0)}}e:{if(h=u?Ar(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var E=Sv;else if(Id(h))if(Op)E=kv;else{E=jv;var j=bv}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Ev);if(E&&(E=E(e,u))){Ip(f,E,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Oa(h,"number",h.value)}switch(j=u?Ar(u):window,e){case"focusin":(Id(j)||j.contentEditable==="true")&&(Cr=j,Ka=u,Bs=null);break;case"focusout":Bs=Ka=Cr=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,Fd(f,n,d);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":Fd(f,n,d)}var T;if(uu)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else kr?Rp(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Pp&&n.locale!=="ko"&&(kr||_!=="onCompositionStart"?_==="onCompositionEnd"&&kr&&(T=Tp()):(yn=d,lu="value"in yn?yn.value:yn.textContent,kr=!0)),j=Ii(u,_),0<j.length&&(_=new Td(_,e,null,n,d),f.push({event:_,listeners:j}),T?_.data=T:(T=$p(n),T!==null&&(_.data=T)))),(T=xv?yv(e,n):vv(e,n))&&(u=Ii(u,"onBeforeInput"),0<u.length&&(d=new Td("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}Wp(f,t)})}function no(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=qs(e,n),o!=null&&r.unshift(no(e,o,s)),o=qs(e,t),o!=null&&r.push(no(e,o,s))),e=e.return}return r}function vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bd(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=qs(n,o),c!=null&&i.unshift(no(n,c,a))):s||(c=qs(n,o),c!=null&&i.push(no(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var $v=/\r\n?/g,Iv=/\u0000|\uFFFD/g;function Hd(e){return(typeof e=="string"?e:""+e).replace($v,`
`).replace(Iv,"")}function Wo(e,t,n){if(t=Hd(t),Hd(e)!==t&&n)throw Error(B(425))}function Oi(){}var qa=null,Ga=null;function Qa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ja=typeof setTimeout=="function"?setTimeout:void 0,Ov=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,Dv=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(Mv)}:Ja;function Mv(e){setTimeout(function(){throw e})}function na(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Js(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Js(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var as=Math.random().toString(36).slice(2),Ft="__reactFiber$"+as,ro="__reactProps$"+as,nn="__reactContainer$"+as,Za="__reactEvents$"+as,Lv="__reactListeners$"+as,Fv="__reactHandles$"+as;function Xn(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wd(e);e!==null;){if(n=e[Ft])return n;e=Wd(e)}return t}e=n,n=e.parentNode}return null}function jo(e){return e=e[Ft]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function fl(e){return e[ro]||null}var ec=[],Tr=-1;function In(e){return{current:e}}function he(e){0>Tr||(e.current=ec[Tr],ec[Tr]=null,Tr--)}function ue(e,t){Tr++,ec[Tr]=e.current,e.current=t}var Rn={},We=In(Rn),tt=In(!1),rr=Rn;function Kr(e,t){var n=e.type.contextTypes;if(!n)return Rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nt(e){return e=e.childContextTypes,e!=null}function Di(){he(tt),he(We)}function Xd(e,t,n){if(We.current!==Rn)throw Error(B(168));ue(We,t),ue(tt,n)}function Kp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,by(e)||"Unknown",s));return ye({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rn,rr=We.current,ue(We,e),ue(tt,tt.current),!0}function Kd(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Kp(e,t,rr),r.__reactInternalMemoizedMergedChildContext=e,he(tt),he(We),ue(We,e)):he(tt),ue(tt,n)}var qt=null,hl=!1,ra=!1;function Yp(e){qt===null?qt=[e]:qt.push(e)}function zv(e){hl=!0,Yp(e)}function On(){if(!ra&&qt!==null){ra=!0;var e=0,t=ae;try{var n=qt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qt=null,hl=!1}catch(s){throw qt!==null&&(qt=qt.slice(e+1)),vp(ru,On),s}finally{ae=t,ra=!1}}return null}var Pr=[],Rr=0,Li=null,Fi=0,pt=[],mt=0,sr=null,Gt=1,Qt="";function Hn(e,t){Pr[Rr++]=Fi,Pr[Rr++]=Li,Li=e,Fi=t}function qp(e,t,n){pt[mt++]=Gt,pt[mt++]=Qt,pt[mt++]=sr,sr=e;var r=Gt;e=Qt;var s=32-At(r)-1;r&=~(1<<s),n+=1;var o=32-At(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Gt=1<<32-At(t)+s|n<<s|r,Qt=o+e}else Gt=1<<o|n<<s|r,Qt=e}function fu(e){e.return!==null&&(Hn(e,1),qp(e,1,0))}function hu(e){for(;e===Li;)Li=Pr[--Rr],Pr[Rr]=null,Fi=Pr[--Rr],Pr[Rr]=null;for(;e===sr;)sr=pt[--mt],pt[mt]=null,Qt=pt[--mt],pt[mt]=null,Gt=pt[--mt],pt[mt]=null}var ct=null,at=null,me=!1,Ct=null;function Gp(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,at=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:Gt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,at=null,!0):!1;default:return!1}}function tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nc(e){if(me){var t=at;if(t){var n=t;if(!Yd(e,t)){if(tc(e))throw Error(B(418));t=jn(n.nextSibling);var r=ct;t&&Yd(e,t)?Gp(r,n):(e.flags=e.flags&-4097|2,me=!1,ct=e)}}else{if(tc(e))throw Error(B(418));e.flags=e.flags&-4097|2,me=!1,ct=e}}}function qd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Xo(e){if(e!==ct)return!1;if(!me)return qd(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qa(e.type,e.memoizedProps)),t&&(t=at)){if(tc(e))throw Qp(),Error(B(418));for(;t;)Gp(e,t),t=jn(t.nextSibling)}if(qd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=ct?jn(e.stateNode.nextSibling):null;return!0}function Qp(){for(var e=at;e;)e=jn(e.nextSibling)}function Yr(){at=ct=null,me=!1}function pu(e){Ct===null?Ct=[e]:Ct.push(e)}var Uv=an.ReactCurrentBatchConfig;function Ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gd(e){var t=e._init;return t(e._payload)}function Jp(e){function t(p,m){if(e){var w=p.deletions;w===null?(p.deletions=[m],p.flags|=16):w.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=_n(p,m),p.index=0,p.sibling=null,p}function o(p,m,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<m?(p.flags|=2,m):w):(p.flags|=2,m)):(p.flags|=1048576,m)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,w,v){return m===null||m.tag!==6?(m=ua(w,p.mode,v),m.return=p,m):(m=s(m,w),m.return=p,m)}function c(p,m,w,v){var E=w.type;return E===Er?d(p,m,w.props.children,v,w.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dn&&Gd(E)===m.type)?(v=s(m,w.props),v.ref=Ss(p,m,w),v.return=p,v):(v=vi(w.type,w.key,w.props,null,p.mode,v),v.ref=Ss(p,m,w),v.return=p,v)}function u(p,m,w,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=da(w,p.mode,v),m.return=p,m):(m=s(m,w.children||[]),m.return=p,m)}function d(p,m,w,v,E){return m===null||m.tag!==7?(m=Zn(w,p.mode,v,E),m.return=p,m):(m=s(m,w),m.return=p,m)}function f(p,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ua(""+m,p.mode,w),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Do:return w=vi(m.type,m.key,m.props,null,p.mode,w),w.ref=Ss(p,null,m),w.return=p,w;case jr:return m=da(m,p.mode,w),m.return=p,m;case dn:var v=m._init;return f(p,v(m._payload),w)}if(Rs(m)||xs(m))return m=Zn(m,p.mode,w,null),m.return=p,m;Ko(p,m)}return null}function h(p,m,w,v){var E=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(p,m,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Do:return w.key===E?c(p,m,w,v):null;case jr:return w.key===E?u(p,m,w,v):null;case dn:return E=w._init,h(p,m,E(w._payload),v)}if(Rs(w)||xs(w))return E!==null?null:d(p,m,w,v,null);Ko(p,w)}return null}function x(p,m,w,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(w)||null,a(m,p,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Do:return p=p.get(v.key===null?w:v.key)||null,c(m,p,v,E);case jr:return p=p.get(v.key===null?w:v.key)||null,u(m,p,v,E);case dn:var j=v._init;return x(p,m,w,j(v._payload),E)}if(Rs(v)||xs(v))return p=p.get(w)||null,d(m,p,v,E,null);Ko(m,v)}return null}function y(p,m,w,v){for(var E=null,j=null,T=m,_=m=0,$=null;T!==null&&_<w.length;_++){T.index>_?($=T,T=null):$=T.sibling;var L=h(p,T,w[_],v);if(L===null){T===null&&(T=$);break}e&&T&&L.alternate===null&&t(p,T),m=o(L,m,_),j===null?E=L:j.sibling=L,j=L,T=$}if(_===w.length)return n(p,T),me&&Hn(p,_),E;if(T===null){for(;_<w.length;_++)T=f(p,w[_],v),T!==null&&(m=o(T,m,_),j===null?E=T:j.sibling=T,j=T);return me&&Hn(p,_),E}for(T=r(p,T);_<w.length;_++)$=x(T,p,_,w[_],v),$!==null&&(e&&$.alternate!==null&&T.delete($.key===null?_:$.key),m=o($,m,_),j===null?E=$:j.sibling=$,j=$);return e&&T.forEach(function(z){return t(p,z)}),me&&Hn(p,_),E}function g(p,m,w,v){var E=xs(w);if(typeof E!="function")throw Error(B(150));if(w=E.call(w),w==null)throw Error(B(151));for(var j=E=null,T=m,_=m=0,$=null,L=w.next();T!==null&&!L.done;_++,L=w.next()){T.index>_?($=T,T=null):$=T.sibling;var z=h(p,T,L.value,v);if(z===null){T===null&&(T=$);break}e&&T&&z.alternate===null&&t(p,T),m=o(z,m,_),j===null?E=z:j.sibling=z,j=z,T=$}if(L.done)return n(p,T),me&&Hn(p,_),E;if(T===null){for(;!L.done;_++,L=w.next())L=f(p,L.value,v),L!==null&&(m=o(L,m,_),j===null?E=L:j.sibling=L,j=L);return me&&Hn(p,_),E}for(T=r(p,T);!L.done;_++,L=w.next())L=x(T,p,_,L.value,v),L!==null&&(e&&L.alternate!==null&&T.delete(L.key===null?_:L.key),m=o(L,m,_),j===null?E=L:j.sibling=L,j=L);return e&&T.forEach(function(H){return t(p,H)}),me&&Hn(p,_),E}function N(p,m,w,v){if(typeof w=="object"&&w!==null&&w.type===Er&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Do:e:{for(var E=w.key,j=m;j!==null;){if(j.key===E){if(E=w.type,E===Er){if(j.tag===7){n(p,j.sibling),m=s(j,w.props.children),m.return=p,p=m;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dn&&Gd(E)===j.type){n(p,j.sibling),m=s(j,w.props),m.ref=Ss(p,j,w),m.return=p,p=m;break e}n(p,j);break}else t(p,j);j=j.sibling}w.type===Er?(m=Zn(w.props.children,p.mode,v,w.key),m.return=p,p=m):(v=vi(w.type,w.key,w.props,null,p.mode,v),v.ref=Ss(p,m,w),v.return=p,p=v)}return i(p);case jr:e:{for(j=w.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(p,m.sibling),m=s(m,w.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=da(w,p.mode,v),m.return=p,p=m}return i(p);case dn:return j=w._init,N(p,m,j(w._payload),v)}if(Rs(w))return y(p,m,w,v);if(xs(w))return g(p,m,w,v);Ko(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,w),m.return=p,p=m):(n(p,m),m=ua(w,p.mode,v),m.return=p,p=m),i(p)):n(p,m)}return N}var qr=Jp(!0),Zp=Jp(!1),zi=In(null),Ui=null,$r=null,mu=null;function gu(){mu=$r=Ui=null}function xu(e){var t=zi.current;he(zi),e._currentValue=t}function rc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ur(e,t){Ui=e,mu=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(mu!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(Ui===null)throw Error(B(308));$r=e,Ui.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var Kn=null;function yu(e){Kn===null?Kn=[e]:Kn.push(e)}function em(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,yu(t)):(n.next=s.next,s.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,rn(e,n)}return s=r.interleaved,s===null?(t.next=t,yu(r)):(t.next=s.next,s.next=t),r.interleaved=t,rn(e,n)}function hi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,su(e,n)}}function Qd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var s=e.updateQueue;fn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var h=a.lane,x=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,g=a;switch(h=t,x=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(x,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(x,f,h):y,h==null)break e;f=ye({},f,h);break e;case 2:fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else x={eventTime:x,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ir|=i,e.lanes=i,e.memoizedState=f}}function Jd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Eo={},Ut=In(Eo),so=In(Eo),oo=In(Eo);function Yn(e){if(e===Eo)throw Error(B(174));return e}function wu(e,t){switch(ue(oo,t),ue(so,e),ue(Ut,Eo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ma(t,e)}he(Ut),ue(Ut,t)}function Gr(){he(Ut),he(so),he(oo)}function nm(e){Yn(oo.current);var t=Yn(Ut.current),n=Ma(t,e.type);t!==n&&(ue(so,e),ue(Ut,n))}function Nu(e){so.current===e&&(he(Ut),he(so))}var ge=In(0);function Hi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function Su(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var pi=an.ReactCurrentDispatcher,oa=an.ReactCurrentBatchConfig,or=0,xe=null,Ce=null,Te=null,Vi=!1,Hs=!1,io=0,Bv=0;function Ue(){throw Error(B(321))}function bu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function ju(e,t,n,r,s,o){if(or=o,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?Xv:Kv,e=n(r,s),Hs){o=0;do{if(Hs=!1,io=0,25<=o)throw Error(B(301));o+=1,Te=Ce=null,t.updateQueue=null,pi.current=Yv,e=n(r,s)}while(Hs)}if(pi.current=Wi,t=Ce!==null&&Ce.next!==null,or=0,Te=Ce=xe=null,Vi=!1,t)throw Error(B(300));return e}function Eu(){var e=io!==0;return io=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?xe.memoizedState=Te=e:Te=Te.next=e,Te}function Nt(){if(Ce===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Te===null?xe.memoizedState:Te.next;if(t!==null)Te=t,Ce=e;else{if(e===null)throw Error(B(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Te===null?xe.memoizedState=Te=e:Te=Te.next=e}return Te}function lo(e,t){return typeof t=="function"?t(e):t}function ia(e){var t=Nt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Ce,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((or&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,xe.lanes|=d,ir|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,Rt(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,xe.lanes|=o,ir|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function la(e){var t=Nt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Rt(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function rm(){}function sm(e,t){var n=xe,r=Nt(),s=t(),o=!Rt(r.memoizedState,s);if(o&&(r.memoizedState=s,Ze=!0),r=r.queue,ku(lm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,ao(9,im.bind(null,n,r,s,t),void 0,null),Pe===null)throw Error(B(349));or&30||om(n,t,s)}return s}function om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function im(e,t,n,r){t.value=n,t.getSnapshot=r,am(t)&&cm(e)}function lm(e,t,n){return n(function(){am(t)&&cm(e)})}function am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function cm(e){var t=rn(e,1);t!==null&&Tt(t,e,1,-1)}function Zd(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e},t.queue=e,e=e.dispatch=Wv.bind(null,xe,e),[t.memoizedState,e]}function ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function um(){return Nt().memoizedState}function mi(e,t,n,r){var s=Lt();xe.flags|=e,s.memoizedState=ao(1|t,n,void 0,r===void 0?null:r)}function pl(e,t,n,r){var s=Nt();r=r===void 0?null:r;var o=void 0;if(Ce!==null){var i=Ce.memoizedState;if(o=i.destroy,r!==null&&bu(r,i.deps)){s.memoizedState=ao(t,n,o,r);return}}xe.flags|=e,s.memoizedState=ao(1|t,n,o,r)}function ef(e,t){return mi(8390656,8,e,t)}function ku(e,t){return pl(2048,8,e,t)}function dm(e,t){return pl(4,2,e,t)}function fm(e,t){return pl(4,4,e,t)}function hm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pm(e,t,n){return n=n!=null?n.concat([e]):null,pl(4,4,hm.bind(null,t,e),n)}function Cu(){}function mm(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gm(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xm(e,t,n){return or&21?(Rt(n,t)||(n=Sp(),xe.lanes|=n,ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function Hv(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{ae=n,oa.transition=r}}function ym(){return Nt().memoizedState}function Vv(e,t,n){var r=Cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vm(e))wm(t,n);else if(n=em(e,t,n,r),n!==null){var s=qe();Tt(n,e,r,s),Nm(n,t,r)}}function Wv(e,t,n){var r=Cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vm(e))wm(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Rt(a,i)){var c=t.interleaved;c===null?(s.next=s,yu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=em(e,t,s,r),n!==null&&(s=qe(),Tt(n,e,r,s),Nm(n,t,r))}}function vm(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function wm(e,t){Hs=Vi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,su(e,n)}}var Wi={readContext:wt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},Xv={readContext:wt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:ef,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mi(4194308,4,hm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vv.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:Zd,useDebugValue:Cu,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=Zd(!1),t=e[0];return e=Hv.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,s=Lt();if(me){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Pe===null)throw Error(B(349));or&30||om(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ef(lm.bind(null,r,o,e),[e]),r.flags|=2048,ao(9,im.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Pe.identifierPrefix;if(me){var n=Qt,r=Gt;n=(r&~(1<<32-At(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=io++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kv={readContext:wt,useCallback:mm,useContext:wt,useEffect:ku,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:gm,useReducer:ia,useRef:um,useState:function(){return ia(lo)},useDebugValue:Cu,useDeferredValue:function(e){var t=Nt();return xm(t,Ce.memoizedState,e)},useTransition:function(){var e=ia(lo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:rm,useSyncExternalStore:sm,useId:ym,unstable_isNewReconciler:!1},Yv={readContext:wt,useCallback:mm,useContext:wt,useEffect:ku,useImperativeHandle:pm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:gm,useReducer:la,useRef:um,useState:function(){return la(lo)},useDebugValue:Cu,useDeferredValue:function(e){var t=Nt();return Ce===null?t.memoizedState=e:xm(t,Ce.memoizedState,e)},useTransition:function(){var e=la(lo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:rm,useSyncExternalStore:sm,useId:ym,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qe(),s=Cn(e),o=Zt(r,s);o.payload=t,n!=null&&(o.callback=n),t=En(e,o,s),t!==null&&(Tt(t,e,s,r),hi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qe(),s=Cn(e),o=Zt(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=En(e,o,s),t!==null&&(Tt(t,e,s,r),hi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),r=Cn(e),s=Zt(n,r);s.tag=2,t!=null&&(s.callback=t),t=En(e,s,r),t!==null&&(Tt(t,e,r,n),hi(t,e,r))}};function tf(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!eo(n,r)||!eo(s,o):!0}function Sm(e,t,n){var r=!1,s=Rn,o=t.contextType;return typeof o=="object"&&o!==null?o=wt(o):(s=nt(t)?rr:We.current,r=t.contextTypes,o=(r=r!=null)?Kr(e,s):Rn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function nf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function oc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},vu(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=wt(o):(o=nt(t)?rr:We.current,s.context=Kr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(sc(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ml.enqueueReplaceState(s,s.state,null),Bi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,t){try{var n="",r=t;do n+=Sy(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function aa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ic(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qv=typeof WeakMap=="function"?WeakMap:Map;function bm(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ki||(Ki=!0,gc=r),ic(e,t)},n}function jm(e,t,n){n=Zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ic(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ic(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function rf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cw.bind(null,e,t,n),t.then(e,e))}function sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function of(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,En(n,t,1))),n.lanes|=1),e)}var Gv=an.ReactCurrentOwner,Ze=!1;function Ye(e,t,n,r){t.child=e===null?Zp(t,null,n,r):qr(t,e.child,n,r)}function lf(e,t,n,r,s){n=n.render;var o=t.ref;return Ur(t,s),r=ju(e,t,n,r,o,s),n=Eu(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(me&&n&&fu(t),t.flags|=1,Ye(e,t,r,s),t.child)}function af(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ou(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Em(e,t,o,r,s)):(e=vi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:eo,n(i,r)&&e.ref===t.ref)return sn(e,t,s)}return t.flags|=1,e=_n(o,r),e.ref=t.ref,e.return=t,t.child=e}function Em(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(eo(o,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,sn(e,t,s)}return lc(e,t,n,r,s)}function km(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Or,lt),lt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Or,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(Or,lt),lt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(Or,lt),lt|=r;return Ye(e,t,s,n),t.child}function Cm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lc(e,t,n,r,s){var o=nt(n)?rr:We.current;return o=Kr(t,o),Ur(t,s),n=ju(e,t,n,r,o,s),r=Eu(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(me&&r&&fu(t),t.flags|=1,Ye(e,t,n,s),t.child)}function cf(e,t,n,r,s){if(nt(n)){var o=!0;Mi(t)}else o=!1;if(Ur(t,s),t.stateNode===null)gi(e,t),Sm(t,n,r),oc(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=nt(n)?rr:We.current,u=Kr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&nf(t,i,r,u),fn=!1;var h=t.memoizedState;i.state=h,Bi(t,r,i,s),c=t.memoizedState,a!==r||h!==c||tt.current||fn?(typeof d=="function"&&(sc(t,n,d,r),c=t.memoizedState),(a=fn||tf(t,n,a,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,tm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:jt(t.type,a),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=nt(n)?rr:We.current,c=Kr(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==c)&&nf(t,i,r,c),fn=!1,h=t.memoizedState,i.state=h,Bi(t,r,i,s);var y=t.memoizedState;a!==f||h!==y||tt.current||fn?(typeof x=="function"&&(sc(t,n,x,r),y=t.memoizedState),(u=fn||tf(t,n,u,r,h,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ac(e,t,n,r,o,s)}function ac(e,t,n,r,s,o){Cm(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Kd(t,n,!1),sn(e,t,o);r=t.stateNode,Gv.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=qr(t,e.child,null,o),t.child=qr(t,null,a,o)):Ye(e,t,a,o),t.memoizedState=r.state,s&&Kd(t,n,!0),t.child}function _m(e){var t=e.stateNode;t.pendingContext?Xd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xd(e,t.context,!1),wu(e,t.containerInfo)}function uf(e,t,n,r,s){return Yr(),pu(s),t.flags|=256,Ye(e,t,n,r),t.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Am(e,t,n){var r=t.pendingProps,s=ge.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ge,s&1),e===null)return nc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=yl(i,r,0,null),e=Zn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=uc(n),t.memoizedState=cc,e):_u(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Qv(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=_n(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=_n(a,o):(o=Zn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?uc(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=cc,r}return o=e.child,e=o.sibling,r=_n(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _u(e,t){return t=yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yo(e,t,n,r){return r!==null&&pu(r),qr(t,e.child,null,n),e=_u(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qv(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=aa(Error(B(422))),Yo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=yl({mode:"visible",children:r.children},s,0,null),o=Zn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&qr(t,e.child,null,i),t.child.memoizedState=uc(i),t.memoizedState=cc,o);if(!(t.mode&1))return Yo(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=aa(o,r,void 0),Yo(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ze||a){if(r=Pe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,rn(e,s),Tt(r,e,s,-1))}return Iu(),r=aa(Error(B(421))),Yo(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uw.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,at=jn(s.nextSibling),ct=t,me=!0,Ct=null,e!==null&&(pt[mt++]=Gt,pt[mt++]=Qt,pt[mt++]=sr,Gt=e.id,Qt=e.overflow,sr=t),t=_u(t,r.children),t.flags|=4096,t)}function df(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rc(e.return,t,n)}function ca(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Tm(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ye(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,n,t);else if(e.tag===19)df(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Hi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ca(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Hi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ca(t,!0,n,null,o);break;case"together":ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jv(e,t,n){switch(t.tag){case 3:_m(t),Yr();break;case 5:nm(t);break;case 1:nt(t.type)&&Mi(t);break;case 4:wu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(zi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Am(e,t,n):(ue(ge,ge.current&1),e=sn(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Tm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,km(e,t,n)}return sn(e,t,n)}var Pm,dc,Rm,$m;Pm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dc=function(){};Rm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yn(Ut.current);var o=null;switch(n){case"input":s=$a(e,s),r=$a(e,r),o=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),o=[];break;case"textarea":s=Da(e,s),r=Da(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Oi)}La(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ks.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};$m=function(e,t,n,r){n!==r&&(t.flags|=4)};function bs(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zv(e,t,n){var r=t.pendingProps;switch(hu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return nt(t.type)&&Di(),Be(t),null;case 3:return r=t.stateNode,Gr(),he(tt),he(We),Su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(vc(Ct),Ct=null))),dc(e,t),Be(t),null;case 5:Nu(t);var s=Yn(oo.current);if(n=t.type,e!==null&&t.stateNode!=null)Rm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Be(t),null}if(e=Yn(Ut.current),Xo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ft]=t,r[ro]=o,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Is.length;s++)fe(Is[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":vd(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":Nd(r,o),fe("invalid",r)}La(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Wo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Wo(r.textContent,a,e),s=["children",""+a]):Ks.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":Mo(r),wd(r,o,!0);break;case"textarea":Mo(r),Sd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Oi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Ft]=t,e[ro]=r,Pm(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fa(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Is.length;s++)fe(Is[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":vd(e,r),s=$a(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Nd(e,r),s=Da(e,r),fe("invalid",e);break;default:s=r}La(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?up(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ap(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ys(e,c):typeof c=="number"&&Ys(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ks.hasOwnProperty(o)?c!=null&&o==="onScroll"&&fe("scroll",e):c!=null&&Jc(e,o,c,i))}switch(n){case"input":Mo(e),wd(e,r,!1);break;case"textarea":Mo(e),Sd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Mr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Oi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)$m(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Yn(oo.current),Yn(Ut.current),Xo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ft]=t,(o=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:Wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=t,t.stateNode=r}return Be(t),null;case 13:if(he(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&at!==null&&t.mode&1&&!(t.flags&128))Qp(),Yr(),t.flags|=98560,o=!1;else if(o=Xo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Ft]=t}else Yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else Ct!==null&&(vc(Ct),Ct=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?_e===0&&(_e=3):Iu())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Gr(),dc(e,t),e===null&&to(t.stateNode.containerInfo),Be(t),null;case 10:return xu(t.type._context),Be(t),null;case 17:return nt(t.type)&&Di(),Be(t),null;case 19:if(he(ge),o=t.memoizedState,o===null)return Be(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)bs(o,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Hi(e),i!==null){for(t.flags|=128,bs(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>Jr&&(t.flags|=128,r=!0,bs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Hi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!me)return Be(t),null}else 2*Se()-o.renderingStartTime>Jr&&n!==1073741824&&(t.flags|=128,r=!0,bs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return $u(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function ew(e,t){switch(hu(t),t.tag){case 1:return nt(t.type)&&Di(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),he(tt),he(We),Su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nu(t),null;case 13:if(he(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ge),null;case 4:return Gr(),null;case 10:return xu(t.type._context),null;case 22:case 23:return $u(),null;case 24:return null;default:return null}}var qo=!1,He=!1,tw=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(e,t,r)}else n.current=null}function fc(e,t,n){try{n()}catch(r){ve(e,t,r)}}var ff=!1;function nw(e,t){if(qa=Ri,e=Lp(),du(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=i),h===o&&++d===r&&(c=i),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ga={focusedElem:e,selectionRange:n},Ri=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,N=y.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:jt(t.type,g),N);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(v){ve(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return y=ff,ff=!1,y}function Vs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&fc(t,n,o)}s=s.next}while(s!==r)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Im(e){var t=e.alternate;t!==null&&(e.alternate=null,Im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[ro],delete t[Za],delete t[Lv],delete t[Fv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Om(e){return e.tag===5||e.tag===3||e.tag===4}function hf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oi));else if(r!==4&&(e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}function mc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mc(e,t,n),e=e.sibling;e!==null;)mc(e,t,n),e=e.sibling}var Oe=null,Et=!1;function cn(e,t,n){for(n=n.child;n!==null;)Dm(e,t,n),n=n.sibling}function Dm(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 5:He||Ir(n,t);case 6:var r=Oe,s=Et;Oe=null,cn(e,t,n),Oe=r,Et=s,Oe!==null&&(Et?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Et?(e=Oe,n=n.stateNode,e.nodeType===8?na(e.parentNode,n):e.nodeType===1&&na(e,n),Js(e)):na(Oe,n.stateNode));break;case 4:r=Oe,s=Et,Oe=n.stateNode.containerInfo,Et=!0,cn(e,t,n),Oe=r,Et=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&fc(n,t,i),s=s.next}while(s!==r)}cn(e,t,n);break;case 1:if(!He&&(Ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ve(n,t,a)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,cn(e,t,n),He=r):cn(e,t,n);break;default:cn(e,t,n)}}function pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tw),t.forEach(function(r){var s=dw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,Et=!1;break e;case 3:Oe=a.stateNode.containerInfo,Et=!0;break e;case 4:Oe=a.stateNode.containerInfo,Et=!0;break e}a=a.return}if(Oe===null)throw Error(B(160));Dm(o,i,s),Oe=null,Et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ve(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mm(t,e),t=t.sibling}function Mm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Dt(e),r&4){try{Vs(3,e,e.return),gl(3,e)}catch(g){ve(e,e.return,g)}try{Vs(5,e,e.return)}catch(g){ve(e,e.return,g)}}break;case 1:bt(t,e),Dt(e),r&512&&n!==null&&Ir(n,n.return);break;case 5:if(bt(t,e),Dt(e),r&512&&n!==null&&Ir(n,n.return),e.flags&32){var s=e.stateNode;try{Ys(s,"")}catch(g){ve(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&op(s,o),Fa(a,i);var u=Fa(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?up(s,f):d==="dangerouslySetInnerHTML"?ap(s,f):d==="children"?Ys(s,f):Jc(s,d,f,u)}switch(a){case"input":Ia(s,o);break;case"textarea":ip(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Mr(s,!!o.multiple,x,!1):h!==!!o.multiple&&(o.defaultValue!=null?Mr(s,!!o.multiple,o.defaultValue,!0):Mr(s,!!o.multiple,o.multiple?[]:"",!1))}s[ro]=o}catch(g){ve(e,e.return,g)}}break;case 6:if(bt(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){ve(e,e.return,g)}}break;case 3:if(bt(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(g){ve(e,e.return,g)}break;case 4:bt(t,e),Dt(e);break;case 13:bt(t,e),Dt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Pu=Se())),r&4&&pf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||d,bt(t,e),He=u):bt(t,e),Dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(f=Y=d;Y!==null;){switch(h=Y,x=h.child,h.tag){case 0:case 11:case 14:case 15:Vs(4,h,h.return);break;case 1:Ir(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){ve(r,n,g)}}break;case 5:Ir(h,h.return);break;case 22:if(h.memoizedState!==null){gf(f);continue}}x!==null?(x.return=h,Y=x):gf(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=cp("display",i))}catch(g){ve(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ve(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bt(t,e),Dt(e),r&4&&pf(e);break;case 21:break;default:bt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Om(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ys(s,""),r.flags&=-33);var o=hf(e);mc(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=hf(e);pc(e,a,i);break;default:throw Error(B(161))}}catch(c){ve(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rw(e,t,n){Y=e,Lm(e)}function Lm(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||qo;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||He;a=qo;var u=He;if(qo=i,(He=c)&&!u)for(Y=s;Y!==null;)i=Y,c=i.child,i.tag===22&&i.memoizedState!==null?xf(s):c!==null?(c.return=i,Y=c):xf(s);for(;o!==null;)Y=o,Lm(o),o=o.sibling;Y=s,qo=a,He=u}mf(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):mf(e)}}function mf(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jd(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Js(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}He||t.flags&512&&hc(t)}catch(h){ve(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function gf(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function xf(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gl(4,t)}catch(c){ve(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ve(t,s,c)}}var o=t.return;try{hc(t)}catch(c){ve(t,o,c)}break;case 5:var i=t.return;try{hc(t)}catch(c){ve(t,i,c)}}}catch(c){ve(t,t.return,c)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var sw=Math.ceil,Xi=an.ReactCurrentDispatcher,Au=an.ReactCurrentOwner,vt=an.ReactCurrentBatchConfig,re=0,Pe=null,je=null,De=0,lt=0,Or=In(0),_e=0,co=null,ir=0,xl=0,Tu=0,Ws=null,Je=null,Pu=0,Jr=1/0,Yt=null,Ki=!1,gc=null,kn=null,Go=!1,vn=null,Yi=0,Xs=0,xc=null,xi=-1,yi=0;function qe(){return re&6?Se():xi!==-1?xi:xi=Se()}function Cn(e){return e.mode&1?re&2&&De!==0?De&-De:Uv.transition!==null?(yi===0&&(yi=Sp()),yi):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Ap(e.type)),e):1}function Tt(e,t,n,r){if(50<Xs)throw Xs=0,xc=null,Error(B(185));So(e,n,r),(!(re&2)||e!==Pe)&&(e===Pe&&(!(re&2)&&(xl|=n),_e===4&&gn(e,De)),rt(e,r),n===1&&re===0&&!(t.mode&1)&&(Jr=Se()+500,hl&&On()))}function rt(e,t){var n=e.callbackNode;Uy(e,t);var r=Pi(e,e===Pe?De:0);if(r===0)n!==null&&Ed(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ed(n),t===1)e.tag===0?zv(yf.bind(null,e)):Yp(yf.bind(null,e)),Dv(function(){!(re&6)&&On()}),n=null;else{switch(bp(r)){case 1:n=ru;break;case 4:n=wp;break;case 16:n=Ti;break;case 536870912:n=Np;break;default:n=Ti}n=Xm(n,Fm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fm(e,t){if(xi=-1,yi=0,re&6)throw Error(B(327));var n=e.callbackNode;if(Br()&&e.callbackNode!==n)return null;var r=Pi(e,e===Pe?De:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qi(e,r);else{t=r;var s=re;re|=2;var o=Um();(Pe!==e||De!==t)&&(Yt=null,Jr=Se()+500,Jn(e,t));do try{lw();break}catch(a){zm(e,a)}while(!0);gu(),Xi.current=o,re=s,je!==null?t=0:(Pe=null,De=0,t=_e)}if(t!==0){if(t===2&&(s=Va(e),s!==0&&(r=s,t=yc(e,s))),t===1)throw n=co,Jn(e,0),gn(e,r),rt(e,Se()),n;if(t===6)gn(e,r);else{if(s=e.current.alternate,!(r&30)&&!ow(s)&&(t=qi(e,r),t===2&&(o=Va(e),o!==0&&(r=o,t=yc(e,o))),t===1))throw n=co,Jn(e,0),gn(e,r),rt(e,Se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Vn(e,Je,Yt);break;case 3:if(gn(e,r),(r&130023424)===r&&(t=Pu+500-Se(),10<t)){if(Pi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ja(Vn.bind(null,e,Je,Yt),t);break}Vn(e,Je,Yt);break;case 4:if(gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-At(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sw(r/1960))-r,10<r){e.timeoutHandle=Ja(Vn.bind(null,e,Je,Yt),r);break}Vn(e,Je,Yt);break;case 5:Vn(e,Je,Yt);break;default:throw Error(B(329))}}}return rt(e,Se()),e.callbackNode===n?Fm.bind(null,e):null}function yc(e,t){var n=Ws;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=qi(e,t),e!==2&&(t=Je,Je=n,t!==null&&vc(t)),e}function vc(e){Je===null?Je=e:Je.push.apply(Je,e)}function ow(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Rt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~Tu,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function yf(e){if(re&6)throw Error(B(327));Br();var t=Pi(e,0);if(!(t&1))return rt(e,Se()),null;var n=qi(e,t);if(e.tag!==0&&n===2){var r=Va(e);r!==0&&(t=r,n=yc(e,r))}if(n===1)throw n=co,Jn(e,0),gn(e,t),rt(e,Se()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vn(e,Je,Yt),rt(e,Se()),null}function Ru(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(Jr=Se()+500,hl&&On())}}function lr(e){vn!==null&&vn.tag===0&&!(re&6)&&Br();var t=re;re|=1;var n=vt.transition,r=ae;try{if(vt.transition=null,ae=1,e)return e()}finally{ae=r,vt.transition=n,re=t,!(re&6)&&On()}}function $u(){lt=Or.current,he(Or)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ov(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(hu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Di();break;case 3:Gr(),he(tt),he(We),Su();break;case 5:Nu(r);break;case 4:Gr();break;case 13:he(ge);break;case 19:he(ge);break;case 10:xu(r.type._context);break;case 22:case 23:$u()}n=n.return}if(Pe=e,je=e=_n(e.current,null),De=lt=t,_e=0,co=null,Tu=xl=ir=0,Je=Ws=null,Kn!==null){for(t=0;t<Kn.length;t++)if(n=Kn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Kn=null}return e}function zm(e,t){do{var n=je;try{if(gu(),pi.current=Wi,Vi){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vi=!1}if(or=0,Te=Ce=xe=null,Hs=!1,io=0,Au.current=null,n===null||n.return===null){_e=1,co=t,je=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=De,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=sf(i);if(x!==null){x.flags&=-257,of(x,i,a,o,t),x.mode&1&&rf(o,u,t),t=x,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){rf(o,u,t),Iu();break e}c=Error(B(426))}}else if(me&&a.mode&1){var N=sf(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),of(N,i,a,o,t),pu(Qr(c,a));break e}}o=c=Qr(c,a),_e!==4&&(_e=2),Ws===null?Ws=[o]:Ws.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=bm(o,c,t);Qd(o,p);break e;case 1:a=c;var m=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(kn===null||!kn.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var v=jm(o,a,t);Qd(o,v);break e}}o=o.return}while(o!==null)}Hm(n)}catch(E){t=E,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Um(){var e=Xi.current;return Xi.current=Wi,e===null?Wi:e}function Iu(){(_e===0||_e===3||_e===2)&&(_e=4),Pe===null||!(ir&268435455)&&!(xl&268435455)||gn(Pe,De)}function qi(e,t){var n=re;re|=2;var r=Um();(Pe!==e||De!==t)&&(Yt=null,Jn(e,t));do try{iw();break}catch(s){zm(e,s)}while(!0);if(gu(),re=n,Xi.current=r,je!==null)throw Error(B(261));return Pe=null,De=0,_e}function iw(){for(;je!==null;)Bm(je)}function lw(){for(;je!==null&&!Ry();)Bm(je)}function Bm(e){var t=Wm(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Hm(e):je=t,Au.current=null}function Hm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ew(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,je=null;return}}else if(n=Zv(n,t,lt),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);_e===0&&(_e=5)}function Vn(e,t,n){var r=ae,s=vt.transition;try{vt.transition=null,ae=1,aw(e,t,n,r)}finally{vt.transition=s,ae=r}return null}function aw(e,t,n,r){do Br();while(vn!==null);if(re&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(By(e,o),e===Pe&&(je=Pe=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Go||(Go=!0,Xm(Ti,function(){return Br(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vt.transition,vt.transition=null;var i=ae;ae=1;var a=re;re|=4,Au.current=null,nw(e,n),Mm(n,e),_v(Ga),Ri=!!qa,Ga=qa=null,e.current=n,rw(n),$y(),re=a,ae=i,vt.transition=o}else e.current=n;if(Go&&(Go=!1,vn=e,Yi=s),o=e.pendingLanes,o===0&&(kn=null),Dy(n.stateNode),rt(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ki)throw Ki=!1,e=gc,gc=null,e;return Yi&1&&e.tag!==0&&Br(),o=e.pendingLanes,o&1?e===xc?Xs++:(Xs=0,xc=e):Xs=0,On(),null}function Br(){if(vn!==null){var e=bp(Yi),t=vt.transition,n=ae;try{if(vt.transition=null,ae=16>e?16:e,vn===null)var r=!1;else{if(e=vn,vn=null,Yi=0,re&6)throw Error(B(331));var s=re;for(re|=4,Y=e.current;Y!==null;){var o=Y,i=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Vs(8,d,o)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var h=d.sibling,x=d.return;if(Im(d),d===u){Y=null;break}if(h!==null){h.return=x,Y=h;break}Y=x}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var N=g.sibling;g.sibling=null,g=N}while(g!==null)}}Y=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Y=i;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vs(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Y=p;break e}Y=o.return}}var m=e.current;for(Y=m;Y!==null;){i=Y;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Y=w;else e:for(i=m;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gl(9,a)}}catch(E){ve(a,a.return,E)}if(a===i){Y=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,Y=v;break e}Y=a.return}}if(re=s,On(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(al,e)}catch{}r=!0}return r}finally{ae=n,vt.transition=t}}return!1}function vf(e,t,n){t=Qr(n,t),t=bm(e,t,1),e=En(e,t,1),t=qe(),e!==null&&(So(e,1,t),rt(e,t))}function ve(e,t,n){if(e.tag===3)vf(e,e,n);else for(;t!==null;){if(t.tag===3){vf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=Qr(n,e),e=jm(t,e,1),t=En(t,e,1),e=qe(),t!==null&&(So(t,1,e),rt(t,e));break}}t=t.return}}function cw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(De&n)===n&&(_e===4||_e===3&&(De&130023424)===De&&500>Se()-Pu?Jn(e,0):Tu|=n),rt(e,t)}function Vm(e,t){t===0&&(e.mode&1?(t=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):t=1);var n=qe();e=rn(e,t),e!==null&&(So(e,t,n),rt(e,n))}function uw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vm(e,n)}function dw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Vm(e,n)}var Wm;Wm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,Jv(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,me&&t.flags&1048576&&qp(t,Fi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gi(e,t),e=t.pendingProps;var s=Kr(t,We.current);Ur(t,n),s=ju(null,t,r,e,s,n);var o=Eu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vu(t),s.updater=ml,t.stateNode=s,s._reactInternals=t,oc(t,r,e,n),t=ac(null,t,r,!0,o,n)):(t.tag=0,me&&o&&fu(t),Ye(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hw(r),e=jt(r,e),s){case 0:t=lc(null,t,r,e,n);break e;case 1:t=cf(null,t,r,e,n);break e;case 11:t=lf(null,t,r,e,n);break e;case 14:t=af(null,t,r,jt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),lc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),cf(e,t,r,s,n);case 3:e:{if(_m(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,s=o.element,tm(e,t),Bi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Qr(Error(B(423)),t),t=uf(e,t,r,n,s);break e}else if(r!==s){s=Qr(Error(B(424)),t),t=uf(e,t,r,n,s);break e}else for(at=jn(t.stateNode.containerInfo.firstChild),ct=t,me=!0,Ct=null,n=Zp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),r===s){t=sn(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return nm(t),e===null&&nc(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Qa(r,s)?i=null:o!==null&&Qa(r,o)&&(t.flags|=32),Cm(e,t),Ye(e,t,i,n),t.child;case 6:return e===null&&nc(t),null;case 13:return Am(e,t,n);case 4:return wu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qr(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),lf(e,t,r,s,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ue(zi,r._currentValue),r._currentValue=i,o!==null)if(Rt(o.value,i)){if(o.children===s.children&&!tt.current){t=sn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Zt(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),rc(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(B(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),rc(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ye(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ur(t,n),s=wt(s),r=r(s),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,s=jt(r,t.pendingProps),s=jt(r.type,s),af(e,t,r,s,n);case 15:return Em(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),gi(e,t),t.tag=1,nt(r)?(e=!0,Mi(t)):e=!1,Ur(t,n),Sm(t,r,s),oc(t,r,s,n),ac(null,t,r,!0,e,n);case 19:return Tm(e,t,n);case 22:return km(e,t,n)}throw Error(B(156,t.tag))};function Xm(e,t){return vp(e,t)}function fw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new fw(e,t,n,r)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hw(e){if(typeof e=="function")return Ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eu)return 11;if(e===tu)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vi(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Ou(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Er:return Zn(n.children,s,o,t);case Zc:i=8,s|=8;break;case Aa:return e=xt(12,n,t,s|2),e.elementType=Aa,e.lanes=o,e;case Ta:return e=xt(13,n,t,s),e.elementType=Ta,e.lanes=o,e;case Pa:return e=xt(19,n,t,s),e.elementType=Pa,e.lanes=o,e;case np:return yl(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ep:i=10;break e;case tp:i=9;break e;case eu:i=11;break e;case tu:i=14;break e;case dn:i=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=xt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Zn(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function yl(e,t,n,r){return e=xt(22,e,r,t),e.elementType=np,e.lanes=n,e.stateNode={isHidden:!1},e}function ua(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function da(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Du(e,t,n,r,s,o,i,a,c){return e=new pw(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=xt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(o),e}function mw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Km(e){if(!e)return Rn;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(nt(n))return Kp(e,n,t)}return t}function Ym(e,t,n,r,s,o,i,a,c){return e=Du(n,r,!0,e,s,o,i,a,c),e.context=Km(null),n=e.current,r=qe(),s=Cn(n),o=Zt(r,s),o.callback=t??null,En(n,o,s),e.current.lanes=s,So(e,s,r),rt(e,r),e}function vl(e,t,n,r){var s=t.current,o=qe(),i=Cn(s);return n=Km(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=En(s,t,i),e!==null&&(Tt(e,s,i,o),hi(e,s,i)),i}function Gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mu(e,t){wf(e,t),(e=e.alternate)&&wf(e,t)}function gw(){return null}var qm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lu(e){this._internalRoot=e}wl.prototype.render=Lu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));vl(e,t,null,null)};wl.prototype.unmount=Lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){vl(null,e,null,null)}),t[nn]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&_p(e)}};function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function xw(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Gi(i);o.call(u)}}var i=Ym(t,r,e,0,null,!1,!1,"",Nf);return e._reactRootContainer=i,e[nn]=i.current,to(e.nodeType===8?e.parentNode:e),lr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Gi(c);a.call(u)}}var c=Du(e,0,!1,null,null,!1,!1,"",Nf);return e._reactRootContainer=c,e[nn]=c.current,to(e.nodeType===8?e.parentNode:e),lr(function(){vl(t,c,n,r)}),c}function Sl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=Gi(i);a.call(c)}}vl(t,i,e,s)}else i=xw(n,t,e,s,r);return Gi(i)}jp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$s(t.pendingLanes);n!==0&&(su(t,n|1),rt(t,Se()),!(re&6)&&(Jr=Se()+500,On()))}break;case 13:lr(function(){var r=rn(e,1);if(r!==null){var s=qe();Tt(r,e,1,s)}}),Mu(e,1)}};ou=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=qe();Tt(t,e,134217728,n)}Mu(e,134217728)}};Ep=function(e){if(e.tag===13){var t=Cn(e),n=rn(e,t);if(n!==null){var r=qe();Tt(n,e,t,r)}Mu(e,t)}};kp=function(){return ae};Cp=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Ua=function(e,t,n){switch(t){case"input":if(Ia(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fl(r);if(!s)throw Error(B(90));sp(r),Ia(r,s)}}}break;case"textarea":ip(e,n);break;case"select":t=n.value,t!=null&&Mr(e,!!n.multiple,t,!1)}};hp=Ru;pp=lr;var yw={usingClientEntryPoint:!1,Events:[jo,Ar,fl,dp,fp,Ru]},js={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vw={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xp(e),e===null?null:e.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{al=Qo.inject(vw),zt=Qo}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yw;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(t))throw Error(B(200));return mw(e,t,null,n)};ft.createRoot=function(e,t){if(!Fu(e))throw Error(B(299));var n=!1,r="",s=qm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Du(e,1,!1,null,null,n,!1,r,s),e[nn]=t.current,to(e.nodeType===8?e.parentNode:e),new Lu(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=xp(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return lr(e)};ft.hydrate=function(e,t,n){if(!Nl(t))throw Error(B(200));return Sl(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!Fu(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=qm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ym(t,null,e,1,n??null,s,!1,o,i),e[nn]=t.current,to(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new wl(t)};ft.render=function(e,t,n){if(!Nl(t))throw Error(B(200));return Sl(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(B(40));return e._reactRootContainer?(lr(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};ft.unstable_batchedUpdates=Ru;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Nl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Sl(e,t,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function Gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gm)}catch(e){console.error(e)}}Gm(),Gh.exports=ft;var ww=Gh.exports,Sf=ww;Ca.createRoot=Sf.createRoot,Ca.hydrateRoot=Sf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo.apply(this,arguments)}var wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wn||(wn={}));const bf="popstate";function Nw(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return wc("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Qi(s)}return bw(t,n,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sw(){return Math.random().toString(36).substr(2,8)}function jf(e,t){return{usr:e.state,key:e.key,idx:t}}function wc(e,t,n,r){return n===void 0&&(n=null),uo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cs(t):t,{state:n,key:t&&t.key||r||Sw()})}function Qi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bw(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=wn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(uo({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=wn.Pop;let N=d(),p=N==null?null:N-u;u=N,c&&c({action:a,location:g.location,delta:p})}function h(N,p){a=wn.Push;let m=wc(g.location,N,p);u=d()+1;let w=jf(m,u),v=g.createHref(m);try{i.pushState(w,"",v)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(v)}o&&c&&c({action:a,location:g.location,delta:1})}function x(N,p){a=wn.Replace;let m=wc(g.location,N,p);u=d();let w=jf(m,u),v=g.createHref(m);i.replaceState(w,"",v),o&&c&&c({action:a,location:g.location,delta:0})}function y(N){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof N=="string"?N:Qi(N);return m=m.replace(/ $/,"%20"),Ee(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let g={get action(){return a},get location(){return e(s,i)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(bf,f),c=N,()=>{s.removeEventListener(bf,f),c=null}},createHref(N){return t(s,N)},createURL:y,encodeLocation(N){let p=y(N);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:x,go(N){return i.go(N)}};return g}var Ef;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ef||(Ef={}));function jw(e,t,n){return n===void 0&&(n="/"),Ew(e,t,n)}function Ew(e,t,n,r){let s=typeof t=="string"?cs(t):t,o=zu(s.pathname||"/",n);if(o==null)return null;let i=Jm(e);kw(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=Lw(o);a=Ow(i[c],u)}return a}function Jm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ee(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=An([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Ee(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jm(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:$w(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Zm(o.path))s(o,i,c)}),t}function Zm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Zm(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function kw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Iw(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cw=/^:[\w-]+$/,_w=3,Aw=2,Tw=1,Pw=10,Rw=-2,kf=e=>e==="*";function $w(e,t){let n=e.split("/"),r=n.length;return n.some(kf)&&(r+=Rw),t&&(r+=Aw),n.filter(s=>!kf(s)).reduce((s,o)=>s+(Cw.test(o)?_w:o===""?Tw:Pw),r)}function Iw(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ow(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Dw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:An([o,f.pathname]),pathnameBase:Bw(An([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=An([o,f.pathnameBase]))}return i}function Dw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Mw(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:x}=d;if(h==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[f];return x&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function Mw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Qm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Lw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fw(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?cs(e):e;return{pathname:n?n.startsWith("/")?n:zw(n,t):t,search:Hw(r),hash:Vw(s)}}function zw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fa(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function eg(e,t){let n=Uw(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=cs(e):(s=uo({},e),Ee(!s.pathname||!s.pathname.includes("?"),fa("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),fa("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),fa("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=Fw(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const An=e=>e.join("/").replace(/\/\/+/g,"/"),Bw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ww(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ng=["post","put","patch","delete"];new Set(ng);const Xw=["get",...ng];new Set(Xw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo.apply(this,arguments)}const Uu=b.createContext(null),Kw=b.createContext(null),hr=b.createContext(null),bl=b.createContext(null),Dn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),rg=b.createContext(null);function Yw(e,t){let{relative:n}=t===void 0?{}:t;ko()||Ee(!1);let{basename:r,navigator:s}=b.useContext(hr),{hash:o,pathname:i,search:a}=og(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:An([r,i])),s.createHref({pathname:c,search:a,hash:o})}function ko(){return b.useContext(bl)!=null}function Co(){return ko()||Ee(!1),b.useContext(bl).location}function sg(e){b.useContext(hr).static||b.useLayoutEffect(e)}function us(){let{isDataRoute:e}=b.useContext(Dn);return e?l1():qw()}function qw(){ko()||Ee(!1);let e=b.useContext(Uu),{basename:t,future:n,navigator:r}=b.useContext(hr),{matches:s}=b.useContext(Dn),{pathname:o}=Co(),i=JSON.stringify(eg(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return sg(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=tg(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:An([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function Bu(){let{matches:e}=b.useContext(Dn),t=e[e.length-1];return t?t.params:{}}function og(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(hr),{matches:s}=b.useContext(Dn),{pathname:o}=Co(),i=JSON.stringify(eg(s,r.v7_relativeSplatPath));return b.useMemo(()=>tg(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function Gw(e,t){return Qw(e,t)}function Qw(e,t,n,r){ko()||Ee(!1);let{navigator:s}=b.useContext(hr),{matches:o}=b.useContext(Dn),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Co(),d;if(t){var f;let N=typeof t=="string"?cs(t):t;c==="/"||(f=N.pathname)!=null&&f.startsWith(c)||Ee(!1),d=N}else d=u;let h=d.pathname||"/",x=h;if(c!=="/"){let N=c.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(N.length).join("/")}let y=jw(e,{pathname:x}),g=n1(y&&y.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:An([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:An([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,n,r);return t&&g?b.createElement(bl.Provider,{value:{location:fo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wn.Pop}},g):g}function Jw(){let e=i1(),t=Ww(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const Zw=b.createElement(Jw,null);class e1 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Dn.Provider,{value:this.props.routeContext},b.createElement(rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t1(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Uu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Dn.Provider,{value:t},r)}function n1(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ee(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:x}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let x,y=!1,g=null,N=null;n&&(x=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||Zw,c&&(u<0&&h===0?(a1("route-fallback"),y=!0,N=null):u===h&&(y=!0,N=f.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,h+1)),m=()=>{let w;return x?w=g:y?w=N:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(t1,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(e1,{location:n.location,revalidation:n.revalidation,component:g,error:x,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var ig=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ig||{}),lg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lg||{});function r1(e){let t=b.useContext(Uu);return t||Ee(!1),t}function s1(e){let t=b.useContext(Kw);return t||Ee(!1),t}function o1(e){let t=b.useContext(Dn);return t||Ee(!1),t}function ag(e){let t=o1(),n=t.matches[t.matches.length-1];return n.route.id||Ee(!1),n.route.id}function i1(){var e;let t=b.useContext(rg),n=s1(),r=ag();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function l1(){let{router:e}=r1(ig.UseNavigateStable),t=ag(lg.UseNavigateStable),n=b.useRef(!1);return sg(()=>{n.current=!0}),b.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fo({fromRouteId:t},o)))},[e,t])}const Cf={};function a1(e,t,n){Cf[e]||(Cf[e]=!0)}function c1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ie(e){Ee(!1)}function u1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=wn.Pop,navigator:o,static:i=!1,future:a}=e;ko()&&Ee(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:o,static:i,future:fo({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=cs(r));let{pathname:d="/",search:f="",hash:h="",state:x=null,key:y="default"}=r,g=b.useMemo(()=>{let N=zu(d,c);return N==null?null:{location:{pathname:N,search:f,hash:h,state:x,key:y},navigationType:s}},[c,d,f,h,x,y,s]);return g==null?null:b.createElement(hr.Provider,{value:u},b.createElement(bl.Provider,{children:n,value:g}))}function d1(e){let{children:t,location:n}=e;return Gw(Nc(t),n)}new Promise(()=>{});function Nc(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let o=[...t,s];if(r.type===b.Fragment){n.push.apply(n,Nc(r.props.children,o));return}r.type!==Ie&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Nc(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(this,arguments)}function f1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function h1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p1(e,t){return e.button===0&&(!t||t==="_self")&&!h1(e)}const m1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g1="6";try{window.__reactRouterVersion=g1}catch{}const x1="startTransition",_f=cy[x1];function y1(e){let{basename:t,children:n,future:r,window:s}=e,o=b.useRef();o.current==null&&(o.current=Nw({window:s,v5Compat:!0}));let i=o.current,[a,c]=b.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&_f?_f(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>i.listen(d),[i,d]),b.useEffect(()=>c1(r),[r]),b.createElement(u1,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const v1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bc=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=f1(t,m1),{basename:x}=b.useContext(hr),y,g=!1;if(typeof u=="string"&&w1.test(u)&&(y=u,v1))try{let w=new URL(window.location.href),v=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=zu(v.pathname,x);v.origin===w.origin&&E!=null?u=E+v.search+v.hash:g=!0}catch{}let N=Yw(u,{relative:s}),p=N1(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function m(w){r&&r(w),w.defaultPrevented||p(w)}return b.createElement("a",Sc({},h,{href:y||N,onClick:g||o?r:m,ref:n,target:c}))});var Af;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Af||(Af={}));var Tf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tf||(Tf={}));function N1(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=us(),u=Co(),d=og(e,{relative:i});return b.useCallback(f=>{if(p1(f,n)){f.preventDefault();let h=r!==void 0?r:Qi(u)===Qi(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,r,s,n,e,o,i,a])}function cg(e,t){return function(){return e.apply(t,arguments)}}const{toString:S1}=Object.prototype,{getPrototypeOf:Hu}=Object,{iterator:jl,toStringTag:ug}=Symbol,El=(e=>t=>{const n=S1.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$t=e=>(e=e.toLowerCase(),t=>El(t)===e),kl=e=>t=>typeof t===e,{isArray:ds}=Array,Zr=kl("undefined");function _o(e){return e!==null&&!Zr(e)&&e.constructor!==null&&!Zr(e.constructor)&&st(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dg=$t("ArrayBuffer");function b1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&dg(e.buffer),t}const j1=kl("string"),st=kl("function"),fg=kl("number"),Ao=e=>e!==null&&typeof e=="object",E1=e=>e===!0||e===!1,wi=e=>{if(El(e)!=="object")return!1;const t=Hu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ug in e)&&!(jl in e)},k1=e=>{if(!Ao(e)||_o(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},C1=$t("Date"),_1=$t("File"),A1=$t("Blob"),T1=$t("FileList"),P1=e=>Ao(e)&&st(e.pipe),R1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||st(e.append)&&((t=El(e))==="formdata"||t==="object"&&st(e.toString)&&e.toString()==="[object FormData]"))},$1=$t("URLSearchParams"),[I1,O1,D1,M1]=["ReadableStream","Request","Response","Headers"].map($t),L1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function To(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),ds(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(_o(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function hg(e,t){if(_o(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const qn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pg=e=>!Zr(e)&&e!==qn;function jc(){const{caseless:e,skipUndefined:t}=pg(this)&&this||{},n={},r=(s,o)=>{const i=e&&hg(n,o)||o;wi(n[i])&&wi(s)?n[i]=jc(n[i],s):wi(s)?n[i]=jc({},s):ds(s)?n[i]=s.slice():(!t||!Zr(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&To(arguments[s],r);return n}const F1=(e,t,n,{allOwnKeys:r}={})=>(To(t,(s,o)=>{n&&st(s)?e[o]=cg(s,n):e[o]=s},{allOwnKeys:r}),e),z1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),U1=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},B1=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&Hu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},H1=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},V1=e=>{if(!e)return null;if(ds(e))return e;let t=e.length;if(!fg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},W1=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hu(Uint8Array)),X1=(e,t)=>{const r=(e&&e[jl]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},K1=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Y1=$t("HTMLFormElement"),q1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Pf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),G1=$t("RegExp"),mg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};To(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},Q1=e=>{mg(e,(t,n)=>{if(st(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(st(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},J1=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return ds(e)?r(e):r(String(e).split(t)),n},Z1=()=>{},eN=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tN(e){return!!(e&&st(e.append)&&e[ug]==="FormData"&&e[jl])}const nN=e=>{const t=new Array(10),n=(r,s)=>{if(Ao(r)){if(t.indexOf(r)>=0)return;if(_o(r))return r;if(!("toJSON"in r)){t[s]=r;const o=ds(r)?[]:{};return To(r,(i,a)=>{const c=n(i,s+1);!Zr(c)&&(o[a]=c)}),t[s]=void 0,o}}return r};return n(e,0)},rN=$t("AsyncFunction"),sN=e=>e&&(Ao(e)||st(e))&&st(e.then)&&st(e.catch),gg=((e,t)=>e?setImmediate:t?((n,r)=>(qn.addEventListener("message",({source:s,data:o})=>{s===qn&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),qn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",st(qn.postMessage)),oN=typeof queueMicrotask<"u"?queueMicrotask.bind(qn):typeof process<"u"&&process.nextTick||gg,iN=e=>e!=null&&st(e[jl]),I={isArray:ds,isArrayBuffer:dg,isBuffer:_o,isFormData:R1,isArrayBufferView:b1,isString:j1,isNumber:fg,isBoolean:E1,isObject:Ao,isPlainObject:wi,isEmptyObject:k1,isReadableStream:I1,isRequest:O1,isResponse:D1,isHeaders:M1,isUndefined:Zr,isDate:C1,isFile:_1,isBlob:A1,isRegExp:G1,isFunction:st,isStream:P1,isURLSearchParams:$1,isTypedArray:W1,isFileList:T1,forEach:To,merge:jc,extend:F1,trim:L1,stripBOM:z1,inherits:U1,toFlatObject:B1,kindOf:El,kindOfTest:$t,endsWith:H1,toArray:V1,forEachEntry:X1,matchAll:K1,isHTMLForm:Y1,hasOwnProperty:Pf,hasOwnProp:Pf,reduceDescriptors:mg,freezeMethods:Q1,toObjectSet:J1,toCamelCase:q1,noop:Z1,toFiniteNumber:eN,findKey:hg,global:qn,isContextDefined:pg,isSpecCompliantForm:tN,toJSONObject:nN,isAsyncFn:rN,isThenable:sN,setImmediate:gg,asap:oN,isIterable:iN};function Z(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}I.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const xg=Z.prototype,yg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yg[e]={value:e}});Object.defineProperties(Z,yg);Object.defineProperty(xg,"isAxiosError",{value:!0});Z.from=(e,t,n,r,s,o)=>{const i=Object.create(xg);I.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Z.call(i,a,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const lN=null;function Ec(e){return I.isPlainObject(e)||I.isArray(e)}function vg(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function Rf(e,t,n){return e?e.concat(t).map(function(s,o){return s=vg(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function aN(e){return I.isArray(e)&&!e.some(Ec)}const cN=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function Cl(e,t,n){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,N){return!I.isUndefined(N[g])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(I.isDate(y))return y.toISOString();if(I.isBoolean(y))return y.toString();if(!c&&I.isBlob(y))throw new Z("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(y)||I.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,g,N){let p=y;if(y&&!N&&typeof y=="object"){if(I.endsWith(g,"{}"))g=r?g:g.slice(0,-2),y=JSON.stringify(y);else if(I.isArray(y)&&aN(y)||(I.isFileList(y)||I.endsWith(g,"[]"))&&(p=I.toArray(y)))return g=vg(g),p.forEach(function(w,v){!(I.isUndefined(w)||w===null)&&t.append(i===!0?Rf([g],v,o):i===null?g:g+"[]",u(w))}),!1}return Ec(y)?!0:(t.append(Rf(N,g,o),u(y)),!1)}const f=[],h=Object.assign(cN,{defaultVisitor:d,convertValue:u,isVisitable:Ec});function x(y,g){if(!I.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(y),I.forEach(y,function(p,m){(!(I.isUndefined(p)||p===null)&&s.call(t,p,I.isString(m)?m.trim():m,g,h))===!0&&x(p,g?g.concat(m):[m])}),f.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return x(e),t}function $f(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Vu(e,t){this._pairs=[],e&&Cl(e,this,t)}const wg=Vu.prototype;wg.append=function(t,n){this._pairs.push([t,n])};wg.toString=function(t){const n=t?function(r){return t.call(this,r,$f)}:$f;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function uN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ng(e,t,n){if(!t)return e;const r=n&&n.encode||uN;I.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=I.isURLSearchParams(t)?t.toString():new Vu(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class If{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Sg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dN=typeof URLSearchParams<"u"?URLSearchParams:Vu,fN=typeof FormData<"u"?FormData:null,hN=typeof Blob<"u"?Blob:null,pN={isBrowser:!0,classes:{URLSearchParams:dN,FormData:fN,Blob:hN},protocols:["http","https","file","blob","url","data"]},Wu=typeof window<"u"&&typeof document<"u",kc=typeof navigator=="object"&&navigator||void 0,mN=Wu&&(!kc||["ReactNative","NativeScript","NS"].indexOf(kc.product)<0),gN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xN=Wu&&window.location.href||"http://localhost",yN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wu,hasStandardBrowserEnv:mN,hasStandardBrowserWebWorkerEnv:gN,navigator:kc,origin:xN},Symbol.toStringTag,{value:"Module"})),Ve={...yN,...pN};function vN(e,t){return Cl(e,new Ve.classes.URLSearchParams,{visitor:function(n,r,s,o){return Ve.isNode&&I.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function wN(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function NN(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function bg(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&I.isArray(s)?s.length:i,c?(I.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!I.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&I.isArray(s[i])&&(s[i]=NN(s[i])),!a)}if(I.isFormData(e)&&I.isFunction(e.entries)){const n={};return I.forEachEntry(e,(r,s)=>{t(wN(r),s,n,0)}),n}return null}function SN(e,t,n){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Po={transitional:Sg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=I.isObject(t);if(o&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return s?JSON.stringify(bg(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vN(t,this.formSerializer).toString();if((a=I.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cl(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),SN(t)):t}],transformResponse:[function(t){const n=this.transitional||Po.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?Z.from(a,Z.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{Po.headers[e]={}});const bN=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jN=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&bN[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Of=Symbol("internals");function Es(e){return e&&String(e).trim().toLowerCase()}function Ni(e){return e===!1||e==null?e:I.isArray(e)?e.map(Ni):String(e)}function EN(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const kN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ha(e,t,n,r,s){if(I.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!I.isString(t)){if(I.isString(r))return t.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(t)}}function CN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function _N(e,t){const n=I.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let ot=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,c,u){const d=Es(c);if(!d)throw new Error("header name must be a non-empty string");const f=I.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ni(a))}const i=(a,c)=>I.forEach(a,(u,d)=>o(u,d,c));if(I.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(I.isString(t)&&(t=t.trim())&&!kN(t))i(jN(t),n);else if(I.isObject(t)&&I.isIterable(t)){let a={},c,u;for(const d of t){if(!I.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?I.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Es(t),t){const r=I.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return EN(s);if(I.isFunction(n))return n.call(this,s,r);if(I.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Es(t),t){const r=I.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ha(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=Es(i),i){const a=I.findKey(r,i);a&&(!n||ha(r,r[a],a,n))&&(delete r[a],s=!0)}}return I.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||ha(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return I.forEach(this,(s,o)=>{const i=I.findKey(r,o);if(i){n[i]=Ni(s),delete n[o];return}const a=t?CN(o):String(o).trim();a!==o&&delete n[o],n[a]=Ni(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return I.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&I.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Of]=this[Of]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=Es(i);r[a]||(_N(s,i),r[a]=!0)}return I.isArray(t)?t.forEach(o):o(t),this}};ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(ot.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});I.freezeMethods(ot);function pa(e,t){const n=this||Po,r=t||n,s=ot.from(r.headers);let o=r.data;return I.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function jg(e){return!!(e&&e.__CANCEL__)}function fs(e,t,n){Z.call(this,e??"canceled",Z.ERR_CANCELED,t,n),this.name="CanceledError"}I.inherits(fs,Z,{__CANCEL__:!0});function Eg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function TN(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];i||(i=u),n[s]=c,r[s]=u;let f=o,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const x=d&&u-d;return x?Math.round(h*1e3/x):void 0}}function PN(e,t){let n=0,r=1e3/t,s,o;const i=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-f)))},()=>s&&i(s)]}const Ji=(e,t,n=3)=>{let r=0;const s=TN(50,250);return PN(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-r,u=s(c),d=i<=a;r=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Df=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Mf=e=>(...t)=>I.asap(()=>e(...t)),RN=Ve.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ve.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,$N=Ve.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];I.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),I.isString(r)&&i.push("path="+r),I.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ON(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kg(e,t,n){let r=!IN(t);return e&&(r||n==!1)?ON(e,t):t}const Lf=e=>e instanceof ot?{...e}:e;function ar(e,t){t=t||{};const n={};function r(u,d,f,h){return I.isPlainObject(u)&&I.isPlainObject(d)?I.merge.call({caseless:h},u,d):I.isPlainObject(d)?I.merge({},d):I.isArray(d)?d.slice():d}function s(u,d,f,h){if(I.isUndefined(d)){if(!I.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function o(u,d){if(!I.isUndefined(d))return r(void 0,d)}function i(u,d){if(I.isUndefined(d)){if(!I.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,d,f)=>s(Lf(u),Lf(d),f,!0)};return I.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);I.isUndefined(h)&&f!==a||(n[d]=h)}),n}const Cg=e=>{const t=ar({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=t;if(t.headers=i=ot.from(i),t.url=Ng(kg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),I.isFormData(n)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(I.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Ve.hasStandardBrowserEnv&&(r&&I.isFunction(r)&&(r=r(t)),r||r!==!1&&RN(t.url))){const c=s&&o&&$N.read(o);c&&i.set(s,c)}return t},DN=typeof XMLHttpRequest<"u",MN=DN&&function(e){return new Promise(function(n,r){const s=Cg(e);let o=s.data;const i=ot.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,x,y;function g(){x&&x(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let N=new XMLHttpRequest;N.open(s.method.toUpperCase(),s.url,!0),N.timeout=s.timeout;function p(){if(!N)return;const w=ot.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:w,config:e,request:N};Eg(function(T){n(T),g()},function(T){r(T),g()},E),N=null}"onloadend"in N?N.onloadend=p:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(p)},N.onabort=function(){N&&(r(new Z("Request aborted",Z.ECONNABORTED,e,N)),N=null)},N.onerror=function(v){const E=v&&v.message?v.message:"Network Error",j=new Z(E,Z.ERR_NETWORK,e,N);j.event=v||null,r(j),N=null},N.ontimeout=function(){let v=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||Sg;s.timeoutErrorMessage&&(v=s.timeoutErrorMessage),r(new Z(v,E.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,N)),N=null},o===void 0&&i.setContentType(null),"setRequestHeader"in N&&I.forEach(i.toJSON(),function(v,E){N.setRequestHeader(E,v)}),I.isUndefined(s.withCredentials)||(N.withCredentials=!!s.withCredentials),a&&a!=="json"&&(N.responseType=s.responseType),u&&([h,y]=Ji(u,!0),N.addEventListener("progress",h)),c&&N.upload&&([f,x]=Ji(c),N.upload.addEventListener("progress",f),N.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(d=w=>{N&&(r(!w||w.type?new fs(null,e,N):w),N.abort(),N=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const m=AN(s.url);if(m&&Ve.protocols.indexOf(m)===-1){r(new Z("Unsupported protocol "+m+":",Z.ERR_BAD_REQUEST,e));return}N.send(o||null)})},LN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Z?d:new fs(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new Z(`timeout ${t} of ms exceeded`,Z.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>I.asap(a),c}},FN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},zN=async function*(e,t){for await(const n of UN(e))yield*FN(n,t)},UN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Ff=(e,t,n,r)=>{const s=zN(e,t);let o=0,i,a=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let f=d.byteLength;if(n){let h=o+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},zf=64*1024,{isFunction:Jo}=I,BN=(({Request:e,Response:t})=>({Request:e,Response:t}))(I.global),{ReadableStream:Uf,TextEncoder:Bf}=I.global,Hf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},HN=e=>{e=I.merge.call({skipUndefined:!0},BN,e);const{fetch:t,Request:n,Response:r}=e,s=t?Jo(t):typeof fetch=="function",o=Jo(n),i=Jo(r);if(!s)return!1;const a=s&&Jo(Uf),c=s&&(typeof Bf=="function"?(y=>g=>y.encode(g))(new Bf):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=o&&a&&Hf(()=>{let y=!1;const g=new n(Ve.origin,{body:new Uf,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),d=i&&a&&Hf(()=>I.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(g,N)=>{let p=g&&g[y];if(p)return p.call(g);throw new Z(`Response type '${y}' is not supported`,Z.ERR_NOT_SUPPORT,N)})});const h=async y=>{if(y==null)return 0;if(I.isBlob(y))return y.size;if(I.isSpecCompliantForm(y))return(await new n(Ve.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(I.isArrayBufferView(y)||I.isArrayBuffer(y))return y.byteLength;if(I.isURLSearchParams(y)&&(y=y+""),I.isString(y))return(await c(y)).byteLength},x=async(y,g)=>{const N=I.toFiniteNumber(y.getContentLength());return N??h(g)};return async y=>{let{url:g,method:N,data:p,signal:m,cancelToken:w,timeout:v,onDownloadProgress:E,onUploadProgress:j,responseType:T,headers:_,withCredentials:$="same-origin",fetchOptions:L}=Cg(y),z=t||fetch;T=T?(T+"").toLowerCase():"text";let H=LN([m,w&&w.toAbortSignal()],v),U=null;const S=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let R;try{if(j&&u&&N!=="get"&&N!=="head"&&(R=await x(_,p))!==0){let O=new n(g,{method:"POST",body:p,duplex:"half"}),D;if(I.isFormData(p)&&(D=O.headers.get("content-type"))&&_.setContentType(D),O.body){const[X,W]=Df(R,Ji(Mf(j)));p=Ff(O.body,zf,X,W)}}I.isString($)||($=$?"include":"omit");const A=o&&"credentials"in n.prototype,F={...L,signal:H,method:N.toUpperCase(),headers:_.normalize().toJSON(),body:p,duplex:"half",credentials:A?$:void 0};U=o&&new n(g,F);let C=await(o?z(U,L):z(g,F));const k=d&&(T==="stream"||T==="response");if(d&&(E||k&&S)){const O={};["status","statusText","headers"].forEach(V=>{O[V]=C[V]});const D=I.toFiniteNumber(C.headers.get("content-length")),[X,W]=E&&Df(D,Ji(Mf(E),!0))||[];C=new r(Ff(C.body,zf,X,()=>{W&&W(),S&&S()}),O)}T=T||"text";let P=await f[I.findKey(f,T)||"text"](C,y);return!k&&S&&S(),await new Promise((O,D)=>{Eg(O,D,{data:P,headers:ot.from(C.headers),status:C.status,statusText:C.statusText,config:y,request:U})})}catch(A){throw S&&S(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,y,U),{cause:A.cause||A}):Z.from(A,A&&A.code,y,U)}}},VN=new Map,_g=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let i=o.length,a=i,c,u,d=VN;for(;a--;)c=o[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:HN(t)),d=u;return u};_g();const Cc={http:lN,xhr:MN,fetch:{get:_g}};I.forEach(Cc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vf=e=>`- ${e}`,WN=e=>I.isFunction(e)||e===null||e===!1,Ag={getAdapter:(e,t)=>{e=I.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let a;if(s=r,!WN(r)&&(s=Cc[(a=String(r)).toLowerCase()],s===void 0))throw new Z(`Unknown adapter '${a}'`);if(s&&(I.isFunction(s)||(s=s.get(t))))break;o[a||"#"+i]=s}if(!s){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(Vf).join(`
`):" "+Vf(i[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:Cc};function ma(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fs(null,e)}function Wf(e){return ma(e),e.headers=ot.from(e.headers),e.data=pa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ag.getAdapter(e.adapter||Po.adapter,e)(e).then(function(r){return ma(e),r.data=pa.call(e,e.transformResponse,r),r.headers=ot.from(r.headers),r},function(r){return jg(r)||(ma(e),r&&r.response&&(r.response.data=pa.call(e,e.transformResponse,r.response),r.response.headers=ot.from(r.response.headers))),Promise.reject(r)})}const Tg="1.12.2",_l={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_l[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Xf={};_l.transitional=function(t,n,r){function s(o,i){return"[Axios v"+Tg+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new Z(s(i," has been removed"+(n?" in "+n:"")),Z.ERR_DEPRECATED);return n&&!Xf[i]&&(Xf[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};_l.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function XN(e,t,n){if(typeof e!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new Z("option "+o+" must be "+c,Z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Z("Unknown option "+o,Z.ERR_BAD_OPTION)}}const Si={assertOptions:XN,validators:_l},Mt=Si.validators;let er=class{constructor(t){this.defaults=t||{},this.interceptors={request:new If,response:new If}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ar(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Si.assertOptions(r,{silentJSONParsing:Mt.transitional(Mt.boolean),forcedJSONParsing:Mt.transitional(Mt.boolean),clarifyTimeoutError:Mt.transitional(Mt.boolean)},!1),s!=null&&(I.isFunction(s)?n.paramsSerializer={serialize:s}:Si.assertOptions(s,{encode:Mt.function,serialize:Mt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Si.assertOptions(n,{baseUrl:Mt.spelling("baseURL"),withXsrfToken:Mt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&I.merge(o.common,o[n.method]);o&&I.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),n.headers=ot.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const y=[Wf.bind(this),void 0];for(y.unshift(...a),y.push(...u),h=y.length,d=Promise.resolve(n);f<h;)d=d.then(y[f++],y[f++]);return d}h=a.length;let x=n;for(;f<h;){const y=a[f++],g=a[f++];try{x=y(x)}catch(N){g.call(this,N);break}}try{d=Wf.call(this,x)}catch(y){return Promise.reject(y)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ar(this.defaults,t);const n=kg(t.baseURL,t.url,t.allowAbsoluteUrls);return Ng(n,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){er.prototype[t]=function(n,r){return this.request(ar(r||{},{method:t,url:n,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(ar(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}er.prototype[t]=n(),er.prototype[t+"Form"]=n(!0)});let KN=class Pg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new fs(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Pg(function(s){t=s}),cancel:t}}};function YN(e){return function(n){return e.apply(null,n)}}function qN(e){return I.isObject(e)&&e.isAxiosError===!0}const _c={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_c).forEach(([e,t])=>{_c[t]=e});function Rg(e){const t=new er(e),n=cg(er.prototype.request,t);return I.extend(n,er.prototype,t,{allOwnKeys:!0}),I.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Rg(ar(e,s))},n}const be=Rg(Po);be.Axios=er;be.CanceledError=fs;be.CancelToken=KN;be.isCancel=jg;be.VERSION=Tg;be.toFormData=Cl;be.AxiosError=Z;be.Cancel=be.CanceledError;be.all=function(t){return Promise.all(t)};be.spread=YN;be.isAxiosError=qN;be.mergeConfig=ar;be.AxiosHeaders=ot;be.formToJSON=e=>bg(I.isHTMLForm(e)?new FormData(e):e);be.getAdapter=Ag.getAdapter;be.HttpStatusCode=_c;be.default=be;const{Axios:MC,AxiosError:LC,CanceledError:FC,isCancel:zC,CancelToken:UC,VERSION:BC,all:HC,Cancel:VC,isAxiosError:WC,spread:XC,toFormData:KC,AxiosHeaders:YC,HttpStatusCode:qC,formToJSON:GC,getAdapter:QC,mergeConfig:JC}=be,K=be.create({baseURL:"/api",headers:{"Content-Type":"application/json"}}),Q={getHealth:()=>K.get("/health"),getStatus:()=>K.get("/status"),getProducts:(e=10,t=null)=>{const n={first:e};return t&&(n.after=t),K.get("/products",{params:n})},getProductById:e=>K.get(`/products/${e}`),searchProducts:(e,t=20,n=!1)=>K.get("/products/search",{params:{q:e,first:t,includeArchived:n}}),getOrders:(e=10,t=null)=>{const n={first:e};return t&&(n.after=t),K.get("/orders",{params:n})},getOrderById:e=>K.get(`/orders/${e}`),searchOrders:(e,t=20)=>K.get("/orders/search",{params:{q:e,first:t}}),getCustomers:(e=10,t=null)=>{const n={first:e};return t&&(n.after=t),K.get("/customers",{params:n})},getCustomerById:e=>K.get(`/customers/${e}`),searchCustomers:(e,t=20)=>K.get("/customers/search",{params:{q:e,first:t}}),getInventory:(e=10,t=null)=>{const n={first:e};return t&&(n.after=t),K.get("/inventory",{params:n})},getInventoryLocations:()=>K.get("/inventory/locations"),sendChatMessage:(e,t=[])=>K.post("/chat/message",{message:e,conversationHistory:t}),getChatStatus:()=>K.get("/chat/status"),getAIConfig:()=>K.get("/config/ai"),updateAIConfig:e=>K.put("/config/ai",e),getSystemPrompt:()=>K.get("/config/prompt"),getAvailableModels:()=>K.get("/config/models"),getChatbotConfig:()=>K.get("/config/chatbot"),updateChatbotConfig:e=>K.put("/config/chatbot",e),resetChatbotConfig:()=>K.post("/config/chatbot/reset"),previewSystemPrompt:()=>K.get("/config/chatbot/preview-prompt"),getSalesAnalytics:(e="7d")=>K.get("/analytics/sales",{params:{period:e}}),getAllSalesAnalytics:()=>K.get("/analytics/sales/all"),getInstoreSalesAnalytics:(e="7d")=>K.get("/analytics/instore/sales",{params:{period:e}}),getAllInstoreSalesAnalytics:()=>K.get("/analytics/instore/sales/all"),getChannelSalesAnalytics:(e="7d")=>K.get("/analytics/channels",{params:{period:e}}),getAllChannelSalesAnalytics:()=>K.get("/analytics/channels/all"),getPendingFulfillments:(e=!1,t=!1)=>K.get("/fulfillment/pending",{params:{includeDiscounts:e,includeSalePrices:t}}),getFulfillmentDetails:e=>K.get(`/fulfillment/${e}`),getAgents:(e=null)=>{const t={};return e!==null&&(t.activeOnly=e),K.get("/agents",{params:t})},getAgent:e=>K.get(`/agents/${e}`),createAgent:e=>K.post("/agents",e),updateAgent:(e,t)=>K.put(`/agents/${e}`,t),deleteAgent:e=>K.delete(`/agents/${e}`),activateAgent:e=>K.post(`/agents/${e}/activate`),deactivateAgent:e=>K.post(`/agents/${e}/deactivate`),executeAgent:(e,t)=>K.post(`/agents/${e}/execute`,t),getWorkflows:(e=null,t=null)=>{const n={};return e!==null&&(n.activeOnly=e),t!==null&&(n.triggerType=t),K.get("/workflows",{params:n})},getWorkflow:e=>K.get(`/workflows/${e}`),createWorkflow:e=>K.post("/workflows",e),updateWorkflow:(e,t)=>K.put(`/workflows/${e}`,t),deleteWorkflow:e=>K.delete(`/workflows/${e}`),activateWorkflow:e=>K.post(`/workflows/${e}/activate`),deactivateWorkflow:e=>K.post(`/workflows/${e}/deactivate`),executeWorkflow:(e,t)=>K.post(`/workflows/${e}/execute`,t),getWorkflowSteps:e=>K.get(`/workflows/${e}/steps`),createWorkflowStep:(e,t)=>K.post(`/workflows/${e}/steps`,t),updateWorkflowStep:(e,t,n)=>K.put(`/workflows/${e}/steps/${t}`,n),deleteWorkflowStep:(e,t)=>K.delete(`/workflows/${e}/steps/${t}`),reorderWorkflowSteps:(e,t)=>K.post(`/workflows/${e}/steps/reorder`,t),getWorkflowExecutions:e=>K.get(`/workflows/${e}/executions`),getAllExecutions:()=>K.get("/executions"),getExecutionDetails:e=>K.get(`/executions/${e}`),getPendingApprovals:(e=null)=>{const t={};return e!==null&&(t.role=e),K.get("/approvals/pending",{params:t})},getApprovalsByExecution:e=>K.get(`/approvals/execution/${e}`),getApprovalCount:()=>K.get("/approvals/count"),approveRequest:(e,t,n)=>K.post(`/approvals/${e}/approve`,{approvedBy:t,comments:n}),rejectRequest:(e,t,n)=>K.post(`/approvals/${e}/reject`,{rejectedBy:t,reason:n}),getTools:(e=null)=>{const t={};return e!==null&&(t.activeOnly=e),K.get("/tools",{params:t})},getTool:e=>K.get(`/tools/${e}`),createTool:e=>K.post("/tools",e),updateTool:(e,t)=>K.put(`/tools/${e}`,t),deleteTool:e=>K.delete(`/tools/${e}`),getSchedules:(e=!0)=>{const t={};return e!==null&&(t.active=e),K.get("/schedules",{params:t})},getSchedulesForWorkflow:e=>K.get(`/schedules/workflow/${e}`),createSchedule:(e,t,n=null)=>K.post("/schedules",{workflowId:e,cronExpression:t,triggerData:n}),cancelSchedule:e=>K.delete(`/schedules/${e}`),activateSchedule:e=>K.put(`/schedules/${e}/activate`),updateScheduleCron:(e,t)=>K.put(`/schedules/${e}/cron`,{cronExpression:t}),updateScheduleTriggerData:(e,t)=>K.put(`/schedules/${e}/trigger-data`,t)};function GN(){const e=Co(),[t,n]=b.useState(0);b.useEffect(()=>{r();const i=setInterval(r,3e4);return()=>clearInterval(i)},[]);const r=async()=>{try{const i=await Q.getApprovalCount();n(i.data.count)}catch(i){console.error("Error loading approval count:",i)}},s=[{path:"/",label:"Dashboard",icon:""},{path:"/products",label:"Product Search",icon:""},{path:"/chat",label:"AI Chat Agent",icon:""},{path:"/fulfillment",label:"Orders to Fulfill",icon:""},{path:"/agents",label:"Agents",icon:""},{path:"/workflows",label:"Workflows",icon:""},{path:"/executions",label:"Executions",icon:""},{path:"/approvals",label:"Approvals",icon:"",badge:t},{path:"/settings",label:"Settings",icon:""},{path:"/analytics",label:"Analytics",icon:""},{path:"/market-intel",label:"Market Intel",icon:""}],o=i=>i==="/workflows"?e.pathname.startsWith("/workflows"):i==="/agents"?e.pathname.startsWith("/agents"):i==="/executions"?e.pathname.startsWith("/executions"):i==="/approvals"?e.pathname.startsWith("/approvals"):e.pathname===i;return l.jsx("nav",{className:"bg-white shadow-md",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("h1",{className:"text-xl font-bold text-primary-600",children:"Customer Service Hub"})}),l.jsx("div",{className:"flex space-x-4",children:s.map(i=>l.jsxs(bc,{to:i.path,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 relative ${o(i.path)?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[l.jsx("span",{className:"mr-2",children:i.icon}),i.label,i.badge>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:i.badge})]},i.path))})]})})})}function QN(){const[e,t]=b.useState(null),[n,r]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const i=await Q.getStatus();t(i.data)}catch(i){console.error("Error fetching status:",i)}finally{r(!1)}})()},[]);const s=[{title:"Product Search",description:"Search products, view details, and generate cart links",icon:"",path:"/products",status:"Active",color:"bg-green-100 text-green-800"},{title:"AI Chat Agent",description:"Sales and customer support automation",icon:"",path:"/chat",status:"Active",color:"bg-green-100 text-green-800"},{title:"Orders to Fulfill",description:"View Shopify orders pending CRS fulfillment",icon:"",path:"/fulfillment",status:"Active",color:"bg-orange-100 text-orange-800"},{title:"Analytics Dashboard",description:"Business insights and reporting",icon:"",path:"/analytics",status:"Active",color:"bg-green-100 text-green-800"},{title:"Market Intelligence",description:"Competitive pricing and discount tracking",icon:"",path:"/market-intel",status:"Coming Soon",color:"bg-yellow-100 text-yellow-800"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Welcome to Customer Service Hub"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Your central tool for sales, support, and business intelligence"})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"System Status"}),n?l.jsx("div",{className:"text-gray-500",children:"Loading status..."}):e?l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:e.shopify_connected?"":""}),l.jsx("div",{className:"text-sm text-gray-600",children:"Shopify Connected"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:e.api_version}),l.jsx("div",{className:"text-sm text-gray-600",children:"API Version"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary-600",children:e.environment}),l.jsx("div",{className:"text-sm text-gray-600",children:"Environment"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:"UP"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Service Status"})]})]}):l.jsx("div",{className:"text-red-500",children:"Unable to fetch status"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(o=>l.jsx(bc,{to:o.path,className:"card hover:shadow-lg transition-shadow duration-200",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-4xl mb-3",children:o.icon}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o.title}),l.jsx("p",{className:"text-gray-600 mb-3",children:o.description}),l.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${o.color}`,children:o.status})]})})},o.path))}),l.jsx("div",{className:"card bg-primary-50 border border-primary-200",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quick Product Search"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Search for products and generate cart links instantly"}),l.jsx(bc,{to:"/products",className:"btn-primary inline-block",children:"Go to Product Search "})]})})]})}function JN({value:e,onChange:t,onSearch:n,loading:r}){const[s,o]=b.useState(e),i=u=>{u.preventDefault(),n(s)},a=u=>{const d=u.target.value;o(d),t(d)},c=()=>{o(""),t(""),n("")};return l.jsxs("form",{onSubmit:i,className:"card",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:"text",value:s,onChange:a,placeholder:"Search by product name, SKU, or keyword...",className:"input-field pr-10",disabled:r}),s&&l.jsx("button",{type:"button",onClick:c,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]}),l.jsx("button",{type:"submit",disabled:r||!s.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:r?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:""}),"Searching..."]}):l.jsx("span",{children:" Search"})})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[l.jsx("strong",{children:"Search tips:"}),' Try "title:Gundam" for title search, or just "Gundam" for general search']})]})}function ZN({product:e,onClick:t}){var a,c,u,d,f,h,x,y;const n=(d=(u=(c=(a=e.images)==null?void 0:a.edges)==null?void 0:c[0])==null?void 0:u.node)==null?void 0:d.url,r=(x=(h=(f=e.variants)==null?void 0:f.edges)==null?void 0:h[0])==null?void 0:x.node,s=(r==null?void 0:r.price)||"N/A",o=(r==null?void 0:r.sku)||"N/A",i={ACTIVE:"bg-green-100 text-green-800",DRAFT:"bg-yellow-100 text-yellow-800",ARCHIVED:"bg-red-100 text-red-800"};return l.jsxs("div",{onClick:t,className:"card hover:shadow-xl transition-all duration-200 cursor-pointer group",children:[l.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden mb-4",children:[n?l.jsx("img",{src:n,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-4xl",children:""}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${i[e.status]||"bg-gray-100 text-gray-800"}`,children:e.status})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2 group-hover:text-primary-600 transition-colors",children:e.title}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-gray-600",children:["SKU: ",o]}),l.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["$",s]})]}),e.vendor&&l.jsxs("div",{className:"text-sm text-gray-500",children:["Vendor: ",e.vendor]}),((y=e.variants)==null?void 0:y.edges)&&l.jsxs("div",{className:"text-sm text-gray-500",children:[e.variants.edges.length," variant",e.variants.edges.length!==1?"s":""]})]}),l.jsx("div",{className:"mt-4 text-center text-sm text-primary-600 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click for details "})]})}function eS({variants:e,selectedVariant:t,onSelectVariant:n}){return!e||e.length===0?null:e.length===1&&e[0].title==="Default Title"?l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Variant Information"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"SKU:"}),l.jsx("span",{className:"ml-2 font-medium",children:e[0].sku||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Price:"}),l.jsxs("span",{className:"ml-2 font-medium text-primary-600",children:["$",e[0].price]})]}),e[0].inventoryQuantity!==void 0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"In Stock:"}),l.jsxs("span",{className:"ml-2 font-medium",children:[e[0].inventoryQuantity," units"]})]})]})})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Select Variant"}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.map(r=>{const s=(t==null?void 0:t.id)===r.id;return l.jsx("button",{onClick:()=>n(r),className:`text-left p-4 rounded-lg border-2 transition-all duration-200 ${s?"border-primary-500 bg-primary-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-gray-900",children:r.title}),s&&l.jsx("span",{className:"text-primary-600",children:""})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[r.sku&&l.jsxs("span",{children:["SKU: ",r.sku]}),r.inventoryQuantity!==void 0&&l.jsxs("span",{children:["Stock: ",r.inventoryQuantity]})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-lg font-bold text-primary-600",children:["$",r.price]})})]})},r.id)})}),t&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800",children:["Selected: ",l.jsx("strong",{children:t.title})," - $",t.price]})]})}function tS({product:e,onClose:t}){var d,f,h,x,y,g,N,p;const[n,r]=b.useState(((h=(f=(d=e.variants)==null?void 0:d.edges)==null?void 0:f[0])==null?void 0:h.node)||null),s="hearnshobbies.myshopify.com",o=e.onlineStoreUrl||(e.handle?`https://${s}/products/${e.handle}`:null),a=n?((m,w=1)=>{if(!m)return null;const v=m.includes("/")?m.substring(m.lastIndexOf("/")+1):m;return`https://${s}/cart/${v}:${w}`})(n.id):null,c=(m,w)=>{navigator.clipboard.writeText(m),alert(`${w} link copied to clipboard!`)},u=m=>{window.open(m,"_blank")};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Product Details"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{children:(N=(g=(y=(x=e.images)==null?void 0:x.edges)==null?void 0:y[0])==null?void 0:g.node)!=null&&N.url?l.jsx("img",{src:e.images.edges[0].node.url,alt:e.title,className:"w-full rounded-lg shadow-md"}):l.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 text-6xl",children:""})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.title}),l.jsx("div",{className:"flex items-center gap-2 text-sm",children:l.jsx("span",{className:`px-3 py-1 rounded-full ${e.status==="ACTIVE"?"bg-green-100 text-green-800":e.status==="DRAFT"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.status})})]}),e.description&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"Description"}),l.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),e.vendor&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"Vendor"}),l.jsx("p",{className:"text-gray-600",children:e.vendor})]}),e.productType&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"Product Type"}),l.jsx("p",{className:"text-gray-600",children:e.productType})]}),e.tags&&e.tags.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-700 mb-1",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((m,w)=>l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:m},w))})]})]})]}),((p=e.variants)==null?void 0:p.edges)&&e.variants.edges.length>0&&l.jsx("div",{className:"border-t border-gray-200 pt-6",children:l.jsx(eS,{variants:e.variants.edges.map(m=>m.node),selectedVariant:n,onSelectVariant:r})}),l.jsxs("div",{className:"border-t border-gray-200 pt-6 space-y-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:"Actions"}),o&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Product Page"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:o,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm"}),l.jsx("button",{onClick:()=>c(o,"Product"),className:"btn-secondary",children:" Copy"}),l.jsx("button",{onClick:()=>u(o),className:"btn-primary",children:" View"})]})]}),a&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Add to Cart Link",n&&l.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",n.title,")"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm"}),l.jsx("button",{onClick:()=>c(a,"Cart"),className:"btn-secondary",children:" Copy"}),l.jsx("button",{onClick:()=>u(a),className:"btn-primary",children:" Add to Cart"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Share this link with customers. When clicked, the item will be automatically added to their cart."})]})]}),l.jsx("div",{className:"border-t border-gray-200 pt-6",children:l.jsx("button",{onClick:t,className:"w-full btn-secondary",children:"Close"})})]})]})})}function nS(){const[e,t]=b.useState(""),[n,r]=b.useState([]),[s,o]=b.useState(!1),[i,a]=b.useState(null),[c,u]=b.useState(null),[d,f]=b.useState(!1),h=async g=>{var N;if(!g.trim()){r([]);return}o(!0),a(null);try{const p=await Q.searchProducts(g,20,d);if(p.data.success&&p.data.data){const w=(((N=p.data.data.products)==null?void 0:N.edges)||[]).map(v=>v.node);r(w),w.length===0&&a("No products found matching your search.")}else a("Failed to fetch products. Please try again.")}catch(p){console.error("Search error:",p),a("An error occurred while searching. Please try again.")}finally{o(!1)}},x=g=>{u(g)},y=()=>{u(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Product Search"}),l.jsx("p",{className:"text-gray-600",children:"Search for products and generate cart links for customers"})]}),l.jsx(JN,{value:e,onChange:t,onSearch:h,loading:s}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"includeArchived",checked:d,onChange:g=>f(g.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"includeArchived",className:"text-sm text-gray-700 cursor-pointer select-none",children:"Include archived products"})]}),i&&l.jsx("div",{className:"card bg-red-50 border border-red-200 text-red-700",children:i}),s&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Searching products..."})]}),!s&&n.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Found ",n.length," product",n.length!==1?"s":""]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(g=>l.jsx(ZN,{product:g,onClick:()=>x(g)},g.id))})]}),!s&&!i&&n.length===0&&e&&l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("p",{children:"Enter a search term to find products"})]}),!s&&!e&&l.jsxs("div",{className:"card bg-blue-50 border border-blue-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How to use Product Search"}),l.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:[l.jsx("li",{children:"Enter product name, SKU, or keyword in the search box"}),l.jsx("li",{children:"Click on a product card to view full details"}),l.jsx("li",{children:'Use "View Product" to open the product page'}),l.jsx("li",{children:'Use "Add to Cart" to generate a direct cart link'}),l.jsx("li",{children:"Share cart links with customers via email, SMS, or chat"})]})]}),c&&l.jsx(tS,{product:c,onClose:y})]})}function rS({message:e}){const t=e.role==="user",n=e.timestamp?new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",r=s=>{const o=/(https?:\/\/[^\s]+)/g;return s.split(o).map((a,c)=>{if(a.match(o)){const u=a.includes("/cart/");return l.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:`underline ${u?"text-blue-600 font-semibold":"text-blue-500"}`,children:u?" Add to Cart":a},c)}return l.jsx("span",{children:a},c)})};return l.jsxs("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:[l.jsxs("div",{className:`max-w-3/4 ${t?"order-2":"order-1"}`,children:[l.jsx("div",{className:`rounded-lg px-4 py-3 ${t?"bg-primary-600 text-white":"bg-gray-200 text-gray-900"}`,children:l.jsx("div",{className:"whitespace-pre-wrap break-words",children:r(e.content)})}),n&&l.jsx("div",{className:`text-xs text-gray-500 mt-1 ${t?"text-right":"text-left"}`,children:n})]}),!t&&l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center mr-2 order-0",children:l.jsx("span",{className:"text-primary-600",children:""})}),t&&l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center ml-2 order-3",children:l.jsx("span",{children:""})})]})}function sS({onSend:e,disabled:t}){const[n,r]=b.useState(""),s=i=>{i.preventDefault(),n.trim()&&!t&&(e(n),r(""))},o=i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),s(i))};return l.jsxs("form",{onSubmit:s,className:"border-t border-gray-200 bg-white p-4",children:[l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsx("textarea",{value:n,onChange:i=>r(i.target.value),onKeyPress:o,placeholder:"Ask about Gundam models, product recommendations, or anything else...",disabled:t,className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:bg-gray-100 disabled:cursor-not-allowed resize-none",rows:"2"}),l.jsx("button",{type:"submit",disabled:t||!n.trim(),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors h-12",children:t?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send"})]}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})}function oS(){const[e,t]=b.useState([]),[n,r]=b.useState(!1),[s,o]=b.useState(null),[i,a]=b.useState(null),c=b.useRef(null),u=()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{u()},[e]),b.useEffect(()=>{d(),t([{role:"assistant",content:"Hello!  I'm your Gundam store assistant. I can help you find the perfect model kit, answer questions about products, and generate direct purchase links. How can I assist you today?",timestamp:Date.now()}])},[]);const d=async()=>{try{const x=await Q.getChatStatus();x.data.success&&a(x.data.data)}catch(x){console.error("Error loading chat status:",x)}},f=async x=>{const y={role:"user",content:x,timestamp:Date.now()};t(g=>[...g,y]),r(!0),o(null);try{const g=await Q.sendChatMessage(x,e);if(g.data.success&&g.data.data){const N={role:"assistant",content:g.data.data.content,timestamp:g.data.data.timestamp||Date.now()};t(p=>[...p,N])}else o("Failed to get response from assistant")}catch(g){console.error("Error sending message:",g),o("An error occurred while sending your message. Please try again.");const N={role:"assistant",content:"I apologize, but I'm having trouble processing your request. Please try again or use the Product Search page to browse our catalog.",timestamp:Date.now()};t(p=>[...p,N])}finally{r(!1)}},h=()=>{t([{role:"assistant",content:"Chat cleared! How can I help you today?",timestamp:Date.now()}]),o(null)};return l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" AI Chat Assistant"}),l.jsx("p",{className:"text-gray-600",children:"Ask about products, get recommendations, and receive direct purchase links"})]}),l.jsx("button",{onClick:h,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Clear Chat"})]}),i&&l.jsx("div",{className:"mt-4 p-3 bg-primary-50 rounded-lg",children:l.jsxs("div",{className:"flex items-center text-sm text-primary-800",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),l.jsx("span",{className:"font-semibold",children:i.provider}),l.jsx("span",{className:"mx-2",children:""}),l.jsx("span",{children:i.description})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm flex flex-col",style:{height:"calc(100vh - 320px)"},children:[l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.map((x,y)=>l.jsx(rS,{message:x},y)),n&&l.jsx("div",{className:"flex justify-start mb-4",children:l.jsx("div",{className:"bg-gray-200 rounded-lg px-4 py-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),s&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:l.jsx("p",{className:"text-red-800 text-sm",children:s})}),l.jsx("div",{ref:c})]}),l.jsx(sS,{onSend:f,disabled:n})]}),l.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Try asking:"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["Show me popular Gundam models under $50","What's the difference between HG and MG kits?","I'm a beginner, what model should I start with?","Do you have any limited edition kits in stock?"].map((x,y)=>l.jsx("button",{onClick:()=>!n&&f(x),disabled:n,className:"text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-primary-300 transition-colors text-sm text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x},y))})]})]})}function iS(){const[e,t]=b.useState("ai"),[n,r]=b.useState({model:"",maxTokens:1024,temperature:.7}),[s,o]=b.useState(""),[i,a]=b.useState([]),[c,u]=b.useState(null),[d,f]=b.useState({storeName:"",storeDescription:"",storeCategories:"",scopeInstructions:"",outOfScopeResponse:"",requireSearchBeforeRecommendation:!0,enableProductSearch:!0,maxSearchResults:5,toneOfVoice:"friendly",includeCartLinks:!0,showPrices:!0,showSkus:!0,customInstructions:""}),[h,x]=b.useState(null),[y,g]=b.useState(""),[N,p]=b.useState(!0),[m,w]=b.useState(!1),[v,E]=b.useState(null);b.useEffect(()=>{j()},[e]);const j=async()=>{try{if(p(!0),e==="ai"){const[S,R,A]=await Promise.all([Q.getAIConfig(),Q.getSystemPrompt(),Q.getAvailableModels()]);r(S.data),u(S.data),o(R.data.prompt),a(A.data.models)}else if(e==="chatbot"){const[S,R]=await Promise.all([Q.getChatbotConfig(),Q.previewSystemPrompt()]);f(S.data),x(S.data),g(R.data.prompt)}}catch(S){console.error("Error loading settings:",S),E({type:"error",text:"Failed to load settings"})}finally{p(!1)}},T=async()=>{var S,R;try{w(!0),E(null);const A=await Q.updateAIConfig(n);u(n),E({type:"success",text:A.data.message||"AI settings saved successfully (runtime only)"})}catch(A){console.error("Error saving AI settings:",A),E({type:"error",text:((R=(S=A.response)==null?void 0:S.data)==null?void 0:R.message)||"Failed to save AI settings"})}finally{w(!1)}},_=async()=>{var S,R;try{w(!0),E(null);const A=await Q.updateChatbotConfig(d);x(d);const F=await Q.previewSystemPrompt();g(F.data.prompt),E({type:"success",text:A.data.message||"Chatbot settings saved successfully (runtime only)"})}catch(A){console.error("Error saving chatbot settings:",A),E({type:"error",text:((R=(S=A.response)==null?void 0:S.data)==null?void 0:R.message)||"Failed to save chatbot settings"})}finally{w(!1)}},$=async()=>{try{w(!0),E(null);const S=await Q.resetChatbotConfig();f(S.data.config),x(S.data.config);const R=await Q.previewSystemPrompt();g(R.data.prompt),E({type:"success",text:"Chatbot configuration reset to defaults"})}catch(S){console.error("Error resetting chatbot settings:",S),E({type:"error",text:"Failed to reset chatbot settings"})}finally{w(!1)}},L=()=>{r(c),E({type:"info",text:"AI settings reset to last saved values"})},z=()=>{f(h),E({type:"info",text:"Chatbot settings reset to last saved values"})},H=()=>JSON.stringify(n)!==JSON.stringify(c),U=()=>JSON.stringify(d)!==JSON.stringify(h);return N?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading settings..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),l.jsx("p",{className:"text-gray-600",children:"Manage AI chatbot configuration and behavior"})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsx("button",{onClick:()=>t("ai"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="ai"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"AI Parameters"}),l.jsx("button",{onClick:()=>t("chatbot"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="chatbot"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Chatbot Configuration"})]})}),v&&l.jsx("div",{className:`p-4 rounded-lg ${v.type==="success"?"bg-green-100 text-green-800":v.type==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:v.text}),e==="ai"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"AI Model Settings"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),l.jsx("select",{value:n.model,onChange:S=>r({...n,model:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:i.map(S=>l.jsx("option",{value:S,children:S},S))}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select which Claude model to use for chat responses"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",n.temperature.toFixed(2)]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:n.temperature,onChange:S=>r({...n,temperature:parseFloat(S.target.value)}),className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"More Focused (0.0)"}),l.jsx("span",{children:"More Creative (1.0)"})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Controls randomness in responses. Lower values are more focused and deterministic"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens"}),l.jsx("input",{type:"number",min:"256",max:"4096",step:"256",value:n.maxTokens,onChange:S=>r({...n,maxTokens:parseInt(S.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum length of AI responses (256-4096 tokens)"})]}),l.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.jsx("button",{onClick:T,disabled:m||!H(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":"Save Changes"}),l.jsx("button",{onClick:L,disabled:!H(),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset"})]}),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Note:"})," Runtime changes only. Restart resets to defaults."]})})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Generated System Prompt"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:l.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:s})}),l.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:["This prompt is dynamically generated from your chatbot configuration. Use the ",l.jsx("strong",{children:"Chatbot Configuration"})," tab to customize it."]})})]})]}),e==="chatbot"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Store Identity"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name"}),l.jsx("input",{type:"text",value:d.storeName,onChange:S=>f({...d,storeName:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Hearn's Hobbies"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Description"}),l.jsx("input",{type:"text",value:d.storeDescription,onChange:S=>f({...d,storeDescription:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., An online hobby store specializing in model kits"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Categories"}),l.jsx("input",{type:"text",value:d.storeCategories,onChange:S=>f({...d,storeCategories:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., model kits, hobby paints, tools"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comma-separated list of product categories"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Behavior Rules"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scope Instructions"}),l.jsx("textarea",{value:d.scopeInstructions,onChange:S=>f({...d,scopeInstructions:S.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Describe what products your store sells and specializes in"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Out-of-Scope Response"}),l.jsx("textarea",{value:d.outOfScopeResponse,onChange:S=>f({...d,outOfScopeResponse:S.target.value}),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"What to say when asked about products you don't carry"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"requireSearch",checked:d.requireSearchBeforeRecommendation,onChange:S=>f({...d,requireSearchBeforeRecommendation:S.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"requireSearch",className:"ml-2 block text-sm text-gray-700",children:"Always search catalog before making recommendations"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Tool Configuration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"enableSearch",checked:d.enableProductSearch,onChange:S=>f({...d,enableProductSearch:S.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"enableSearch",className:"ml-2 block text-sm text-gray-700",children:"Enable product search tool"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Max Search Results: ",d.maxSearchResults]}),l.jsx("input",{type:"range",min:"1",max:"20",value:d.maxSearchResults,onChange:S=>f({...d,maxSearchResults:parseInt(S.target.value)}),className:"w-full"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum number of products returned per search"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Response Style"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tone of Voice"}),l.jsxs("select",{value:d.toneOfVoice,onChange:S=>f({...d,toneOfVoice:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[l.jsx("option",{value:"professional",children:"Professional"}),l.jsx("option",{value:"friendly",children:"Friendly"}),l.jsx("option",{value:"enthusiastic",children:"Enthusiastic"}),l.jsx("option",{value:"casual",children:"Casual"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"includeCartLinks",checked:d.includeCartLinks,onChange:S=>f({...d,includeCartLinks:S.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"includeCartLinks",className:"ml-2 block text-sm text-gray-700",children:"Include 'Add to Cart' links in responses"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"showPrices",checked:d.showPrices,onChange:S=>f({...d,showPrices:S.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"showPrices",className:"ml-2 block text-sm text-gray-700",children:"Show product prices"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"showSkus",checked:d.showSkus,onChange:S=>f({...d,showSkus:S.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"showSkus",className:"ml-2 block text-sm text-gray-700",children:"Show SKU information"})]})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Custom Instructions"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Instructions (Optional)"}),l.jsx("textarea",{value:d.customInstructions,onChange:S=>f({...d,customInstructions:S.target.value}),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Add any additional custom instructions for the AI..."}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional custom instructions that will be appended to the system prompt"})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:_,disabled:m||!U(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":"Save Changes"}),l.jsx("button",{onClick:z,disabled:!U(),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),l.jsx("button",{onClick:$,disabled:m,className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset to Defaults"})]}),l.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Note:"})," Runtime changes only. Restart resets to application.yml defaults."]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Generated System Prompt Preview"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 max-h-96 overflow-y-auto",children:l.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:y})}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This is the system prompt that will be sent to Claude based on your configuration"})]})]})]})}var $g={exports:{}},lS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aS=lS,cS=aS;function Ig(){}function Og(){}Og.resetWarningCache=Ig;var uS=function(){function e(r,s,o,i,a,c){if(c!==cS){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Og,resetWarningCache:Ig};return n.PropTypes=n,n};$g.exports=uS();var dS=$g.exports;const oe=Wc(dS);function pe({title:e,value:t,currency:n,comparisonData:r,icon:s,type:o}){const i=d=>d==null?"0.00":parseFloat(d).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),a=d=>{switch(d){case"up":return"";case"down":return"";default:return""}},c=d=>{switch(d){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}},u=d=>{switch(d){case"sales":return"bg-blue-50 border-blue-200";case"average":return"bg-purple-50 border-purple-200";case"freight":return"bg-orange-50 border-orange-200";case"discount":return"bg-pink-50 border-pink-200";default:return"bg-gray-50 border-gray-200"}};return l.jsxs("div",{className:`card ${u(o)}`,children:[l.jsx("div",{className:"flex items-start justify-between mb-3",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s&&l.jsx("span",{className:"text-2xl",children:s}),l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e})]}),l.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[n&&l.jsx("span",{className:"text-2xl",children:n}),i(t)]})]})}),r&&l.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"vs. Last Year"}),l.jsxs("div",{className:`flex items-center gap-1 font-semibold ${c(r.trend)}`,children:[l.jsx("span",{children:a(r.trend)}),l.jsxs("span",{children:[r.percentageChange>0?"+":"",i(r.percentageChange),"%"]})]})]}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Previous: ",n,i(r.previousValue)]})]})]})}pe.propTypes={title:oe.string.isRequired,value:oe.oneOfType([oe.string,oe.number]),currency:oe.string,comparisonData:oe.shape({previousValue:oe.oneOfType([oe.string,oe.number]),percentageChange:oe.oneOfType([oe.string,oe.number]),trend:oe.oneOf(["up","down","neutral"])}),icon:oe.string,type:oe.oneOf(["sales","average","freight","discount"])};pe.defaultProps={value:0,currency:"$",comparisonData:null,icon:null,type:"sales"};function fS(){var $,L,z,H,U,S,R,A,F,C,k,P,O,D,X,W;const[e,t]=b.useState(null),[n,r]=b.useState(null),[s,o]=b.useState(!0),[i,a]=b.useState(!0),[c,u]=b.useState(null),[d,f]=b.useState(null),[h,x]=b.useState("7d"),[y,g]=b.useState("online"),N=[{id:"1d",label:"1 Day",icon:""},{id:"7d",label:"7 Days",icon:""},{id:"30d",label:"30 Days",icon:""},{id:"90d",label:"90 Days",icon:""}],p=[{id:"online",label:"Online Sales",icon:""},{id:"channels",label:"All Channels",icon:""}];b.useEffect(()=>{m(),w()},[]);const m=async()=>{o(!0),u(null);try{const V=await Q.getAllSalesAnalytics();t(V.data.data)}catch(V){console.error("Error fetching analytics:",V),u("Failed to load analytics data. Please try again.")}finally{o(!1)}},w=async()=>{a(!0),f(null);try{const V=await Q.getAllChannelSalesAnalytics();r(V.data.data)}catch(V){console.error("Error fetching channel analytics:",V),f("Failed to load channel analytics data. Please try again.")}finally{a(!1)}},v=()=>{m(),w()},E=()=>y==="channels"?!n||!n[h]?null:n[h]:!e||!e[h]?null:e[h],j=y==="online"?s:i,T=y==="online"?c:d,_=E();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Analytics"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Track your sales performance with year-over-year comparisons"})]}),l.jsx("button",{onClick:v,disabled:s||i,className:"btn-secondary",children:s||i?"Refreshing...":" Refresh"})]}),l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex gap-2",children:p.map(V=>l.jsxs("button",{onClick:()=>g(V.id),className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all ${y===V.id?"bg-primary-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx("span",{className:"text-xl mr-2",children:V.icon}),V.label]},V.id))})}),l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex gap-2 overflow-x-auto",children:N.map(V=>l.jsxs("button",{onClick:()=>x(V.id),className:`flex-1 min-w-[120px] px-4 py-3 rounded-lg font-medium transition-all ${h===V.id?"bg-primary-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:V.icon}),l.jsx("div",{className:"text-sm",children:V.label})]},V.id))})}),T&&l.jsx("div",{className:"card bg-red-50 border-red-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-red-900",children:"Error Loading Analytics"}),l.jsx("p",{className:"text-red-700 text-sm",children:T})]})]})}),j&&l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin text-5xl mb-4",children:""}),l.jsx("p",{className:"text-gray-600",children:"Loading analytics data..."})]})})}),!j&&!T&&_&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"card bg-blue-50 border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900",children:[($=N.find(V=>V.id===h))==null?void 0:$.label," Report"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y==="channels"?`${_.totalOrders||0} orders processed`:`${_.orderCount||0} orders processed`})]}),l.jsxs("div",{className:"text-right text-sm text-gray-600",children:[l.jsxs("div",{children:["From: ",new Date(_.periodStart).toLocaleDateString()]}),l.jsxs("div",{children:["To: ",new Date(_.periodEnd).toLocaleDateString()]})]})]})}),y==="online"?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(pe,{title:"Total Sales",value:_.totalSales,currency:_.currencyCode==="AUD"?"$":_.currencyCode,comparisonData:_.yearOverYearComparison,icon:"",type:"sales"}),l.jsx(pe,{title:"Average Sale",value:_.averageSale,currency:_.currencyCode==="AUD"?"$":_.currencyCode,comparisonData:null,icon:"",type:"average"}),l.jsx(pe,{title:"Total Freight Paid",value:_.totalFreight,currency:_.currencyCode==="AUD"?"$":_.currencyCode,comparisonData:null,icon:"",type:"freight"}),l.jsx(pe,{title:"Total Discounts Given",value:_.totalDiscounts,currency:_.currencyCode==="AUD"?"$":_.currencyCode,comparisonData:null,icon:"",type:"discount"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Grand Total (No Double-Counting)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(pe,{title:"Total Revenue",value:_.totalRevenue||0,currency:"$",comparisonData:_.yearOverYearComparison,icon:"",type:"sales"}),l.jsx(pe,{title:"Total Orders",value:_.totalOrders||0,currency:"",comparisonData:null,icon:"",type:"orders"}),l.jsx(pe,{title:"Total Items Sold",value:_.totalItems||0,currency:"",comparisonData:null,icon:"",type:"orders"})]})]}),l.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Pure In-Store Sales (Walk-in Customers)"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"The Hobbyman (Narre Warren)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{title:"Revenue",value:((L=_.hobbyman)==null?void 0:L.revenue)||0,currency:"$",comparisonData:null,icon:"",type:"sales"}),l.jsx(pe,{title:"Orders",value:((z=_.hobbyman)==null?void 0:z.orderCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"}),l.jsx(pe,{title:"Items Sold",value:((H=_.hobbyman)==null?void 0:H.itemCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Hearns Hobbies (Melbourne CBD)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{title:"Revenue",value:((U=_.hearnsHobbies)==null?void 0:U.revenue)||0,currency:"$",comparisonData:null,icon:"",type:"sales"}),l.jsx(pe,{title:"Orders",value:((S=_.hearnsHobbies)==null?void 0:S.orderCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"}),l.jsx(pe,{title:"Items Sold",value:((R=_.hearnsHobbies)==null?void 0:R.itemCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"})]})]})]}),l.jsxs("div",{className:"card bg-green-50 border-green-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Online Orders Fulfilled In-Store"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Online orders processed and invoiced at physical store locations"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"The Hobbyman (Fulfillment)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{title:"Revenue",value:((A=_.hobbymanFulfillment)==null?void 0:A.revenue)||0,currency:"$",comparisonData:null,icon:"",type:"sales"}),l.jsx(pe,{title:"Orders",value:((F=_.hobbymanFulfillment)==null?void 0:F.orderCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"}),l.jsx(pe,{title:"Items",value:((C=_.hobbymanFulfillment)==null?void 0:C.itemCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Hearns Hobbies (Fulfillment)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(pe,{title:"Revenue",value:((k=_.hearnsFulfillment)==null?void 0:k.revenue)||0,currency:"$",comparisonData:null,icon:"",type:"sales"}),l.jsx(pe,{title:"Orders",value:((P=_.hearnsFulfillment)==null?void 0:P.orderCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"}),l.jsx(pe,{title:"Items",value:((O=_.hearnsFulfillment)==null?void 0:O.itemCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"})]})]})]}),l.jsxs("div",{className:"card bg-purple-50 border-purple-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" Online Sales Summary (Shopify)"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Total online orders placed through Shopify"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsx(pe,{title:"Total Online Revenue",value:((D=_.shopify)==null?void 0:D.revenue)||0,currency:"$",comparisonData:null,icon:"",type:"sales"}),l.jsx(pe,{title:"Total Online Orders",value:((X=_.shopify)==null?void 0:X.orderCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"}),l.jsx(pe,{title:"Items",value:((W=_.shopify)==null?void 0:W.itemCount)||0,currency:"",comparisonData:null,icon:"",type:"orders"})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Fulfillment Status"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Fulfilled & Invoiced"}),l.jsx("span",{className:"text-2xl",children:""})]}),l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",(_.onlineFulfilledRevenue||0).toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[_.onlineFulfilledOrders||0," orders"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 border border-yellow-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Pending/Unfulfilled"}),l.jsx("span",{className:"text-2xl",children:""})]}),l.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["$",(_.onlinePendingRevenue||0).toLocaleString()]}),l.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[_.onlinePendingOrders||0," orders"]})]})]})]})]})]}),_.orderCount>0&&y==="online"&&l.jsxs("div",{className:"card bg-green-50 border-green-200",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:" Key Insights"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Orders:"}),l.jsx("span",{className:"font-semibold text-gray-900 ml-2",children:_.orderCount})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Avg Freight/Order:"}),l.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:["$",(parseFloat(_.totalFreight)/_.orderCount).toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Avg Discount/Order:"}),l.jsxs("span",{className:"font-semibold text-gray-900 ml-2",children:["$",(parseFloat(_.totalDiscounts)/_.orderCount).toFixed(2)]})]})]})]}),(y==="online"&&_.orderCount===0||y==="channels"&&_.totalOrders===0)&&l.jsx("div",{className:"card bg-yellow-50 border-yellow-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-900",children:"No Orders Found"}),l.jsx("p",{className:"text-yellow-700 text-sm",children:"There are no orders in the selected period."})]})]})})]})]})}function Dg({order:e}){if(!e)return null;const t=()=>{const n=window.open("","_blank","width=800,height=600"),r=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Order ${e.orderName||""} - Print</title>
          <style>
            body {
              font-family: system-ui, -apple-system, sans-serif;
              padding: 20px;
              max-width: 800px;
              margin: 0 auto;
            }
            h1 { font-size: 24px; margin-bottom: 20px; }
            h2 { font-size: 18px; margin-top: 20px; margin-bottom: 10px; }
            .section {
              margin-bottom: 20px;
              padding: 15px;
              border: 1px solid #e5e7eb;
              border-radius: 8px;
            }
            .customer-info { background-color: #eff6ff; }
            .shipping-address { background-color: #f0fdf4; }
            .order-notes { background-color: #fef3c7; }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 10px;
            }
            th, td {
              padding: 8px;
              text-align: left;
              border-bottom: 1px solid #e5e7eb;
            }
            th {
              background-color: #f9fafb;
              font-weight: 600;
            }
            .text-right { text-align: right; }
            .font-mono { font-family: monospace; }
            @media print {
              body { padding: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <h1>Order ${e.orderName||"N/A"}</h1>

          <div class="section customer-info">
            <h2>Customer Information</h2>
            <p><strong>Name:</strong> ${e.customerName||"N/A"}</p>
            <p><strong>Email:</strong> ${e.customerEmail||"N/A"}</p>
            ${e.customerPhone?`<p><strong>Phone:</strong> ${e.customerPhone}</p>`:""}
          </div>

          <div class="section">
            <h2>Items to Fulfill</h2>
            <table>
              <thead>
                <tr>
                  <th>SKU</th>
                  <th>Product</th>
                  <th>Variant</th>
                  <th class="text-right">Quantity</th>
                  <th class="text-right">Price</th>
                  <th>Sale/Discount</th>
                </tr>
              </thead>
              <tbody>
                ${e.lineItems&&e.lineItems.length>0?e.lineItems.map(s=>`
                  <tr>
                    <td class="font-mono">${s.sku||"N/A"}</td>
                    <td>${s.title||""}</td>
                    <td>${s.variantTitle||"-"}</td>
                    <td class="text-right">${s.quantity||0}</td>
                    <td class="text-right">$${parseFloat(s.price||0).toFixed(2)}</td>
                    <td>
                      ${s.onSale?`<span> On Sale in CRS ${s.crsSalePrice?`($${parseFloat(s.crsSalePrice).toFixed(2)})`:""}</span><br>`:""}
                      ${s.discountAllocations?`<span> ${s.discountAllocations}</span>`:""}
                      ${!s.onSale&&!s.discountAllocations?"-":""}
                    </td>
                  </tr>
                `).join(""):'<tr><td colspan="6">No items found</td></tr>'}
              </tbody>
            </table>
            <p style="margin-top: 10px;"><strong>Total Items:</strong> ${e.itemCount||0}</p>
            ${e.totalDiscounts&&parseFloat(e.totalDiscounts)>0?`
              <p style="margin-top: 10px;">
                <strong>Order Discounts:</strong> -$${parseFloat(e.totalDiscounts).toFixed(2)}
                ${e.discountCodes?` (${e.discountCodes})`:""}
              </p>
              ${e.subtotalPrice?`
                <p style="font-size: 14px; color: #666;">
                  Subtotal: $${parseFloat(e.subtotalPrice).toFixed(2)} 
                  Final: $${parseFloat(e.totalPrice).toFixed(2)}
                </p>
              `:""}
            `:""}
          </div>

          ${e.shippingAddress?`
            <div class="section shipping-address">
              <h2>Shipping Address</h2>
              <pre style="white-space: pre-line; font-family: inherit; margin: 0;">${e.shippingAddress}</pre>
            </div>
          `:""}

          ${e.note?`
            <div class="section order-notes">
              <h2>Order Notes</h2>
              <p>${e.note}</p>
            </div>
          `:""}

          <div class="no-print" style="margin-top: 30px; text-align: center;">
            <button onclick="window.print()" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">Print</button>
            <button onclick="window.close()" style="padding: 10px 20px; font-size: 16px; cursor: pointer; margin-left: 10px;">Close</button>
          </div>
        </body>
      </html>
    `;n.document.write(r),n.document.close(),n.onload=()=>{n.print()}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-end print:hidden",children:l.jsxs("button",{onClick:t,className:"btn-primary flex items-center gap-2",children:[l.jsx("span",{children:""}),"Print Order"]})}),l.jsxs("div",{className:"card bg-blue-50 border-blue-200",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Customer Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Name:"}),l.jsx("span",{className:"ml-2 font-medium",children:e.customerName||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Email:"}),l.jsx("span",{className:"ml-2 font-medium",children:e.customerEmail||"N/A"})]}),e.customerPhone&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Phone:"}),l.jsx("span",{className:"ml-2 font-medium",children:e.customerPhone})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Items to Fulfill"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Variant"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),l.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Price"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Sale/Discount"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.lineItems&&e.lineItems.length>0?e.lineItems.map((n,r)=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm font-mono text-gray-900",children:n.sku||"N/A"}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:n.title}),l.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:n.variantTitle||"-"}),l.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:n.quantity}),l.jsxs("td",{className:"px-4 py-3 text-sm text-right",children:["$",parseFloat(n.price||0).toFixed(2)]}),l.jsx("td",{className:"px-4 py-3 text-sm",children:l.jsxs("div",{className:"space-y-1",children:[n.onSale&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:" On Sale in CRS"}),n.crsSalePrice&&l.jsxs("span",{className:"text-xs text-gray-600",children:["$",parseFloat(n.crsSalePrice).toFixed(2)]})]}),n.discountAllocations&&l.jsxs("div",{className:"text-xs text-green-700 font-medium",children:[" ",n.discountAllocations]}),!n.onSale&&!n.discountAllocations&&l.jsx("span",{className:"text-xs text-gray-400",children:"-"})]})})]},n.lineItemId||r)):l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No items found"})})})]})}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Items:"}),l.jsx("span",{className:"text-lg font-bold text-gray-900",children:e.itemCount||0})]}),e.totalDiscounts&&parseFloat(e.totalDiscounts)>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order Discounts:"}),e.discountCodes&&l.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",e.discountCodes,")"]})]}),l.jsxs("span",{className:"text-lg font-bold text-green-600",children:["-$",parseFloat(e.totalDiscounts).toFixed(2)]})]}),e.subtotalPrice&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Subtotal: $",parseFloat(e.subtotalPrice).toFixed(2),"  Final: $",parseFloat(e.totalPrice).toFixed(2)]})]})]}),e.shippingAddress&&l.jsxs("div",{className:"card bg-green-50 border-green-200",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Shipping Address"}),l.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:e.shippingAddress})]}),e.note&&l.jsxs("div",{className:"card bg-yellow-50 border-yellow-200",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Order Notes"}),l.jsx("div",{className:"text-sm text-gray-700",children:e.note})]})]})}Dg.propTypes={order:oe.shape({customerName:oe.string,customerEmail:oe.string,customerPhone:oe.string,lineItems:oe.arrayOf(oe.shape({lineItemId:oe.string,sku:oe.string,title:oe.string,variantTitle:oe.string,quantity:oe.number,price:oe.oneOfType([oe.string,oe.number])})),itemCount:oe.number,shippingAddress:oe.string,note:oe.string})};function hS(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,o]=b.useState(null),[i,a]=b.useState(null),[c,u]=b.useState(""),[d,f]=b.useState(!1),[h,x]=b.useState(!1);b.useEffect(()=>{y()},[d,h]);const y=async()=>{r(!0),o(null);try{const p=await Q.getPendingFulfillments(d,h);t(p.data.data||[])}catch(p){console.error("Error fetching orders:",p),o("Failed to load orders. Please try again.")}finally{r(!1)}},g=p=>{a(i===p?null:p)},N=e.filter(p=>{var w,v,E;if(!c)return!0;const m=c.toLowerCase();return((w=p.orderName)==null?void 0:w.toLowerCase().includes(m))||((v=p.customerName)==null?void 0:v.toLowerCase().includes(m))||((E=p.customerEmail)==null?void 0:E.toLowerCase().includes(m))});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between no-print",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Orders to Fulfill"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Shopify orders pending fulfillment in CRS ERP"})]}),l.jsx("button",{onClick:y,disabled:n,className:"btn-secondary",children:n?"Refreshing...":" Refresh"})]}),l.jsx("div",{className:"card no-print",children:l.jsx("input",{type:"text",placeholder:"Search by order #, customer name, or email...",value:c,onChange:p=>u(p.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),l.jsx("div",{className:"card no-print bg-blue-50 border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Optional Data Loading"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Enable these options to load additional data (may slow down initial load)"})]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:d,onChange:p=>f(p.target.checked),className:"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Discounts "})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:p=>x(p.target.checked),className:"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Sale Prices "})]})]})]})}),s&&l.jsx("div",{className:"card bg-red-50 border-red-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-red-900",children:"Error Loading Orders"}),l.jsx("p",{className:"text-red-700 text-sm",children:s})]})]})}),n&&l.jsx("div",{className:"card",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin text-5xl mb-4",children:""}),l.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})})}),!n&&!s&&l.jsx("div",{className:"card bg-blue-50 border-blue-200 no-print",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-gray-900",children:[N.length," ",N.length===1?"Order":"Orders"," Pending Fulfillment"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c&&`Filtered from ${e.length} total orders`})]}),N.length>0&&l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:["$",N.reduce((p,m)=>p+parseFloat(m.totalPrice||0),0).toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]})]})}),!n&&!s&&N.length>0&&l.jsx("div",{className:"space-y-4",children:N.map(p=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"cursor-pointer no-print",onClick:()=>g(p.orderId),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsx("div",{className:"text-3xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order ",p.orderName]}),p.totalDiscounts&&parseFloat(p.totalDiscounts)>0&&l.jsx("span",{className:"text-green-600",title:`Discount: $${parseFloat(p.totalDiscounts).toFixed(2)}`,children:""})]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[p.customerName,"  ",p.customerEmail]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(p.createdAt).toLocaleDateString()," at ",new Date(p.createdAt).toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-xl font-bold text-primary-600",children:["$",parseFloat(p.totalPrice||0).toFixed(2)]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[p.itemCount," ",p.itemCount===1?"item":"items"]}),l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:p.displayFulfillmentStatus||"UNFULFILLED"})})]}),l.jsx("div",{className:"ml-4 text-2xl text-gray-400",children:i===p.orderId?"":""})]})}),i===p.orderId&&l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsx(Dg,{order:p})})]},p.orderId))}),!n&&!s&&N.length===0&&l.jsx("div",{className:"card bg-green-50 border-green-200",children:l.jsxs("div",{className:"flex items-center gap-3 justify-center py-12",children:[l.jsx("span",{className:"text-5xl",children:""}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-green-900",children:c?"No matching orders found":"All orders fulfilled!"}),l.jsx("p",{className:"text-green-700 text-sm mt-1",children:c?"Try adjusting your search terms":"There are no pending orders to fulfill in CRS"})]})]})})]})}function pS(){const e=us(),[t,n]=b.useState([]),[r,s]=b.useState(!0),[o,i]=b.useState(null),[a,c]=b.useState("all");b.useEffect(()=>{u()},[a]);const u=async()=>{try{s(!0),i(null);const g=a==="active"?!0:void 0,N=await Q.getWorkflows(g);n(N.data)}catch(g){console.error("Error loading workflows:",g),i("Failed to load workflows")}finally{s(!1)}},d=async g=>{try{await Q.activateWorkflow(g),u()}catch(N){console.error("Error activating workflow:",N),i("Failed to activate workflow")}},f=async g=>{try{await Q.deactivateWorkflow(g),u()}catch(N){console.error("Error deactivating workflow:",N),i("Failed to deactivate workflow")}},h=async(g,N)=>{if(window.confirm(`Are you sure you want to delete workflow "${N}"?`))try{await Q.deleteWorkflow(g),u()}catch(p){console.error("Error deleting workflow:",p),i("Failed to delete workflow")}},x=async(g,N)=>{var p,m;if(window.confirm(`Execute workflow "${N}"?`))try{const w=await Q.executeWorkflow(g,{});w.data.success?alert(`Workflow executed successfully!

Context: ${JSON.stringify(w.data.context,null,2)}`):alert(`Workflow failed: ${w.data.error}`)}catch(w){console.error("Error executing workflow:",w),alert(`Failed to execute workflow: ${((m=(p=w.response)==null?void 0:p.data)==null?void 0:m.error)||w.message}`)}},y=t.filter(g=>a==="active"?g.isActive:a==="inactive"?!g.isActive:!0);return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading workflows..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflow Management"}),l.jsx("p",{className:"text-gray-600",children:"Create and manage multi-agent workflows with conditional logic and orchestration"})]}),l.jsx("button",{onClick:()=>e("/workflows/new"),className:"btn-primary",children:"+ Create Workflow"})]}),o&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>c("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="all"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["All Workflows (",t.length,")"]}),l.jsxs("button",{onClick:()=>c("active"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="active"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Active (",t.filter(g=>g.isActive).length,")"]}),l.jsxs("button",{onClick:()=>c("inactive"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="inactive"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Inactive (",t.filter(g=>!g.isActive).length,")"]})]})}),y.length===0?l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflows found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first workflow"}),l.jsx("button",{onClick:()=>e("/workflows/new"),className:"btn-primary",children:"Create Workflow"})]}):l.jsx("div",{className:"grid gap-6",children:y.map(g=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g.name}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.isActive?"Active":"Inactive"}),l.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:g.triggerType}),l.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:g.executionMode})]}),g.description&&l.jsx("p",{className:"text-gray-600 text-sm",children:g.description})]})}),l.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Steps:"})," ",g.stepCount||0]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Created:"})," ",new Date(g.createdAt).toLocaleDateString()]}),g.lastExecutedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Last Run:"})," ",new Date(g.lastExecutedAt).toLocaleString()]})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsx("button",{onClick:()=>e(`/workflows/${g.id}`),className:"px-3 py-2 text-sm bg-primary-50 text-primary-700 rounded hover:bg-primary-100",children:"Edit"}),l.jsx("button",{onClick:()=>x(g.id,g.name),className:"px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100",children:"Execute"}),g.isActive?l.jsx("button",{onClick:()=>f(g.id),className:"px-3 py-2 text-sm bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100",children:"Deactivate"}):l.jsx("button",{onClick:()=>d(g.id),className:"px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100",children:"Activate"}),l.jsx("button",{onClick:()=>h(g.id,g.name),className:"px-3 py-2 text-sm bg-red-50 text-red-700 rounded hover:bg-red-100 ml-auto",children:"Delete"})]})]},g.id))})]})}function Le(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Le(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Mg={exports:{}},Lg={},Fg={exports:{}},zg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=b;function mS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gS=typeof Object.is=="function"?Object.is:mS,xS=es.useState,yS=es.useEffect,vS=es.useLayoutEffect,wS=es.useDebugValue;function NS(e,t){var n=t(),r=xS({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return vS(function(){s.value=n,s.getSnapshot=t,ga(s)&&o({inst:s})},[e,n,t]),yS(function(){return ga(s)&&o({inst:s}),e(function(){ga(s)&&o({inst:s})})},[e]),wS(n),n}function ga(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gS(e,n)}catch{return!0}}function SS(e,t){return t()}var bS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SS:NS;zg.useSyncExternalStore=es.useSyncExternalStore!==void 0?es.useSyncExternalStore:bS;Fg.exports=zg;var jS=Fg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=b,ES=jS;function kS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CS=typeof Object.is=="function"?Object.is:kS,_S=ES.useSyncExternalStore,AS=Al.useRef,TS=Al.useEffect,PS=Al.useMemo,RS=Al.useDebugValue;Lg.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=AS(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=PS(function(){function c(x){if(!u){if(u=!0,d=x,x=r(x),s!==void 0&&i.hasValue){var y=i.value;if(s(y,x))return f=y}return f=x}if(y=f,CS(d,x))return y;var g=r(x);return s!==void 0&&s(y,g)?(d=x,y):(d=x,f=g)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var a=_S(e,o[0],o[1]);return TS(function(){i.hasValue=!0,i.value=a},[a]),RS(a),a};Mg.exports=Lg;var $S=Mg.exports;const IS=Wc($S),OS={},Kf=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const x=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,x))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(OS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},DS=e=>e?Kf(e):Kf,{useDebugValue:MS}=M,{useSyncExternalStoreWithSelector:LS}=IS,FS=e=>e;function Ug(e,t=FS,n){const r=LS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return MS(r),r}const Yf=(e,t)=>{const n=DS(e),r=(s,o=t)=>Ug(n,s,o);return Object.assign(r,n),r},zS=(e,t)=>e?Yf(e,t):Yf;function Re(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var US={value:()=>{}};function Tl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new bi(n)}function bi(e){this._=e}function BS(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}bi.prototype=Tl.prototype={constructor:bi,on:function(e,t){var n=this._,r=BS(e+"",n),s,o=-1,i=r.length;if(arguments.length<2){for(;++o<i;)if((s=(e=r[o]).type)&&(s=HS(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(s=(e=r[o]).type)n[s]=qf(n[s],e.name,t);else if(t==null)for(s in n)n[s]=qf(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new bi(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,o=r.length;s<o;++s)r[s].value.apply(t,n)}};function HS(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function qf(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=US,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ac="http://www.w3.org/1999/xhtml";const Gf={svg:"http://www.w3.org/2000/svg",xhtml:Ac,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Gf.hasOwnProperty(t)?{space:Gf[t],local:e}:e}function VS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ac&&t.documentElement.namespaceURI===Ac?t.createElement(e):t.createElementNS(n,e)}}function WS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bg(e){var t=Pl(e);return(t.local?WS:VS)(t)}function XS(){}function Xu(e){return e==null?XS:function(){return this.querySelector(e)}}function KS(e){typeof e!="function"&&(e=Xu(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=new Array(i),c,u,d=0;d<i;++d)(c=o[d])&&(u=e.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),a[d]=u);return new dt(r,this._parents)}function YS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function qS(){return[]}function Hg(e){return e==null?qS:function(){return this.querySelectorAll(e)}}function GS(e){return function(){return YS(e.apply(this,arguments))}}function QS(e){typeof e=="function"?e=GS(e):e=Hg(e);for(var t=this._groups,n=t.length,r=[],s=[],o=0;o<n;++o)for(var i=t[o],a=i.length,c,u=0;u<a;++u)(c=i[u])&&(r.push(e.call(c,c.__data__,u,i)),s.push(c));return new dt(r,s)}function Vg(e){return function(){return this.matches(e)}}function Wg(e){return function(t){return t.matches(e)}}var JS=Array.prototype.find;function ZS(e){return function(){return JS.call(this.children,e)}}function eb(){return this.firstElementChild}function tb(e){return this.select(e==null?eb:ZS(typeof e=="function"?e:Wg(e)))}var nb=Array.prototype.filter;function rb(){return Array.from(this.children)}function sb(e){return function(){return nb.call(this.children,e)}}function ob(e){return this.selectAll(e==null?rb:sb(typeof e=="function"?e:Wg(e)))}function ib(e){typeof e!="function"&&(e=Vg(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],c,u=0;u<i;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new dt(r,this._parents)}function Xg(e){return new Array(e.length)}function lb(){return new dt(this._enter||this._groups.map(Xg),this._parents)}function Zi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zi.prototype={constructor:Zi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ab(e){return function(){return e}}function cb(e,t,n,r,s,o){for(var i=0,a,c=t.length,u=o.length;i<u;++i)(a=t[i])?(a.__data__=o[i],r[i]=a):n[i]=new Zi(e,o[i]);for(;i<c;++i)(a=t[i])&&(s[i]=a)}function ub(e,t,n,r,s,o,i){var a,c,u=new Map,d=t.length,f=o.length,h=new Array(d),x;for(a=0;a<d;++a)(c=t[a])&&(h[a]=x=i.call(c,c.__data__,a,t)+"",u.has(x)?s[a]=c:u.set(x,c));for(a=0;a<f;++a)x=i.call(e,o[a],a,o)+"",(c=u.get(x))?(r[a]=c,c.__data__=o[a],u.delete(x)):n[a]=new Zi(e,o[a]);for(a=0;a<d;++a)(c=t[a])&&u.get(h[a])===c&&(s[a]=c)}function db(e){return e.__data__}function fb(e,t){if(!arguments.length)return Array.from(this,db);var n=t?ub:cb,r=this._parents,s=this._groups;typeof e!="function"&&(e=ab(e));for(var o=s.length,i=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],f=s[u],h=f.length,x=hb(e.call(d,d&&d.__data__,u,r)),y=x.length,g=a[u]=new Array(y),N=i[u]=new Array(y),p=c[u]=new Array(h);n(d,f,g,N,p,x,t);for(var m=0,w=0,v,E;m<y;++m)if(v=g[m]){for(m>=w&&(w=m+1);!(E=N[w])&&++w<y;);v._next=E||null}}return i=new dt(i,r),i._enter=a,i._exit=c,i}function hb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pb(){return new dt(this._exit||this._groups.map(Xg),this._parents)}function mb(e,t,n){var r=this.enter(),s=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function gb(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,o=r.length,i=Math.min(s,o),a=new Array(s),c=0;c<i;++c)for(var u=n[c],d=r[c],f=u.length,h=a[c]=new Array(f),x,y=0;y<f;++y)(x=u[y]||d[y])&&(h[y]=x);for(;c<s;++c)a[c]=n[c];return new dt(a,this._parents)}function xb(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,o=r[s],i;--s>=0;)(i=r[s])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function yb(e){e||(e=vb);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var i=n[o],a=i.length,c=s[o]=new Array(a),u,d=0;d<a;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new dt(s,this._parents).order()}function vb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Nb(){return Array.from(this)}function Sb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length;s<o;++s){var i=r[s];if(i)return i}return null}function bb(){let e=0;for(const t of this)++e;return e}function jb(){return!this.node()}function Eb(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],o=0,i=s.length,a;o<i;++o)(a=s[o])&&e.call(a,a.__data__,o,s);return this}function kb(e){return function(){this.removeAttribute(e)}}function Cb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _b(e,t){return function(){this.setAttribute(e,t)}}function Ab(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Tb(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Pb(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Rb(e,t){var n=Pl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Cb:kb:typeof t=="function"?n.local?Pb:Tb:n.local?Ab:_b)(n,t))}function Kg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $b(e){return function(){this.style.removeProperty(e)}}function Ib(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ob(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Db(e,t,n){return arguments.length>1?this.each((t==null?$b:typeof t=="function"?Ob:Ib)(e,t,n??"")):ts(this.node(),e)}function ts(e,t){return e.style.getPropertyValue(t)||Kg(e).getComputedStyle(e,null).getPropertyValue(t)}function Mb(e){return function(){delete this[e]}}function Lb(e,t){return function(){this[e]=t}}function Fb(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function zb(e,t){return arguments.length>1?this.each((t==null?Mb:typeof t=="function"?Fb:Lb)(e,t)):this.node()[e]}function Yg(e){return e.trim().split(/^|\s+/)}function Ku(e){return e.classList||new qg(e)}function qg(e){this._node=e,this._names=Yg(e.getAttribute("class")||"")}qg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Gg(e,t){for(var n=Ku(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Qg(e,t){for(var n=Ku(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function Ub(e){return function(){Gg(this,e)}}function Bb(e){return function(){Qg(this,e)}}function Hb(e,t){return function(){(t.apply(this,arguments)?Gg:Qg)(this,e)}}function Vb(e,t){var n=Yg(e+"");if(arguments.length<2){for(var r=Ku(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Hb:t?Ub:Bb)(n,t))}function Wb(){this.textContent=""}function Xb(e){return function(){this.textContent=e}}function Kb(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Yb(e){return arguments.length?this.each(e==null?Wb:(typeof e=="function"?Kb:Xb)(e)):this.node().textContent}function qb(){this.innerHTML=""}function Gb(e){return function(){this.innerHTML=e}}function Qb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Jb(e){return arguments.length?this.each(e==null?qb:(typeof e=="function"?Qb:Gb)(e)):this.node().innerHTML}function Zb(){this.nextSibling&&this.parentNode.appendChild(this)}function ej(){return this.each(Zb)}function tj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nj(){return this.each(tj)}function rj(e){var t=typeof e=="function"?e:Bg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sj(){return null}function oj(e,t){var n=typeof e=="function"?e:Bg(e),r=t==null?sj:typeof t=="function"?t:Xu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ij(){var e=this.parentNode;e&&e.removeChild(this)}function lj(){return this.each(ij)}function aj(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cj(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uj(e){return this.select(e?cj:aj)}function dj(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fj(e){return function(t){e.call(this,t,this.__data__)}}function hj(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function pj(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,o;n<s;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function mj(e,t,n){return function(){var r=this.__on,s,o=fj(t);if(r){for(var i=0,a=r.length;i<a;++i)if((s=r[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=t;return}}this.addEventListener(e.type,o,n),s={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(s):this.__on=[s]}}function gj(e,t,n){var r=hj(e+""),s,o=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,d;c<u;++c)for(s=0,d=a[c];s<o;++s)if((i=r[s]).type===d.type&&i.name===d.name)return d.value}return}for(a=t?mj:pj,s=0;s<o;++s)this.each(a(r[s],t,n));return this}function Jg(e,t,n){var r=Kg(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function xj(e,t){return function(){return Jg(this,e,t)}}function yj(e,t){return function(){return Jg(this,e,t.apply(this,arguments))}}function vj(e,t){return this.each((typeof t=="function"?yj:xj)(e,t))}function*wj(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,o=r.length,i;s<o;++s)(i=r[s])&&(yield i)}var Zg=[null];function dt(e,t){this._groups=e,this._parents=t}function Ro(){return new dt([[document.documentElement]],Zg)}function Nj(){return this}dt.prototype=Ro.prototype={constructor:dt,select:KS,selectAll:QS,selectChild:tb,selectChildren:ob,filter:ib,data:fb,enter:lb,exit:pb,join:mb,merge:gb,selection:Nj,order:xb,sort:yb,call:wb,nodes:Nb,node:Sb,size:bb,empty:jb,each:Eb,attr:Rb,style:Db,property:zb,classed:Vb,text:Yb,html:Jb,raise:ej,lower:nj,append:rj,insert:oj,remove:lj,clone:uj,datum:dj,on:gj,dispatch:vj,[Symbol.iterator]:wj};function gt(e){return typeof e=="string"?new dt([[document.querySelector(e)]],[document.documentElement]):new dt([[e]],Zg)}function Sj(e){let t;for(;t=e.sourceEvent;)e=t;return e}function kt(e,t){if(e=Sj(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const bj={passive:!1},ho={capture:!0,passive:!1};function xa(e){e.stopImmediatePropagation()}function Hr(e){e.preventDefault(),e.stopImmediatePropagation()}function e0(e){var t=e.document.documentElement,n=gt(e).on("dragstart.drag",Hr,ho);"onselectstart"in t?n.on("selectstart.drag",Hr,ho):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function t0(e,t){var n=e.document.documentElement,r=gt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Hr,ho),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zo=e=>()=>e;function Tc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:o,x:i,y:a,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Tc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function jj(e){return!e.ctrlKey&&!e.button}function Ej(){return this.parentNode}function kj(e,t){return t??{x:e.x,y:e.y}}function Cj(){return navigator.maxTouchPoints||"ontouchstart"in this}function _j(){var e=jj,t=Ej,n=kj,r=Cj,s={},o=Tl("start","drag","end"),i=0,a,c,u,d,f=0;function h(v){v.on("mousedown.drag",x).filter(r).on("touchstart.drag",N).on("touchmove.drag",p,bj).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(v,E){if(!(d||!e.call(this,v,E))){var j=w(this,t.call(this,v,E),v,E,"mouse");j&&(gt(v.view).on("mousemove.drag",y,ho).on("mouseup.drag",g,ho),e0(v.view),xa(v),u=!1,a=v.clientX,c=v.clientY,j("start",v))}}function y(v){if(Hr(v),!u){var E=v.clientX-a,j=v.clientY-c;u=E*E+j*j>f}s.mouse("drag",v)}function g(v){gt(v.view).on("mousemove.drag mouseup.drag",null),t0(v.view,u),Hr(v),s.mouse("end",v)}function N(v,E){if(e.call(this,v,E)){var j=v.changedTouches,T=t.call(this,v,E),_=j.length,$,L;for($=0;$<_;++$)(L=w(this,T,v,E,j[$].identifier,j[$]))&&(xa(v),L("start",v,j[$]))}}function p(v){var E=v.changedTouches,j=E.length,T,_;for(T=0;T<j;++T)(_=s[E[T].identifier])&&(Hr(v),_("drag",v,E[T]))}function m(v){var E=v.changedTouches,j=E.length,T,_;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),T=0;T<j;++T)(_=s[E[T].identifier])&&(xa(v),_("end",v,E[T]))}function w(v,E,j,T,_,$){var L=o.copy(),z=kt($||j,E),H,U,S;if((S=n.call(v,new Tc("beforestart",{sourceEvent:j,target:h,identifier:_,active:i,x:z[0],y:z[1],dx:0,dy:0,dispatch:L}),T))!=null)return H=S.x-z[0]||0,U=S.y-z[1]||0,function R(A,F,C){var k=z,P;switch(A){case"start":s[_]=R,P=i++;break;case"end":delete s[_],--i;case"drag":z=kt(C||F,E),P=i;break}L.call(A,v,new Tc(A,{sourceEvent:F,subject:S,target:h,identifier:_,active:P,x:z[0]+H,y:z[1]+U,dx:z[0]-k[0],dy:z[1]-k[1],dispatch:L}),T)}}return h.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Zo(!!v),h):e},h.container=function(v){return arguments.length?(t=typeof v=="function"?v:Zo(v),h):t},h.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Zo(v),h):n},h.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Zo(!!v),h):r},h.on=function(){var v=o.on.apply(o,arguments);return v===o?h:v},h.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,h):Math.sqrt(f)},h}function Yu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function n0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $o(){}var po=.7,el=1/po,Vr="\\s*([+-]?\\d+)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Aj=/^#([0-9a-f]{3,8})$/,Tj=new RegExp(`^rgb\\(${Vr},${Vr},${Vr}\\)$`),Pj=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),Rj=new RegExp(`^rgba\\(${Vr},${Vr},${Vr},${mo}\\)$`),$j=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${mo}\\)$`),Ij=new RegExp(`^hsl\\(${mo},${Bt},${Bt}\\)$`),Oj=new RegExp(`^hsla\\(${mo},${Bt},${Bt},${mo}\\)$`),Qf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yu($o,go,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jf,formatHex:Jf,formatHex8:Dj,formatHsl:Mj,formatRgb:Zf,toString:Zf});function Jf(){return this.rgb().formatHex()}function Dj(){return this.rgb().formatHex8()}function Mj(){return r0(this).formatHsl()}function Zf(){return this.rgb().formatRgb()}function go(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Aj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?eh(t):n===3?new et(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ei(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ei(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tj.exec(e))?new et(t[1],t[2],t[3],1):(t=Pj.exec(e))?new et(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rj.exec(e))?ei(t[1],t[2],t[3],t[4]):(t=$j.exec(e))?ei(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ij.exec(e))?rh(t[1],t[2]/100,t[3]/100,1):(t=Oj.exec(e))?rh(t[1],t[2]/100,t[3]/100,t[4]):Qf.hasOwnProperty(e)?eh(Qf[e]):e==="transparent"?new et(NaN,NaN,NaN,0):null}function eh(e){return new et(e>>16&255,e>>8&255,e&255,1)}function ei(e,t,n,r){return r<=0&&(e=t=n=NaN),new et(e,t,n,r)}function Lj(e){return e instanceof $o||(e=go(e)),e?(e=e.rgb(),new et(e.r,e.g,e.b,e.opacity)):new et}function Pc(e,t,n,r){return arguments.length===1?Lj(e):new et(e,t,n,r??1)}function et(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Yu(et,Pc,n0($o,{brighter(e){return e=e==null?el:Math.pow(el,e),new et(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new et(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new et(tr(this.r),tr(this.g),tr(this.b),tl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:th,formatHex:th,formatHex8:Fj,formatRgb:nh,toString:nh}));function th(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}`}function Fj(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}${Gn((isNaN(this.opacity)?1:this.opacity)*255)}`}function nh(){const e=tl(this.opacity);return`${e===1?"rgb(":"rgba("}${tr(this.r)}, ${tr(this.g)}, ${tr(this.b)}${e===1?")":`, ${e})`}`}function tl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gn(e){return e=tr(e),(e<16?"0":"")+e.toString(16)}function rh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _t(e,t,n,r)}function r0(e){if(e instanceof _t)return new _t(e.h,e.s,e.l,e.opacity);if(e instanceof $o||(e=go(e)),!e)return new _t;if(e instanceof _t)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,a=o-s,c=(o+s)/2;return a?(t===o?i=(n-r)/a+(n<r)*6:n===o?i=(r-t)/a+2:i=(t-n)/a+4,a/=c<.5?o+s:2-o-s,i*=60):a=c>0&&c<1?0:i,new _t(i,a,c,e.opacity)}function zj(e,t,n,r){return arguments.length===1?r0(e):new _t(e,t,n,r??1)}function _t(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Yu(_t,zj,n0($o,{brighter(e){return e=e==null?el:Math.pow(el,e),new _t(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new _t(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new et(ya(e>=240?e-240:e+120,s,r),ya(e,s,r),ya(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new _t(sh(this.h),ti(this.s),ti(this.l),tl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tl(this.opacity);return`${e===1?"hsl(":"hsla("}${sh(this.h)}, ${ti(this.s)*100}%, ${ti(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sh(e){return e=(e||0)%360,e<0?e+360:e}function ti(e){return Math.max(0,Math.min(1,e||0))}function ya(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const s0=e=>()=>e;function Uj(e,t){return function(n){return e+n*t}}function Bj(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Hj(e){return(e=+e)==1?o0:function(t,n){return n-t?Bj(t,n,e):s0(isNaN(t)?n:t)}}function o0(e,t){var n=t-e;return n?Uj(e,n):s0(isNaN(e)?t:e)}const oh=function e(t){var n=Hj(t);function r(s,o){var i=n((s=Pc(s)).r,(o=Pc(o)).r),a=n(s.g,o.g),c=n(s.b,o.b),u=o0(s.opacity,o.opacity);return function(d){return s.r=i(d),s.g=a(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function hn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Rc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,va=new RegExp(Rc.source,"g");function Vj(e){return function(){return e}}function Wj(e){return function(t){return e(t)+""}}function Xj(e,t){var n=Rc.lastIndex=va.lastIndex=0,r,s,o,i=-1,a=[],c=[];for(e=e+"",t=t+"";(r=Rc.exec(e))&&(s=va.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),a[i]?a[i]+=o:a[++i]=o),(r=r[0])===(s=s[0])?a[i]?a[i]+=s:a[++i]=s:(a[++i]=null,c.push({i,x:hn(r,s)})),n=va.lastIndex;return n<t.length&&(o=t.slice(n),a[i]?a[i]+=o:a[++i]=o),a.length<2?c[0]?Wj(c[0].x):Vj(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)a[(f=c[d]).i]=f.x(u);return a.join("")})}var ih=180/Math.PI,$c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function i0(e,t,n,r,s,o){var i,a,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,i=-i),{translateX:s,translateY:o,rotate:Math.atan2(t,e)*ih,skewX:Math.atan(c)*ih,scaleX:i,scaleY:a}}var ni;function Kj(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$c:i0(t.a,t.b,t.c,t.d,t.e,t.f)}function Yj(e){return e==null||(ni||(ni=document.createElementNS("http://www.w3.org/2000/svg","g")),ni.setAttribute("transform",e),!(e=ni.transform.baseVal.consolidate()))?$c:(e=e.matrix,i0(e.a,e.b,e.c,e.d,e.e,e.f))}function l0(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function o(u,d,f,h,x,y){if(u!==f||d!==h){var g=x.push("translate(",null,t,null,n);y.push({i:g-4,x:hn(u,f)},{i:g-2,x:hn(d,h)})}else(f||h)&&x.push("translate("+f+t+h+n)}function i(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:hn(u,d)})):d&&f.push(s(f)+"rotate("+d+r)}function a(u,d,f,h){u!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:hn(u,d)}):d&&f.push(s(f)+"skewX("+d+r)}function c(u,d,f,h,x,y){if(u!==f||d!==h){var g=x.push(s(x)+"scale(",null,",",null,")");y.push({i:g-4,x:hn(u,f)},{i:g-2,x:hn(d,h)})}else(f!==1||h!==1)&&x.push(s(x)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,f,h),i(u.rotate,d.rotate,f,h),a(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(x){for(var y=-1,g=h.length,N;++y<g;)f[(N=h[y]).i]=N.x(x);return f.join("")}}}var qj=l0(Kj,"px, ","px)","deg)"),Gj=l0(Yj,", ",")",")"),Qj=1e-12;function lh(e){return((e=Math.exp(e))+1/e)/2}function Jj(e){return((e=Math.exp(e))-1/e)/2}function Zj(e){return((e=Math.exp(2*e))-1)/(e+1)}const e2=function e(t,n,r){function s(o,i){var a=o[0],c=o[1],u=o[2],d=i[0],f=i[1],h=i[2],x=d-a,y=f-c,g=x*x+y*y,N,p;if(g<Qj)p=Math.log(h/u)/t,N=function(T){return[a+T*x,c+T*y,u*Math.exp(t*T*p)]};else{var m=Math.sqrt(g),w=(h*h-u*u+r*g)/(2*u*n*m),v=(h*h-u*u-r*g)/(2*h*n*m),E=Math.log(Math.sqrt(w*w+1)-w),j=Math.log(Math.sqrt(v*v+1)-v);p=(j-E)/t,N=function(T){var _=T*p,$=lh(E),L=u/(n*m)*($*Zj(t*_+E)-Jj(E));return[a+L*x,c+L*y,u*$/lh(t*_+E)]}}return N.duration=p*1e3*t/Math.SQRT2,N}return s.rho=function(o){var i=Math.max(.001,+o),a=i*i,c=a*a;return e(i,a,c)},s}(Math.SQRT2,2,4);var ns=0,Os=0,ks=0,a0=1e3,nl,Ds,rl=0,cr=0,Rl=0,xo=typeof performance=="object"&&performance.now?performance:Date,c0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qu(){return cr||(c0(t2),cr=xo.now()+Rl)}function t2(){cr=0}function sl(){this._call=this._time=this._next=null}sl.prototype=u0.prototype={constructor:sl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?qu():+n)+(t==null?0:+t),!this._next&&Ds!==this&&(Ds?Ds._next=this:nl=this,Ds=this),this._call=e,this._time=n,Ic()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ic())}};function u0(e,t,n){var r=new sl;return r.restart(e,t,n),r}function n2(){qu(),++ns;for(var e=nl,t;e;)(t=cr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ns}function ah(){cr=(rl=xo.now())+Rl,ns=Os=0;try{n2()}finally{ns=0,s2(),cr=0}}function r2(){var e=xo.now(),t=e-rl;t>a0&&(Rl-=t,rl=e)}function s2(){for(var e,t=nl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:nl=n);Ds=e,Ic(r)}function Ic(e){if(!ns){Os&&(Os=clearTimeout(Os));var t=e-cr;t>24?(e<1/0&&(Os=setTimeout(ah,e-xo.now()-Rl)),ks&&(ks=clearInterval(ks))):(ks||(rl=xo.now(),ks=setInterval(r2,a0)),ns=1,c0(ah))}}function ch(e,t,n){var r=new sl;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var o2=Tl("start","end","cancel","interrupt"),i2=[],d0=0,uh=1,Oc=2,ji=3,dh=4,Dc=5,Ei=6;function $l(e,t,n,r,s,o){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;l2(e,n,{name:t,index:r,group:s,on:o2,tween:i2,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:d0})}function Gu(e,t){var n=It(e,t);if(n.state>d0)throw new Error("too late; already scheduled");return n}function Ht(e,t){var n=It(e,t);if(n.state>ji)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function l2(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=u0(o,0,n.time);function o(u){n.state=uh,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var d,f,h,x;if(n.state!==uh)return c();for(d in r)if(x=r[d],x.name===n.name){if(x.state===ji)return ch(i);x.state===dh?(x.state=Ei,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[d]):+d<t&&(x.state=Ei,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[d])}if(ch(function(){n.state===ji&&(n.state=dh,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Oc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Oc){for(n.state=ji,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(x=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=x);s.length=f+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Dc,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===Dc&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Ei,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ki(e,t){var n=e.__transition,r,s,o=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){o=!1;continue}s=r.state>Oc&&r.state<Dc,r.state=Ei,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}o&&delete e.__transition}}function a2(e){return this.each(function(){ki(this,e)})}function c2(e,t){var n,r;return function(){var s=Ht(this,e),o=s.tween;if(o!==n){r=n=o;for(var i=0,a=r.length;i<a;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}s.tween=r}}function u2(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=Ht(this,e),i=o.tween;if(i!==r){s=(r=i).slice();for(var a={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=a;break}c===u&&s.push(a)}o.tween=s}}function d2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=It(this.node(),n).tween,s=0,o=r.length,i;s<o;++s)if((i=r[s]).name===e)return i.value;return null}return this.each((t==null?c2:u2)(n,e,t))}function Qu(e,t,n){var r=e._id;return e.each(function(){var s=Ht(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return It(s,r).value[t]}}function f0(e,t){var n;return(typeof t=="number"?hn:t instanceof go?oh:(n=go(t))?(t=n,oh):Xj)(e,t)}function f2(e){return function(){this.removeAttribute(e)}}function h2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function p2(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttribute(e);return i===s?null:i===r?o:o=t(r=i,n)}}function m2(e,t,n){var r,s=n+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===r?o:o=t(r=i,n)}}function g2(e,t,n){var r,s,o;return function(){var i,a=n(this),c;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=a+"",i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,a)))}}function x2(e,t,n){var r,s,o;return function(){var i,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=a+"",i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,a)))}}function y2(e,t){var n=Pl(e),r=n==="transform"?Gj:f0;return this.attrTween(e,typeof t=="function"?(n.local?x2:g2)(n,r,Qu(this,"attr."+e,t)):t==null?(n.local?h2:f2)(n):(n.local?m2:p2)(n,r,t))}function v2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function w2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function N2(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&w2(e,o)),n}return s._value=t,s}function S2(e,t){var n,r;function s(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&v2(e,o)),n}return s._value=t,s}function b2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Pl(e);return this.tween(n,(r.local?N2:S2)(r,t))}function j2(e,t){return function(){Gu(this,e).delay=+t.apply(this,arguments)}}function E2(e,t){return t=+t,function(){Gu(this,e).delay=t}}function k2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?j2:E2)(t,e)):It(this.node(),t).delay}function C2(e,t){return function(){Ht(this,e).duration=+t.apply(this,arguments)}}function _2(e,t){return t=+t,function(){Ht(this,e).duration=t}}function A2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?C2:_2)(t,e)):It(this.node(),t).duration}function T2(e,t){if(typeof t!="function")throw new Error;return function(){Ht(this,e).ease=t}}function P2(e){var t=this._id;return arguments.length?this.each(T2(t,e)):It(this.node(),t).ease}function R2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ht(this,e).ease=n}}function $2(e){if(typeof e!="function")throw new Error;return this.each(R2(this._id,e))}function I2(e){typeof e!="function"&&(e=Vg(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var o=t[s],i=o.length,a=r[s]=[],c,u=0;u<i;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new on(r,this._parents,this._name,this._id)}function O2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,o=Math.min(r,s),i=new Array(r),a=0;a<o;++a)for(var c=t[a],u=n[a],d=c.length,f=i[a]=new Array(d),h,x=0;x<d;++x)(h=c[x]||u[x])&&(f[x]=h);for(;a<r;++a)i[a]=t[a];return new on(i,this._parents,this._name,this._id)}function D2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function M2(e,t,n){var r,s,o=D2(t)?Gu:Ht;return function(){var i=o(this,e),a=i.on;a!==r&&(s=(r=a).copy()).on(t,n),i.on=s}}function L2(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(M2(n,e,t))}function F2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function z2(){return this.on("end.remove",F2(this._id))}function U2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xu(e));for(var r=this._groups,s=r.length,o=new Array(s),i=0;i<s;++i)for(var a=r[i],c=a.length,u=o[i]=new Array(c),d,f,h=0;h<c;++h)(d=a[h])&&(f=e.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,$l(u[h],t,n,h,u,It(d,n)));return new on(o,this._parents,t,n)}function B2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hg(e));for(var r=this._groups,s=r.length,o=[],i=[],a=0;a<s;++a)for(var c=r[a],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),x,y=It(d,n),g=0,N=h.length;g<N;++g)(x=h[g])&&$l(x,t,n,g,h,y);o.push(h),i.push(d)}return new on(o,i,t,n)}var H2=Ro.prototype.constructor;function V2(){return new H2(this._groups,this._parents)}function W2(e,t){var n,r,s;return function(){var o=ts(this,e),i=(this.style.removeProperty(e),ts(this,e));return o===i?null:o===n&&i===r?s:s=t(n=o,r=i)}}function h0(e){return function(){this.style.removeProperty(e)}}function X2(e,t,n){var r,s=n+"",o;return function(){var i=ts(this,e);return i===s?null:i===r?o:o=t(r=i,n)}}function K2(e,t,n){var r,s,o;return function(){var i=ts(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),ts(this,e))),i===c?null:i===r&&c===s?o:(s=c,o=t(r=i,a))}}function Y2(e,t){var n,r,s,o="style."+t,i="end."+o,a;return function(){var c=Ht(this,e),u=c.on,d=c.value[o]==null?a||(a=h0(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(i,s=d),c.on=r}}function q2(e,t,n){var r=(e+="")=="transform"?qj:f0;return t==null?this.styleTween(e,W2(e,r)).on("end.style."+e,h0(e)):typeof t=="function"?this.styleTween(e,K2(e,r,Qu(this,"style."+e,t))).each(Y2(this._id,e)):this.styleTween(e,X2(e,r,t),n).on("end.style."+e,null)}function G2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Q2(e,t,n){var r,s;function o(){var i=t.apply(this,arguments);return i!==s&&(r=(s=i)&&G2(e,i,n)),r}return o._value=t,o}function J2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Q2(e,t,n??""))}function Z2(e){return function(){this.textContent=e}}function eE(e){return function(){var t=e(this);this.textContent=t??""}}function tE(e){return this.tween("text",typeof e=="function"?eE(Qu(this,"text",e)):Z2(e==null?"":e+""))}function nE(e){return function(t){this.textContent=e.call(this,t)}}function rE(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&nE(s)),t}return r._value=e,r}function sE(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rE(e))}function oE(){for(var e=this._name,t=this._id,n=p0(),r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,c,u=0;u<a;++u)if(c=i[u]){var d=It(c,t);$l(c,e,n,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new on(r,this._parents,e,n)}function iE(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(o,i){var a={value:i},c={value:function(){--s===0&&o()}};n.each(function(){var u=Ht(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),s===0&&o()})}var lE=0;function on(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function p0(){return++lE}var Kt=Ro.prototype;on.prototype={constructor:on,select:U2,selectAll:B2,selectChild:Kt.selectChild,selectChildren:Kt.selectChildren,filter:I2,merge:O2,selection:V2,transition:oE,call:Kt.call,nodes:Kt.nodes,node:Kt.node,size:Kt.size,empty:Kt.empty,each:Kt.each,on:L2,attr:y2,attrTween:b2,style:q2,styleTween:J2,text:tE,textTween:sE,remove:z2,tween:d2,delay:k2,duration:A2,ease:P2,easeVarying:$2,end:iE,[Symbol.iterator]:Kt[Symbol.iterator]};function aE(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cE={time:null,delay:0,duration:250,ease:aE};function uE(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function dE(e){var t,n;e instanceof on?(t=e._id,e=e._name):(t=p0(),(n=cE).time=qu(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var i=r[o],a=i.length,c,u=0;u<a;++u)(c=i[u])&&$l(c,e,t,u,i,n||uE(c,t));return new on(r,this._parents,e,t)}Ro.prototype.interrupt=a2;Ro.prototype.transition=dE;const ri=e=>()=>e;function fE(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Jt(e,t,n){this.k=e,this.x=t,this.y=n}Jt.prototype={constructor:Jt,scale:function(e){return e===1?this:new Jt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Jt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var en=new Jt(1,0,0);Jt.prototype;function wa(e){e.stopImmediatePropagation()}function Cs(e){e.preventDefault(),e.stopImmediatePropagation()}function hE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function pE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fh(){return this.__zoom||en}function mE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function gE(){return navigator.maxTouchPoints||"ontouchstart"in this}function xE(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function m0(){var e=hE,t=pE,n=xE,r=mE,s=gE,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,c=e2,u=Tl("start","zoom","end"),d,f,h,x=500,y=150,g=0,N=10;function p(S){S.property("__zoom",fh).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",L).filter(s).on("touchstart.zoom",z).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(S,R,A,F){var C=S.selection?S.selection():S;C.property("__zoom",fh),S!==C?E(S,R,A,F):C.interrupt().each(function(){j(this,arguments).event(F).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},p.scaleBy=function(S,R,A,F){p.scaleTo(S,function(){var C=this.__zoom.k,k=typeof R=="function"?R.apply(this,arguments):R;return C*k},A,F)},p.scaleTo=function(S,R,A,F){p.transform(S,function(){var C=t.apply(this,arguments),k=this.__zoom,P=A==null?v(C):typeof A=="function"?A.apply(this,arguments):A,O=k.invert(P),D=typeof R=="function"?R.apply(this,arguments):R;return n(w(m(k,D),P,O),C,i)},A,F)},p.translateBy=function(S,R,A,F){p.transform(S,function(){return n(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),i)},null,F)},p.translateTo=function(S,R,A,F,C){p.transform(S,function(){var k=t.apply(this,arguments),P=this.__zoom,O=F==null?v(k):typeof F=="function"?F.apply(this,arguments):F;return n(en.translate(O[0],O[1]).scale(P.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof A=="function"?-A.apply(this,arguments):-A),k,i)},F,C)};function m(S,R){return R=Math.max(o[0],Math.min(o[1],R)),R===S.k?S:new Jt(R,S.x,S.y)}function w(S,R,A){var F=R[0]-A[0]*S.k,C=R[1]-A[1]*S.k;return F===S.x&&C===S.y?S:new Jt(S.k,F,C)}function v(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function E(S,R,A,F){S.on("start.zoom",function(){j(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(F).end()}).tween("zoom",function(){var C=this,k=arguments,P=j(C,k).event(F),O=t.apply(C,k),D=A==null?v(O):typeof A=="function"?A.apply(C,k):A,X=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),W=C.__zoom,V=typeof R=="function"?R.apply(C,k):R,J=c(W.invert(D).concat(X/W.k),V.invert(D).concat(X/V.k));return function(ee){if(ee===1)ee=V;else{var le=J(ee),ie=X/le[2];ee=new Jt(ie,D[0]-le[0]*ie,D[1]-le[1]*ie)}P.zoom(null,ee)}})}function j(S,R,A){return!A&&S.__zooming||new T(S,R)}function T(S,R){this.that=S,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,R),this.taps=0}T.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,R){return this.mouse&&S!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var R=gt(this.that).datum();u.call(S,this.that,new fE(S,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:u}),R)}};function _(S,...R){if(!e.apply(this,arguments))return;var A=j(this,R).event(S),F=this.__zoom,C=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,r.apply(this,arguments)))),k=kt(S);if(A.wheel)(A.mouse[0][0]!==k[0]||A.mouse[0][1]!==k[1])&&(A.mouse[1]=F.invert(A.mouse[0]=k)),clearTimeout(A.wheel);else{if(F.k===C)return;A.mouse=[k,F.invert(k)],ki(this),A.start()}Cs(S),A.wheel=setTimeout(P,y),A.zoom("mouse",n(w(m(F,C),A.mouse[0],A.mouse[1]),A.extent,i));function P(){A.wheel=null,A.end()}}function $(S,...R){if(h||!e.apply(this,arguments))return;var A=S.currentTarget,F=j(this,R,!0).event(S),C=gt(S.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",X,!0),k=kt(S,A),P=S.clientX,O=S.clientY;e0(S.view),wa(S),F.mouse=[k,this.__zoom.invert(k)],ki(this),F.start();function D(W){if(Cs(W),!F.moved){var V=W.clientX-P,J=W.clientY-O;F.moved=V*V+J*J>g}F.event(W).zoom("mouse",n(w(F.that.__zoom,F.mouse[0]=kt(W,A),F.mouse[1]),F.extent,i))}function X(W){C.on("mousemove.zoom mouseup.zoom",null),t0(W.view,F.moved),Cs(W),F.event(W).end()}}function L(S,...R){if(e.apply(this,arguments)){var A=this.__zoom,F=kt(S.changedTouches?S.changedTouches[0]:S,this),C=A.invert(F),k=A.k*(S.shiftKey?.5:2),P=n(w(m(A,k),F,C),t.apply(this,R),i);Cs(S),a>0?gt(this).transition().duration(a).call(E,P,F,S):gt(this).call(p.transform,P,F,S)}}function z(S,...R){if(e.apply(this,arguments)){var A=S.touches,F=A.length,C=j(this,R,S.changedTouches.length===F).event(S),k,P,O,D;for(wa(S),P=0;P<F;++P)O=A[P],D=kt(O,this),D=[D,this.__zoom.invert(D),O.identifier],C.touch0?!C.touch1&&C.touch0[2]!==D[2]&&(C.touch1=D,C.taps=0):(C.touch0=D,k=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),k&&(C.taps<2&&(f=D[0],d=setTimeout(function(){d=null},x)),ki(this),C.start())}}function H(S,...R){if(this.__zooming){var A=j(this,R).event(S),F=S.changedTouches,C=F.length,k,P,O,D;for(Cs(S),k=0;k<C;++k)P=F[k],O=kt(P,this),A.touch0&&A.touch0[2]===P.identifier?A.touch0[0]=O:A.touch1&&A.touch1[2]===P.identifier&&(A.touch1[0]=O);if(P=A.that.__zoom,A.touch1){var X=A.touch0[0],W=A.touch0[1],V=A.touch1[0],J=A.touch1[1],ee=(ee=V[0]-X[0])*ee+(ee=V[1]-X[1])*ee,le=(le=J[0]-W[0])*le+(le=J[1]-W[1])*le;P=m(P,Math.sqrt(ee/le)),O=[(X[0]+V[0])/2,(X[1]+V[1])/2],D=[(W[0]+J[0])/2,(W[1]+J[1])/2]}else if(A.touch0)O=A.touch0[0],D=A.touch0[1];else return;A.zoom("touch",n(w(P,O,D),A.extent,i))}}function U(S,...R){if(this.__zooming){var A=j(this,R).event(S),F=S.changedTouches,C=F.length,k,P;for(wa(S),h&&clearTimeout(h),h=setTimeout(function(){h=null},x),k=0;k<C;++k)P=F[k],A.touch0&&A.touch0[2]===P.identifier?delete A.touch0:A.touch1&&A.touch1[2]===P.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(P=kt(P,this),Math.hypot(f[0]-P[0],f[1]-P[1])<N)){var O=gt(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return p.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:ri(+S),p):r},p.filter=function(S){return arguments.length?(e=typeof S=="function"?S:ri(!!S),p):e},p.touchable=function(S){return arguments.length?(s=typeof S=="function"?S:ri(!!S),p):s},p.extent=function(S){return arguments.length?(t=typeof S=="function"?S:ri([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),p):t},p.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],p):[o[0],o[1]]},p.translateExtent=function(S){return arguments.length?(i[0][0]=+S[0][0],i[1][0]=+S[1][0],i[0][1]=+S[0][1],i[1][1]=+S[1][1],p):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},p.constrain=function(S){return arguments.length?(n=S,p):n},p.duration=function(S){return arguments.length?(a=+S,p):a},p.interpolate=function(S){return arguments.length?(c=S,p):c},p.on=function(){var S=u.on.apply(u,arguments);return S===u?p:S},p.clickDistance=function(S){return arguments.length?(g=(S=+S)*S,p):Math.sqrt(g)},p.tapDistance=function(S){return arguments.length?(N=+S,p):N},p}const Il=b.createContext(null),yE=Il.Provider,ln={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},g0=ln.error001();function de(e,t){const n=b.useContext(Il);if(n===null)throw new Error(g0);return Ug(n,e,t)}const Ae=()=>{const e=b.useContext(Il);if(e===null)throw new Error(g0);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},vE=e=>e.userSelectionActive?"none":"all";function Ju({position:e,children:t,className:n,style:r,...s}){const o=de(vE),i=`${e}`.split("-");return M.createElement("div",{className:Le(["react-flow__panel",n,...i]),style:{...r,pointerEvents:o},...s},t)}function wE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:M.createElement(Ju,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},M.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const NE=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:o={},labelBgPadding:i=[2,4],labelBgBorderRadius:a=2,children:c,className:u,...d})=>{const f=b.useRef(null),[h,x]=b.useState({x:0,y:0,width:0,height:0}),y=Le(["react-flow__edge-textwrapper",u]);return b.useEffect(()=>{if(f.current){const g=f.current.getBBox();x({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:M.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...d},s&&M.createElement("rect",{width:h.width+2*i[0],x:-i[0],y:-i[1],height:h.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),M.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),c)};var SE=b.memo(NE);const Zu=e=>({width:e.offsetWidth,height:e.offsetHeight}),rs=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ed=(e={x:0,y:0},t)=>({x:rs(e.x,t[0][0],t[1][0]),y:rs(e.y,t[0][1],t[1][1])}),hh=(e,t,n)=>e<t?rs(Math.abs(e-t),1,50)/50:e>n?-rs(Math.abs(e-n),1,50)/50:0,x0=(e,t)=>{const n=hh(e.x,35,t.width-35)*20,r=hh(e.y,35,t.height-35)*20;return[n,r]},y0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},v0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),yo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),w0=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ph=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),bE=(e,t)=>w0(v0(yo(e),yo(t))),Mc=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},jE=e=>yt(e.width)&&yt(e.height)&&yt(e.x)&&yt(e.y),yt=e=>!isNaN(e)&&isFinite(e),we=Symbol.for("internals"),N0=["Enter"," ","Escape"],EE=(e,t)=>{},kE=e=>"nativeEvent"in e;function Lc(e){var s,o;const t=kE(e)?e.nativeEvent:e,n=((o=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const S0=e=>"clientX"in e,Tn=(e,t)=>{var o,i;const n=S0(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,s=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},ol=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Io=({id:e,path:t,labelX:n,labelY:r,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:x=20})=>M.createElement(M.Fragment,null,M.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),x&&M.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:x,className:"react-flow__edge-interaction"}),s&&yt(n)&&yt(r)?M.createElement(SE,{x:n,y:r,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u}):null);Io.displayName="BaseEdge";function _s(e,t,n){return n===void 0?n:r=>{const s=t().edges.find(o=>o.id===e);s&&n(r,{...s})}}function b0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,o=n<e?n+s:n-s,i=Math.abs(r-t)/2,a=r<t?r+i:r-i;return[o,a,s,i]}function j0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:i,targetControlY:a}){const c=e*.125+s*.375+i*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var ur;(function(e){e.Strict="strict",e.Loose="loose"})(ur||(ur={}));var Qn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Qn||(Qn={}));var vo;(function(e){e.Partial="partial",e.Full="full"})(vo||(vo={}));var xn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(xn||(xn={}));var ss;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ss||(ss={}));var q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(q||(q={}));function mh({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===q.Left||e===q.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function E0({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:s,targetPosition:o=q.Top}){const[i,a]=mh({pos:n,x1:e,y1:t,x2:r,y2:s}),[c,u]=mh({pos:o,x1:r,y1:s,x2:e,y2:t}),[d,f,h,x]=j0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:i,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${a} ${c},${u} ${r},${s}`,d,f,h,x]}const td=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=q.Bottom,targetPosition:o=q.Top,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:x,markerStart:y,interactionWidth:g})=>{const[N,p,m]=E0({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:o});return M.createElement(Io,{path:N,labelX:p,labelY:m,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:x,markerStart:y,interactionWidth:g})});td.displayName="SimpleBezierEdge";const gh={[q.Left]:{x:-1,y:0},[q.Right]:{x:1,y:0},[q.Top]:{x:0,y:-1},[q.Bottom]:{x:0,y:1}},CE=({source:e,sourcePosition:t=q.Bottom,target:n})=>t===q.Left||t===q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},xh=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function _E({source:e,sourcePosition:t=q.Bottom,target:n,targetPosition:r=q.Top,center:s,offset:o}){const i=gh[t],a=gh[r],c={x:e.x+i.x*o,y:e.y+i.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},d=CE({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let x=[],y,g;const N={x:0,y:0},p={x:0,y:0},[m,w,v,E]=b0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[f]*a[f]===-1){y=s.x??m,g=s.y??w;const T=[{x:y,y:c.y},{x:y,y:u.y}],_=[{x:c.x,y:g},{x:u.x,y:g}];i[f]===h?x=f==="x"?T:_:x=f==="x"?_:T}else{const T=[{x:c.x,y:u.y}],_=[{x:u.x,y:c.y}];if(f==="x"?x=i.x===h?_:T:x=i.y===h?T:_,t===r){const U=Math.abs(e[f]-n[f]);if(U<=o){const S=Math.min(o-1,o-U);i[f]===h?N[f]=(c[f]>e[f]?-1:1)*S:p[f]=(u[f]>n[f]?-1:1)*S}}if(t!==r){const U=f==="x"?"y":"x",S=i[f]===a[U],R=c[U]>u[U],A=c[U]<u[U];(i[f]===1&&(!S&&R||S&&A)||i[f]!==1&&(!S&&A||S&&R))&&(x=f==="x"?T:_)}const $={x:c.x+N.x,y:c.y+N.y},L={x:u.x+p.x,y:u.y+p.y},z=Math.max(Math.abs($.x-x[0].x),Math.abs(L.x-x[0].x)),H=Math.max(Math.abs($.y-x[0].y),Math.abs(L.y-x[0].y));z>=H?(y=($.x+L.x)/2,g=x[0].y):(y=x[0].x,g=($.y+L.y)/2)}return[[e,{x:c.x+N.x,y:c.y+N.y},...x,{x:u.x+p.x,y:u.y+p.y},n],y,g,v,E]}function AE(e,t,n,r){const s=Math.min(xh(e,t)/2,xh(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return`L${o} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+s*u},${i}Q ${o},${i} ${o},${i+s*d}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${i+s*c}Q ${o},${i} ${o+s*a},${i}`}function Fc({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:s,targetPosition:o=q.Top,borderRadius:i=5,centerX:a,centerY:c,offset:u=20}){const[d,f,h,x,y]=_E({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:a,y:c},offset:u});return[d.reduce((N,p,m)=>{let w="";return m>0&&m<d.length-1?w=AE(d[m-1],p,d[m+1],i):w=`${m===0?"M":"L"}${p.x} ${p.y}`,N+=w,N},""),f,h,x,y]}const Ol=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=q.Bottom,targetPosition:h=q.Top,markerEnd:x,markerStart:y,pathOptions:g,interactionWidth:N})=>{const[p,m,w]=Fc({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return M.createElement(Io,{path:p,labelX:m,labelY:w,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:x,markerStart:y,interactionWidth:N})});Ol.displayName="SmoothStepEdge";const nd=b.memo(e=>{var t;return M.createElement(Ol,{...e,pathOptions:b.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});nd.displayName="StepEdge";function TE({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,o,i,a]=b0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,o,i,a]}const rd=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:x})=>{const[y,g,N]=TE({sourceX:e,sourceY:t,targetX:n,targetY:r});return M.createElement(Io,{path:y,labelX:g,labelY:N,label:s,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:x})});rd.displayName="StraightEdge";function si(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function yh({pos:e,x1:t,y1:n,x2:r,y2:s,c:o}){switch(e){case q.Left:return[t-si(t-r,o),n];case q.Right:return[t+si(r-t,o),n];case q.Top:return[t,n-si(n-s,o)];case q.Bottom:return[t,n+si(s-n,o)]}}function k0({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:s,targetPosition:o=q.Top,curvature:i=.25}){const[a,c]=yh({pos:n,x1:e,y1:t,x2:r,y2:s,c:i}),[u,d]=yh({pos:o,x1:r,y1:s,x2:e,y2:t,c:i}),[f,h,x,y]=j0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${c} ${u},${d} ${r},${s}`,f,h,x,y]}const il=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:s=q.Bottom,targetPosition:o=q.Top,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:x,markerStart:y,pathOptions:g,interactionWidth:N})=>{const[p,m,w]=k0({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:r,targetPosition:o,curvature:g==null?void 0:g.curvature});return M.createElement(Io,{path:p,labelX:m,labelY:w,label:i,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:x,markerStart:y,interactionWidth:N})});il.displayName="BezierEdge";const sd=b.createContext(null),PE=sd.Provider;sd.Consumer;const RE=()=>b.useContext(sd),$E=e=>"id"in e&&"source"in e&&"target"in e,IE=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,zc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,OE=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),C0=(e,t)=>{if(!e.source||!e.target)return t;let n;return $E(e)?n={...e}:n={...e,id:IE(e)},OE(n,t)?t:t.concat(n)},Uc=({x:e,y:t},[n,r,s],o,[i,a])=>{const c={x:(e-n)/s,y:(t-r)/s};return o?{x:i*Math.round(c.x/i),y:a*Math.round(c.y/a)}:c},_0=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r}),nr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-r};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:s}},Dl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const{x:o,y:i}=nr(s,t).positionAbsolute;return v0(r,yo({x:o,y:i,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return w0(n)},A0=(e,t,[n,r,s]=[0,0,1],o=!1,i=!1,a=[0,0])=>{const c={x:(t.x-n)/s,y:(t.y-r)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:x=!0,hidden:y=!1}=d;if(i&&!x||y)return!1;const{positionAbsolute:g}=nr(d,a),N={x:g.x,y:g.y,width:f||0,height:h||0},p=Mc(c,N),m=typeof f>"u"||typeof h>"u"||f===null||h===null,w=o&&p>0,v=(f||0)*(h||0);(m||w||p>=v||d.dragging)&&u.push(d)}),u},T0=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},P0=(e,t,n,r,s,o=.1)=>{const i=t/(e.width*(1+o)),a=n/(e.height*(1+o)),c=Math.min(i,a),u=rs(c,r,s),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,x=n/2-f*u;return{x:h,y:x,zoom:u}},Wn=(e,t=0)=>e.transition().duration(t);function vh(e,t,n,r){return(t[n]||[]).reduce((s,o)=>{var i,a;return`${e.id}-${o.id}-${n}`!==r&&s.push({id:o.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),s},[])}function DE(e,t,n,r,s,o){const{x:i,y:a}=Tn(e),u=t.elementsFromPoint(i,a).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const g=od(void 0,u),N=u.getAttribute("data-handleid"),p=o({nodeId:y,id:N,type:g});if(p){const m=s.find(w=>w.nodeId===y&&w.type===g&&w.id===N);return{handle:{id:N,type:g,nodeId:y,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:p}}}}let d=[],f=1/0;if(s.forEach(y=>{const g=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(g<=r){const N=o(y);g<=f&&(g<f?d=[{handle:y,validHandleResult:N}]:g===f&&d.push({handle:y,validHandleResult:N}),f=g)}}),!d.length)return{handle:null,validHandleResult:R0()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:y})=>y.isValid),x=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:g})=>x?y.type==="target":h?g.isValid:!0)||d[0]}const ME={source:null,target:null,sourceHandle:null,targetHandle:null},R0=()=>({handleDomNode:null,isValid:!1,connection:ME,endHandle:null});function $0(e,t,n,r,s,o,i){const a=s==="target",c=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...R0(),handleDomNode:c};if(c){const d=od(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),x=c.classList.contains("connectable"),y=c.classList.contains("connectableend"),g={source:a?f:n,sourceHandle:a?h:r,target:a?n:f,targetHandle:a?r:h};u.connection=g,x&&y&&(t===ur.Strict?a&&d==="source"||!a&&d==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=o(g))}return u}function LE({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((s,o)=>{if(o[we]){const{handleBounds:i}=o[we];let a=[],c=[];i&&(a=vh(o,i,"source",`${t}-${n}-${r}`),c=vh(o,i,"target",`${t}-${n}-${r}`)),s.push(...a,...c)}return s},[])}function od(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Na(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function FE(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function I0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:s,getState:o,setState:i,isValidConnection:a,edgeUpdaterType:c,onReconnectEnd:u}){const d=y0(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:x,connectionRadius:y,onConnectStart:g,panBy:N,getNodes:p,cancelConnection:m}=o();let w=0,v;const{x:E,y:j}=Tn(e),T=d==null?void 0:d.elementFromPoint(E,j),_=od(c,T),$=h==null?void 0:h.getBoundingClientRect();if(!$||!_)return;let L,z=Tn(e,$),H=!1,U=null,S=!1,R=null;const A=LE({nodes:p(),nodeId:n,handleId:t,handleType:_}),F=()=>{if(!x)return;const[P,O]=x0(z,$);N({x:P,y:O}),w=requestAnimationFrame(F)};i({connectionPosition:z,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:_});function C(P){const{transform:O}=o();z=Tn(P,$);const{handle:D,validHandleResult:X}=DE(P,d,Uc(z,O,!1,[1,1]),y,A,W=>$0(W,f,n,t,s?"target":"source",a,d));if(v=D,H||(F(),H=!0),R=X.handleDomNode,U=X.connection,S=X.isValid,i({connectionPosition:v&&S?_0({x:v.x,y:v.y},O):z,connectionStatus:FE(!!v,S),connectionEndHandle:X.endHandle}),!v&&!S&&!R)return Na(L);U.source!==U.target&&R&&(Na(L),L=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",S),R.classList.toggle("react-flow__handle-valid",S))}function k(P){var O,D;(v||R)&&U&&S&&(r==null||r(U)),(D=(O=o()).onConnectEnd)==null||D.call(O,P),c&&(u==null||u(P)),Na(L),m(),cancelAnimationFrame(w),H=!1,S=!1,U=null,R=null,d.removeEventListener("mousemove",C),d.removeEventListener("mouseup",k),d.removeEventListener("touchmove",C),d.removeEventListener("touchend",k)}d.addEventListener("mousemove",C),d.addEventListener("mouseup",k),d.addEventListener("touchmove",C),d.addEventListener("touchend",k)}const wh=()=>!0,zE=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),UE=(e,t,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:o,connectionClickStartHandle:i}=r;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},O0=b.forwardRef(({type:e="source",position:t=q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:i,onConnect:a,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},x)=>{var $,L;const y=i||null,g=e==="target",N=Ae(),p=RE(),{connectOnClick:m,noPanClassName:w}=de(zE,Re),{connecting:v,clickConnecting:E}=de(UE(p,y,e),Re);p||(L=($=N.getState()).onError)==null||L.call($,"010",ln.error010());const j=z=>{const{defaultEdgeOptions:H,onConnect:U,hasDefaultEdges:S}=N.getState(),R={...H,...z};if(S){const{edges:A,setEdges:F}=N.getState();F(C0(R,A))}U==null||U(R),a==null||a(R)},T=z=>{if(!p)return;const H=S0(z);s&&(H&&z.button===0||!H)&&I0({event:z,handleId:y,nodeId:p,onConnect:j,isTarget:g,getState:N.getState,setState:N.setState,isValidConnection:n||N.getState().isValidConnection||wh}),H?d==null||d(z):f==null||f(z)},_=z=>{const{onClickConnectStart:H,onClickConnectEnd:U,connectionClickStartHandle:S,connectionMode:R,isValidConnection:A}=N.getState();if(!p||!S&&!s)return;if(!S){H==null||H(z,{nodeId:p,handleId:y,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:p,type:e,handleId:y}});return}const F=y0(z.target),C=n||A||wh,{connection:k,isValid:P}=$0({nodeId:p,id:y,type:e},R,S.nodeId,S.handleId||null,S.type,C,F);P&&j(k),U==null||U(z),N.setState({connectionClickStartHandle:null})};return M.createElement("div",{"data-handleid":y,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${y}-${e}`,className:Le(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!g,target:g,connectable:r,connectablestart:s,connectableend:o,connecting:E,connectionindicator:r&&(s&&!v||o&&v)}]),onMouseDown:T,onTouchStart:T,onClick:m?_:void 0,ref:x,...h},c)});O0.displayName="Handle";var os=b.memo(O0);const D0=({data:e,isConnectable:t,targetPosition:n=q.Top,sourcePosition:r=q.Bottom})=>M.createElement(M.Fragment,null,M.createElement(os,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,M.createElement(os,{type:"source",position:r,isConnectable:t}));D0.displayName="DefaultNode";var Bc=b.memo(D0);const M0=({data:e,isConnectable:t,sourcePosition:n=q.Bottom})=>M.createElement(M.Fragment,null,e==null?void 0:e.label,M.createElement(os,{type:"source",position:n,isConnectable:t}));M0.displayName="InputNode";var L0=b.memo(M0);const F0=({data:e,isConnectable:t,targetPosition:n=q.Top})=>M.createElement(M.Fragment,null,M.createElement(os,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);F0.displayName="OutputNode";var z0=b.memo(F0);const id=()=>null;id.displayName="GroupNode";const BE=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),oi=e=>e.id;function HE(e,t){return Re(e.selectedNodes.map(oi),t.selectedNodes.map(oi))&&Re(e.selectedEdges.map(oi),t.selectedEdges.map(oi))}const U0=b.memo(({onSelectionChange:e})=>{const t=Ae(),{selectedNodes:n,selectedEdges:r}=de(BE,HE);return b.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChange.forEach(o=>o(s))},[n,r,e]),null});U0.displayName="SelectionListener";const VE=e=>!!e.onSelectionChange;function WE({onSelectionChange:e}){const t=de(VE);return e||t?M.createElement(U0,{onSelectionChange:e}):null}const XE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function wr(e,t){b.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function te(e,t,n){b.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const KE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:o,onConnectEnd:i,onClickConnectStart:a,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:x,elevateNodesOnSelect:y,minZoom:g,maxZoom:N,nodeExtent:p,onNodesChange:m,onEdgesChange:w,elementsSelectable:v,connectionMode:E,snapGrid:j,snapToGrid:T,translateExtent:_,connectOnClick:$,defaultEdgeOptions:L,fitView:z,fitViewOptions:H,onNodesDelete:U,onEdgesDelete:S,onNodeDrag:R,onNodeDragStart:A,onNodeDragStop:F,onSelectionDrag:C,onSelectionDragStart:k,onSelectionDragStop:P,noPanClassName:O,nodeOrigin:D,rfId:X,autoPanOnConnect:W,autoPanOnNodeDrag:V,onError:J,connectionRadius:ee,isValidConnection:le,nodeDragThreshold:ie})=>{const{setNodes:se,setEdges:$e,setDefaultNodesAndEdges:ke,setMinZoom:Xe,setMaxZoom:Fe,setTranslateExtent:Ne,setNodeExtent:it,reset:ce}=de(XE,Re),G=Ae();return b.useEffect(()=>{const Ke=r==null?void 0:r.map(Vt=>({...Vt,...L}));return ke(n,Ke),()=>{ce()}},[]),te("defaultEdgeOptions",L,G.setState),te("connectionMode",E,G.setState),te("onConnect",s,G.setState),te("onConnectStart",o,G.setState),te("onConnectEnd",i,G.setState),te("onClickConnectStart",a,G.setState),te("onClickConnectEnd",c,G.setState),te("nodesDraggable",u,G.setState),te("nodesConnectable",d,G.setState),te("nodesFocusable",f,G.setState),te("edgesFocusable",h,G.setState),te("edgesUpdatable",x,G.setState),te("elementsSelectable",v,G.setState),te("elevateNodesOnSelect",y,G.setState),te("snapToGrid",T,G.setState),te("snapGrid",j,G.setState),te("onNodesChange",m,G.setState),te("onEdgesChange",w,G.setState),te("connectOnClick",$,G.setState),te("fitViewOnInit",z,G.setState),te("fitViewOnInitOptions",H,G.setState),te("onNodesDelete",U,G.setState),te("onEdgesDelete",S,G.setState),te("onNodeDrag",R,G.setState),te("onNodeDragStart",A,G.setState),te("onNodeDragStop",F,G.setState),te("onSelectionDrag",C,G.setState),te("onSelectionDragStart",k,G.setState),te("onSelectionDragStop",P,G.setState),te("noPanClassName",O,G.setState),te("nodeOrigin",D,G.setState),te("rfId",X,G.setState),te("autoPanOnConnect",W,G.setState),te("autoPanOnNodeDrag",V,G.setState),te("onError",J,G.setState),te("connectionRadius",ee,G.setState),te("isValidConnection",le,G.setState),te("nodeDragThreshold",ie,G.setState),wr(e,se),wr(t,$e),wr(g,Xe),wr(N,Fe),wr(_,Ne),wr(p,it),null},Nh={display:"none"},YE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},B0="react-flow__node-desc",H0="react-flow__edge-desc",qE="react-flow__aria-live",GE=e=>e.ariaLiveMessage;function QE({rfId:e}){const t=de(GE);return M.createElement("div",{id:`${qE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:YE},t)}function JE({rfId:e,disableKeyboardA11y:t}){return M.createElement(M.Fragment,null,M.createElement("div",{id:`${B0}-${e}`,style:Nh},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),M.createElement("div",{id:`${H0}-${e}`,style:Nh},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&M.createElement(QE,{rfId:e}))}var wo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=b.useState(!1),s=b.useRef(!1),o=b.useRef(new Set([])),[i,a]=b.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return b.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=x=>{if(s.current=x.ctrlKey||x.metaKey||x.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Lc(x))return!1;const g=bh(x.code,a);o.current.add(x[g]),Sh(i,o.current,!1)&&(x.preventDefault(),r(!0))},f=x=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Lc(x))return!1;const g=bh(x.code,a);Sh(i,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(x[g]),x.key==="Meta"&&o.current.clear(),s.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function Sh(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function bh(e,t){return t.includes(e)?"code":"key"}function V0(e,t,n,r){var a,c;const s=e.parentNode||e.parentId;if(!s)return n;const o=t.get(s),i=nr(o,r);return V0(o,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((a=o[we])==null?void 0:a.z)??0)>(n.z??0)?((c=o[we])==null?void 0:c.z)??0:n.z??0},r)}function W0(e,t,n){e.forEach(r=>{var o;const s=r.parentNode||r.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:i,y:a,z:c}=V0(r,e,{...r.position,z:((o=r[we])==null?void 0:o.z)??0},t);r.positionAbsolute={x:i,y:a},r[we].z=c,n!=null&&n[r.id]&&(r[we].isParent=!0)}})}function Sa(e,t,n,r){const s=new Map,o={},i=r?1e3:0;return e.forEach(a=>{var x;const c=(yt(a.zIndex)?a.zIndex:0)+(a.selected?i:0),u=t.get(a.id),d={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(d,we,{enumerable:!1,value:{handleBounds:h||(x=u==null?void 0:u[we])==null?void 0:x.handleBounds,z:c}}),s.set(a.id,d)}),W0(s,n,o),s}function X0(e,t={}){const{getNodes:n,width:r,height:s,minZoom:o,maxZoom:i,d3Zoom:a,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(a&&c&&(h||!t.initial)){const y=n().filter(N=>{var m;const p=t.includeHiddenNodes?N.width&&N.height:!N.hidden;return(m=t.nodes)!=null&&m.length?p&&t.nodes.some(w=>w.id===N.id):p}),g=y.every(N=>N.width&&N.height);if(y.length>0&&g){const N=Dl(y,f),{x:p,y:m,zoom:w}=P0(N,r,s,t.minZoom??o,t.maxZoom??i,t.padding??.1),v=en.translate(p,m).scale(w);return typeof t.duration=="number"&&t.duration>0?a.transform(Wn(c,t.duration),v):a.transform(c,v),!0}}return!1}function ZE(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[we]:r[we],selected:n.selected})}),new Map(t)}function ek(e,t){return t.map(n=>{const r=e.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function ii({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:s,edges:o,onNodesChange:i,onEdgesChange:a,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:ZE(e,s)}),i==null||i(e)),t!=null&&t.length&&(u&&r({edges:ek(t,o)}),a==null||a(t))}const Nr=()=>{},tk={zoomIn:Nr,zoomOut:Nr,zoomTo:Nr,getZoom:()=>1,setViewport:Nr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Nr,fitBounds:Nr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},nk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),rk=()=>{const e=Ae(),{d3Zoom:t,d3Selection:n}=de(nk,Re);return b.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Wn(n,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(Wn(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,o)=>t.scaleTo(Wn(n,o==null?void 0:o.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,o)=>{const[i,a,c]=e.getState().transform,u=en.translate(s.x??i,s.y??a).scale(s.zoom??c);t.transform(Wn(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[s,o,i]=e.getState().transform;return{x:s,y:o,zoom:i}},fitView:s=>X0(e.getState,s),setCenter:(s,o,i)=>{const{width:a,height:c,maxZoom:u}=e.getState(),d=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:u,f=a/2-s*d,h=c/2-o*d,x=en.translate(f,h).scale(d);t.transform(Wn(n,i==null?void 0:i.duration),x)},fitBounds:(s,o)=>{const{width:i,height:a,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=P0(s,i,a,c,u,(o==null?void 0:o.padding)??.1),x=en.translate(d,f).scale(h);t.transform(Wn(n,o==null?void 0:o.duration),x)},project:s=>{const{transform:o,snapToGrid:i,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Uc(s,o,i,a)},screenToFlowPosition:s=>{const{transform:o,snapToGrid:i,snapGrid:a,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),f={x:s.x-u,y:s.y-d};return Uc(f,o,i,a)},flowToScreenPosition:s=>{const{transform:o,domNode:i}=e.getState();if(!i)return s;const{x:a,y:c}=i.getBoundingClientRect(),u=_0(s,o);return{x:u.x+a,y:u.y+c}},viewportInitialized:!0}:tk,[t,n])};function ld(){const e=rk(),t=Ae(),n=b.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=b.useCallback(g=>t.getState().nodeInternals.get(g),[]),s=b.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(N=>({...N}))},[]),o=b.useCallback(g=>{const{edges:N=[]}=t.getState();return N.find(p=>p.id===g)},[]),i=b.useCallback(g=>{const{getNodes:N,setNodes:p,hasDefaultNodes:m,onNodesChange:w}=t.getState(),v=N(),E=typeof g=="function"?g(v):g;if(m)p(E);else if(w){const j=E.length===0?v.map(T=>({type:"remove",id:T.id})):E.map(T=>({item:T,type:"reset"}));w(j)}},[]),a=b.useCallback(g=>{const{edges:N=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:w}=t.getState(),v=typeof g=="function"?g(N):g;if(m)p(v);else if(w){const E=v.length===0?N.map(j=>({type:"remove",id:j.id})):v.map(j=>({item:j,type:"reset"}));w(E)}},[]),c=b.useCallback(g=>{const N=Array.isArray(g)?g:[g],{getNodes:p,setNodes:m,hasDefaultNodes:w,onNodesChange:v}=t.getState();if(w){const j=[...p(),...N];m(j)}else if(v){const E=N.map(j=>({item:j,type:"add"}));v(E)}},[]),u=b.useCallback(g=>{const N=Array.isArray(g)?g:[g],{edges:p=[],setEdges:m,hasDefaultEdges:w,onEdgesChange:v}=t.getState();if(w)m([...p,...N]);else if(v){const E=N.map(j=>({item:j,type:"add"}));v(E)}},[]),d=b.useCallback(()=>{const{getNodes:g,edges:N=[],transform:p}=t.getState(),[m,w,v]=p;return{nodes:g().map(E=>({...E})),edges:N.map(E=>({...E})),viewport:{x:m,y:w,zoom:v}}},[]),f=b.useCallback(({nodes:g,edges:N})=>{const{nodeInternals:p,getNodes:m,edges:w,hasDefaultNodes:v,hasDefaultEdges:E,onNodesDelete:j,onEdgesDelete:T,onNodesChange:_,onEdgesChange:$}=t.getState(),L=(g||[]).map(R=>R.id),z=(N||[]).map(R=>R.id),H=m().reduce((R,A)=>{const F=A.parentNode||A.parentId,C=!L.includes(A.id)&&F&&R.find(P=>P.id===F);return(typeof A.deletable=="boolean"?A.deletable:!0)&&(L.includes(A.id)||C)&&R.push(A),R},[]),U=w.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),S=U.filter(R=>z.includes(R.id));if(H||S){const R=T0(H,U),A=[...S,...R],F=A.reduce((C,k)=>(C.includes(k.id)||C.push(k.id),C),[]);if((E||v)&&(E&&t.setState({edges:w.filter(C=>!F.includes(C.id))}),v&&(H.forEach(C=>{p.delete(C.id)}),t.setState({nodeInternals:new Map(p)}))),F.length>0&&(T==null||T(A),$&&$(F.map(C=>({id:C,type:"remove"})))),H.length>0&&(j==null||j(H),_)){const C=H.map(k=>({id:k.id,type:"remove"}));_(C)}}},[]),h=b.useCallback(g=>{const N=jE(g),p=N?null:t.getState().nodeInternals.get(g.id);return!N&&!p?[null,null,N]:[N?g:ph(p),p,N]},[]),x=b.useCallback((g,N=!0,p)=>{const[m,w,v]=h(g);return m?(p||t.getState().getNodes()).filter(E=>{if(!v&&(E.id===w.id||!E.positionAbsolute))return!1;const j=ph(E),T=Mc(j,m);return N&&T>0||T>=m.width*m.height}):[]},[]),y=b.useCallback((g,N,p=!0)=>{const[m]=h(g);if(!m)return!1;const w=Mc(m,N);return p&&w>0||w>=m.width*m.height},[]);return b.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:s,getEdge:o,setNodes:i,setEdges:a,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:x,isNodeIntersecting:y}),[e,n,r,s,o,i,a,c,u,d,f,x,y])}const sk={actInsideInputWithModifier:!1};var ok=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ae(),{deleteElements:r}=ld(),s=wo(e,sk),o=wo(t);b.useEffect(()=>{if(s){const{edges:i,getNodes:a}=n.getState(),c=a().filter(d=>d.selected),u=i.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),b.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function ik(e){const t=Ae();b.useEffect(()=>{let n;const r=()=>{var o,i;if(!e.current)return;const s=Zu(e.current);(s.height===0||s.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",ln.error004())),t.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const ad={position:"absolute",width:"100%",height:"100%",top:0,left:0},lk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,li=e=>({x:e.x,y:e.y,zoom:e.k}),Sr=(e,t)=>e.target.closest(`.${t}`),jh=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Eh=e=>{const t=e.ctrlKey&&ol()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},ak=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),ck=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:o=!0,panOnScroll:i=!1,panOnScrollSpeed:a=.5,panOnScrollMode:c=Qn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:x,minZoom:y,maxZoom:g,zoomActivationKeyCode:N,preventScrolling:p=!0,children:m,noWheelClassName:w,noPanClassName:v})=>{const E=b.useRef(),j=Ae(),T=b.useRef(!1),_=b.useRef(!1),$=b.useRef(null),L=b.useRef({x:0,y:0,zoom:0}),{d3Zoom:z,d3Selection:H,d3ZoomHandler:U,userSelectionActive:S}=de(ak,Re),R=wo(N),A=b.useRef(0),F=b.useRef(!1),C=b.useRef();return ik($),b.useEffect(()=>{if($.current){const k=$.current.getBoundingClientRect(),P=m0().scaleExtent([y,g]).translateExtent(x),O=gt($.current).call(P),D=en.translate(h.x,h.y).scale(rs(h.zoom,y,g)),X=[[0,0],[k.width,k.height]],W=P.constrain()(D,X,x);P.transform(O,W),P.wheelDelta(Eh),j.setState({d3Zoom:P,d3Selection:O,d3ZoomHandler:O.on("wheel.zoom"),transform:[W.x,W.y,W.k],domNode:$.current.closest(".react-flow")})}},[]),b.useEffect(()=>{H&&z&&(i&&!R&&!S?H.on("wheel.zoom",k=>{if(Sr(k,w))return!1;k.preventDefault(),k.stopImmediatePropagation();const P=H.property("__zoom").k||1;if(k.ctrlKey&&o){const le=kt(k),ie=Eh(k),se=P*Math.pow(2,ie);z.scaleTo(H,se,le,k);return}const O=k.deltaMode===1?20:1;let D=c===Qn.Vertical?0:k.deltaX*O,X=c===Qn.Horizontal?0:k.deltaY*O;!ol()&&k.shiftKey&&c!==Qn.Vertical&&(D=k.deltaY*O,X=0),z.translateBy(H,-(D/P)*a,-(X/P)*a,{internal:!0});const W=li(H.property("__zoom")),{onViewportChangeStart:V,onViewportChange:J,onViewportChangeEnd:ee}=j.getState();clearTimeout(C.current),F.current||(F.current=!0,t==null||t(k,W),V==null||V(W)),F.current&&(e==null||e(k,W),J==null||J(W),C.current=setTimeout(()=>{n==null||n(k,W),ee==null||ee(W),F.current=!1},150))},{passive:!1}):typeof U<"u"&&H.on("wheel.zoom",function(k,P){if(!p&&k.type==="wheel"&&!k.ctrlKey||Sr(k,w))return null;k.preventDefault(),U.call(this,k,P)},{passive:!1}))},[S,i,c,H,z,U,R,o,p,w,t,e,n]),b.useEffect(()=>{z&&z.on("start",k=>{var D,X;if(!k.sourceEvent||k.sourceEvent.internal)return null;A.current=(D=k.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:P}=j.getState(),O=li(k.transform);T.current=!0,L.current=O,((X=k.sourceEvent)==null?void 0:X.type)==="mousedown"&&j.setState({paneDragging:!0}),P==null||P(O),t==null||t(k.sourceEvent,O)})},[z,t]),b.useEffect(()=>{z&&(S&&!T.current?z.on("zoom",null):S||z.on("zoom",k=>{var O;const{onViewportChange:P}=j.getState();if(j.setState({transform:[k.transform.x,k.transform.y,k.transform.k]}),_.current=!!(r&&jh(f,A.current??0)),(e||P)&&!((O=k.sourceEvent)!=null&&O.internal)){const D=li(k.transform);P==null||P(D),e==null||e(k.sourceEvent,D)}}))},[S,z,e,f,r]),b.useEffect(()=>{z&&z.on("end",k=>{if(!k.sourceEvent||k.sourceEvent.internal)return null;const{onViewportChangeEnd:P}=j.getState();if(T.current=!1,j.setState({paneDragging:!1}),r&&jh(f,A.current??0)&&!_.current&&r(k.sourceEvent),_.current=!1,(n||P)&&lk(L.current,k.transform)){const O=li(k.transform);L.current=O,clearTimeout(E.current),E.current=setTimeout(()=>{P==null||P(O),n==null||n(k.sourceEvent,O)},i?150:0)}})},[z,i,f,n,r]),b.useEffect(()=>{z&&z.filter(k=>{const P=R||s,O=o&&k.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&k.button===1&&k.type==="mousedown"&&(Sr(k,"react-flow__node")||Sr(k,"react-flow__edge")))return!0;if(!f&&!P&&!i&&!u&&!o||S||!u&&k.type==="dblclick"||Sr(k,w)&&k.type==="wheel"||Sr(k,v)&&(k.type!=="wheel"||i&&k.type==="wheel"&&!R)||!o&&k.ctrlKey&&k.type==="wheel"||!P&&!i&&!O&&k.type==="wheel"||!f&&(k.type==="mousedown"||k.type==="touchstart")||Array.isArray(f)&&!f.includes(k.button)&&k.type==="mousedown")return!1;const D=Array.isArray(f)&&f.includes(k.button)||!k.button||k.button<=1;return(!k.ctrlKey||k.type==="wheel")&&D})},[S,z,s,o,i,u,f,d,R]),M.createElement("div",{className:"react-flow__renderer",ref:$,style:ad},m)},uk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function dk(){const{userSelectionActive:e,userSelectionRect:t}=de(uk,Re);return e&&t?M.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function kh(e,t){const n=t.parentNode||t.parentId,r=e.find(s=>s.id===n);if(r){const s=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(s>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),o>0&&(r.style.height+=o),t.position.x<0){const i=Math.abs(t.position.x);r.position.x=r.position.x-i,r.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);r.position.y=r.position.y-i,r.style.height+=i,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function K0(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,s)=>{const o=e.filter(a=>a.id===s.id);if(o.length===0)return r.push(s),r;const i={...s};for(const a of o)if(a)switch(a.type){case"select":{i.selected=a.selected;break}case"position":{typeof a.position<"u"&&(i.position=a.position),typeof a.positionAbsolute<"u"&&(i.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(i.dragging=a.dragging),i.expandParent&&kh(r,i);break}case"dimensions":{typeof a.dimensions<"u"&&(i.width=a.dimensions.width,i.height=a.dimensions.height),typeof a.updateStyle<"u"&&(i.style={...i.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(i.resizing=a.resizing),i.expandParent&&kh(r,i);break}case"remove":return r}return r.push(i),r},n)}function Y0(e,t){return K0(e,t)}function fk(e,t){return K0(e,t)}const pn=(e,t)=>({id:e,type:"select",selected:t});function Dr(e,t){return e.reduce((n,r)=>{const s=t.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(pn(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(pn(r.id,!1))),n},[])}const ba=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},hk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),q0=b.memo(({isSelecting:e,selectionMode:t=vo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:o,onPaneContextMenu:i,onPaneScroll:a,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=b.useRef(null),x=Ae(),y=b.useRef(0),g=b.useRef(0),N=b.useRef(),{userSelectionActive:p,elementsSelectable:m,dragging:w}=de(hk,Re),v=()=>{x.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,g.current=0},E=U=>{o==null||o(U),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},j=U=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){U.preventDefault();return}i==null||i(U)},T=a?U=>a(U):void 0,_=U=>{const{resetSelectedElements:S,domNode:R}=x.getState();if(N.current=R==null?void 0:R.getBoundingClientRect(),!m||!e||U.button!==0||U.target!==h.current||!N.current)return;const{x:A,y:F}=Tn(U,N.current);S(),x.setState({userSelectionRect:{width:0,height:0,startX:A,startY:F,x:A,y:F}}),r==null||r(U)},$=U=>{const{userSelectionRect:S,nodeInternals:R,edges:A,transform:F,onNodesChange:C,onEdgesChange:k,nodeOrigin:P,getNodes:O}=x.getState();if(!e||!N.current||!S)return;x.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=Tn(U,N.current),X=S.startX??0,W=S.startY??0,V={...S,x:D.x<X?D.x:X,y:D.y<W?D.y:W,width:Math.abs(D.x-X),height:Math.abs(D.y-W)},J=O(),ee=A0(R,V,F,t===vo.Partial,!0,P),le=T0(ee,A).map(se=>se.id),ie=ee.map(se=>se.id);if(y.current!==ie.length){y.current=ie.length;const se=Dr(J,ie);se.length&&(C==null||C(se))}if(g.current!==le.length){g.current=le.length;const se=Dr(A,le);se.length&&(k==null||k(se))}x.setState({userSelectionRect:V})},L=U=>{if(U.button!==0)return;const{userSelectionRect:S}=x.getState();!p&&S&&U.target===h.current&&(E==null||E(U)),x.setState({nodesSelectionActive:y.current>0}),v(),s==null||s(U)},z=U=>{p&&(x.setState({nodesSelectionActive:y.current>0}),s==null||s(U)),v()},H=m&&(e||p);return M.createElement("div",{className:Le(["react-flow__pane",{dragging:w,selection:e}]),onClick:H?void 0:ba(E,h),onContextMenu:ba(j,h),onWheel:ba(T,h),onMouseEnter:H?void 0:c,onMouseDown:H?_:void 0,onMouseMove:H?$:u,onMouseUp:H?L:void 0,onMouseLeave:H?z:d,ref:h,style:ad},f,M.createElement(dk,null))});q0.displayName="Pane";function G0(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:G0(r,t):!1}function Ch(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function pk(e,t,n,r){return Array.from(e.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!G0(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var o,i;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=s.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((i=s.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function mk(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Q0(e,t,n,r,s=[0,0],o){const i=mk(e,e.extent||r);let a=i;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:h,y:x}=nr(f,s).positionAbsolute;a=f&&yt(h)&&yt(x)&&yt(f.width)&&yt(f.height)?[[h+e.width*s[0],x+e.height*s[1]],[h+f.width-e.width+e.width*s[0],x+f.height-e.height+e.height*s[1]]]:a}else o==null||o("005",ln.error005()),a=i;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:h,y:x}=nr(f,s).positionAbsolute;a=[[e.extent[0][0]+h,e.extent[0][1]+x],[e.extent[1][0]+h,e.extent[1][1]+x]]}let u={x:0,y:0};if(c){const f=n.get(c);u=nr(f,s).positionAbsolute}const d=a&&a!=="parent"?ed(t,a):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function ja({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?r.find(s=>s.id===e):r[0],r]}const _h=(e,t,n,r)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const o=Array.from(s),i=t.getBoundingClientRect(),a={x:i.width*r[0],y:i.height*r[1]};return o.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-i.left-a.x)/n,y:(u.top-i.top-a.y)/n,...Zu(c)}})};function As(e,t,n){return n===void 0?n:r=>{const s=t().nodeInternals.get(e);s&&n(r,{...s})}}function Hc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:i,nodeInternals:a,onError:c}=t.getState(),u=a.get(e);if(!u){c==null||c("012",ln.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&i)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function gk(){const e=Ae();return b.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:o}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,c={x:(i-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:o?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function Ea(e){return(t,n,r)=>e==null?void 0:e(t,r)}function J0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,selectNodesOnDrag:i}){const a=Ae(),[c,u]=b.useState(!1),d=b.useRef([]),f=b.useRef({x:null,y:null}),h=b.useRef(0),x=b.useRef(null),y=b.useRef({x:0,y:0}),g=b.useRef(null),N=b.useRef(!1),p=b.useRef(!1),m=b.useRef(!1),w=gk();return b.useEffect(()=>{if(e!=null&&e.current){const v=gt(e.current),E=({x:_,y:$})=>{const{nodeInternals:L,onNodeDrag:z,onSelectionDrag:H,updateNodePositions:U,nodeExtent:S,snapGrid:R,snapToGrid:A,nodeOrigin:F,onError:C}=a.getState();f.current={x:_,y:$};let k=!1,P={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&S){const D=Dl(d.current,F);P=yo(D)}if(d.current=d.current.map(D=>{const X={x:_-D.distance.x,y:$-D.distance.y};A&&(X.x=R[0]*Math.round(X.x/R[0]),X.y=R[1]*Math.round(X.y/R[1]));const W=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];d.current.length>1&&S&&!D.extent&&(W[0][0]=D.positionAbsolute.x-P.x+S[0][0],W[1][0]=D.positionAbsolute.x+(D.width??0)-P.x2+S[1][0],W[0][1]=D.positionAbsolute.y-P.y+S[0][1],W[1][1]=D.positionAbsolute.y+(D.height??0)-P.y2+S[1][1]);const V=Q0(D,X,L,W,F,C);return k=k||D.position.x!==V.position.x||D.position.y!==V.position.y,D.position=V.position,D.positionAbsolute=V.positionAbsolute,D}),!k)return;U(d.current,!0,!0),u(!0);const O=s?z:Ea(H);if(O&&g.current){const[D,X]=ja({nodeId:s,dragItems:d.current,nodeInternals:L});O(g.current,D,X)}},j=()=>{if(!x.current)return;const[_,$]=x0(y.current,x.current);if(_!==0||$!==0){const{transform:L,panBy:z}=a.getState();f.current.x=(f.current.x??0)-_/L[2],f.current.y=(f.current.y??0)-$/L[2],z({x:_,y:$})&&E(f.current)}h.current=requestAnimationFrame(j)},T=_=>{var F;const{nodeInternals:$,multiSelectionActive:L,nodesDraggable:z,unselectNodesAndEdges:H,onNodeDragStart:U,onSelectionDragStart:S}=a.getState();p.current=!0;const R=s?U:Ea(S);(!i||!o)&&!L&&s&&((F=$.get(s))!=null&&F.selected||H()),s&&o&&i&&Hc({id:s,store:a,nodeRef:e});const A=w(_);if(f.current=A,d.current=pk($,z,A,s),R&&d.current){const[C,k]=ja({nodeId:s,dragItems:d.current,nodeInternals:$});R(_.sourceEvent,C,k)}};if(t)v.on(".drag",null);else{const _=_j().on("start",$=>{const{domNode:L,nodeDragThreshold:z}=a.getState();z===0&&T($),m.current=!1;const H=w($);f.current=H,x.current=(L==null?void 0:L.getBoundingClientRect())||null,y.current=Tn($.sourceEvent,x.current)}).on("drag",$=>{var U,S;const L=w($),{autoPanOnNodeDrag:z,nodeDragThreshold:H}=a.getState();if($.sourceEvent.type==="touchmove"&&$.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!N.current&&p.current&&z&&(N.current=!0,j()),!p.current){const R=L.xSnapped-(((U=f==null?void 0:f.current)==null?void 0:U.x)??0),A=L.ySnapped-(((S=f==null?void 0:f.current)==null?void 0:S.y)??0);Math.sqrt(R*R+A*A)>H&&T($)}(f.current.x!==L.xSnapped||f.current.y!==L.ySnapped)&&d.current&&p.current&&(g.current=$.sourceEvent,y.current=Tn($.sourceEvent,x.current),E(L))}}).on("end",$=>{if(!(!p.current||m.current)&&(u(!1),N.current=!1,p.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:L,nodeInternals:z,onNodeDragStop:H,onSelectionDragStop:U}=a.getState(),S=s?H:Ea(U);if(L(d.current,!1,!1),S){const[R,A]=ja({nodeId:s,dragItems:d.current,nodeInternals:z});S($.sourceEvent,R,A)}}}).filter($=>{const L=$.target;return!$.button&&(!n||!Ch(L,`.${n}`,e))&&(!r||Ch(L,r,e))});return v.call(_),()=>{v.on(".drag",null)}}}},[e,t,n,r,o,a,s,i,w]),c}function Z0(){const e=Ae();return b.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:o,getNodes:i,snapToGrid:a,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=i().filter(m=>m.selected&&(m.draggable||d&&typeof m.draggable>"u")),h=a?c[0]:5,x=a?c[1]:5,y=n.isShiftPressed?4:1,g=n.x*h*y,N=n.y*x*y,p=f.map(m=>{if(m.positionAbsolute){const w={x:m.positionAbsolute.x+g,y:m.positionAbsolute.y+N};a&&(w.x=c[0]*Math.round(w.x/c[0]),w.y=c[1]*Math.round(w.y/c[1]));const{positionAbsolute:v,position:E}=Q0(m,w,r,s,void 0,u);m.position=E,m.positionAbsolute=v}return m});o(p,!0,!1)},[])}const Wr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ts=e=>{const t=({id:n,type:r,data:s,xPos:o,yPos:i,xPosOrigin:a,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:x,onContextMenu:y,onDoubleClick:g,style:N,className:p,isDraggable:m,isSelectable:w,isConnectable:v,isFocusable:E,selectNodesOnDrag:j,sourcePosition:T,targetPosition:_,hidden:$,resizeObserver:L,dragHandle:z,zIndex:H,isParent:U,noDragClassName:S,noPanClassName:R,initialized:A,disableKeyboardA11y:F,ariaLabel:C,rfId:k,hasHandleBounds:P})=>{const O=Ae(),D=b.useRef(null),X=b.useRef(null),W=b.useRef(T),V=b.useRef(_),J=b.useRef(r),ee=w||m||d||f||h||x,le=Z0(),ie=As(n,O.getState,f),se=As(n,O.getState,h),$e=As(n,O.getState,x),ke=As(n,O.getState,y),Xe=As(n,O.getState,g),Fe=ce=>{const{nodeDragThreshold:G}=O.getState();if(w&&(!j||!m||G>0)&&Hc({id:n,store:O,nodeRef:D}),d){const Ke=O.getState().nodeInternals.get(n);Ke&&d(ce,{...Ke})}},Ne=ce=>{if(!Lc(ce)&&!F)if(N0.includes(ce.key)&&w){const G=ce.key==="Escape";Hc({id:n,store:O,unselect:G,nodeRef:D})}else m&&u&&Object.prototype.hasOwnProperty.call(Wr,ce.key)&&(O.setState({ariaLiveMessage:`Moved selected node ${ce.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~i}`}),le({x:Wr[ce.key].x,y:Wr[ce.key].y,isShiftPressed:ce.shiftKey}))};b.useEffect(()=>()=>{X.current&&(L==null||L.unobserve(X.current),X.current=null)},[]),b.useEffect(()=>{if(D.current&&!$){const ce=D.current;(!A||!P||X.current!==ce)&&(X.current&&(L==null||L.unobserve(X.current)),L==null||L.observe(ce),X.current=ce)}},[$,A,P]),b.useEffect(()=>{const ce=J.current!==r,G=W.current!==T,Ke=V.current!==_;D.current&&(ce||G||Ke)&&(ce&&(J.current=r),G&&(W.current=T),Ke&&(V.current=_),O.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,T,_]);const it=J0({nodeRef:D,disabled:$||!m,noDragClassName:S,handleSelector:z,nodeId:n,isSelectable:w,selectNodesOnDrag:j});return $?null:M.createElement("div",{className:Le(["react-flow__node",`react-flow__node-${r}`,{[R]:m},p,{selected:u,selectable:w,parent:U,dragging:it}]),ref:D,style:{zIndex:H,transform:`translate(${a}px,${c}px)`,pointerEvents:ee?"all":"none",visibility:A?"visible":"hidden",...N},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ie,onMouseMove:se,onMouseLeave:$e,onContextMenu:ke,onClick:Fe,onDoubleClick:Xe,onKeyDown:E?Ne:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":F?void 0:`${B0}-${k}`,"aria-label":C},M.createElement(PE,{value:n},M.createElement(e,{id:n,data:s,type:r,xPos:o,yPos:i,selected:u,isConnectable:v,sourcePosition:T,targetPosition:_,dragging:it,dragHandle:z,zIndex:H})))};return t.displayName="NodeWrapper",b.memo(t)};const xk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Dl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function yk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ae(),{width:s,height:o,x:i,y:a,transformString:c,userSelectionActive:u}=de(xk,Re),d=Z0(),f=b.useRef(null);if(b.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),J0({nodeRef:f}),u||!s||!o)return null;const h=e?y=>{const g=r.getState().getNodes().filter(N=>N.selected);e(y,g)}:void 0,x=y=>{Object.prototype.hasOwnProperty.call(Wr,y.key)&&d({x:Wr[y.key].x,y:Wr[y.key].y,isShiftPressed:y.shiftKey})};return M.createElement("div",{className:Le(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},M.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:x,style:{width:s,height:o,top:a,left:i}}))}var vk=b.memo(yk);const wk=e=>e.nodesSelectionActive,ex=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,deleteKeyCode:a,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:x,onSelectionStart:y,onSelectionEnd:g,multiSelectionKeyCode:N,panActivationKeyCode:p,zoomActivationKeyCode:m,elementsSelectable:w,zoomOnScroll:v,zoomOnPinch:E,panOnScroll:j,panOnScrollSpeed:T,panOnScrollMode:_,zoomOnDoubleClick:$,panOnDrag:L,defaultViewport:z,translateExtent:H,minZoom:U,maxZoom:S,preventScrolling:R,onSelectionContextMenu:A,noWheelClassName:F,noPanClassName:C,disableKeyboardA11y:k})=>{const P=de(wk),O=wo(f),D=wo(p),X=D||L,W=D||j,V=O||h&&X!==!0;return ok({deleteKeyCode:a,multiSelectionKeyCode:N}),M.createElement(ck,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:v,zoomOnPinch:E,panOnScroll:W,panOnScrollSpeed:T,panOnScrollMode:_,zoomOnDoubleClick:$,panOnDrag:!O&&X,defaultViewport:z,translateExtent:H,minZoom:U,maxZoom:S,zoomActivationKeyCode:m,preventScrolling:R,noWheelClassName:F,noPanClassName:C},M.createElement(q0,{onSelectionStart:y,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:X,isSelecting:!!V,selectionMode:x},e,P&&M.createElement(vk,{onSelectionContextMenu:A,noPanClassName:C,disableKeyboardA11y:k})))};ex.displayName="FlowRenderer";var Nk=b.memo(ex);function Sk(e){return de(b.useCallback(n=>e?A0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function bk(e){const t={input:Ts(e.input||L0),default:Ts(e.default||Bc),output:Ts(e.output||z0),group:Ts(e.group||id)},n={},r=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,o)=>(s[o]=Ts(e[o]||Bc),s),n);return{...t,...r}}const jk=({x:e,y:t,width:n,height:r,origin:s})=>!n||!r?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-r*s[1]},Ek=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),tx=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:o,onError:i}=de(Ek,Re),a=Sk(e.onlyRenderVisibleElements),c=b.useRef(),u=b.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(x=>({id:x.target.getAttribute("data-id"),nodeElement:x.target,forceUpdate:!0}));o(h)});return c.current=d,d},[]);return b.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),M.createElement("div",{className:"react-flow__nodes",style:ad},a.map(d=>{var E,j,T;let f=d.type||"default";e.nodeTypes[f]||(i==null||i("003",ln.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,x=!!(d.draggable||t&&typeof d.draggable>"u"),y=!!(d.selectable||s&&typeof d.selectable>"u"),g=!!(d.connectable||n&&typeof d.connectable>"u"),N=!!(d.focusable||r&&typeof d.focusable>"u"),p=e.nodeExtent?ed(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,m=(p==null?void 0:p.x)??0,w=(p==null?void 0:p.y)??0,v=jk({x:m,y:w,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return M.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||q.Bottom,targetPosition:d.targetPosition||q.Top,hidden:d.hidden,xPos:m,yPos:w,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:x,isSelectable:y,isConnectable:g,isFocusable:N,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((E=d[we])==null?void 0:E.z)??0,isParent:!!((j=d[we])!=null&&j.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((T=d[we])!=null&&T.handleBounds)})}))};tx.displayName="NodeRenderer";var kk=b.memo(tx);const Ck=(e,t,n)=>n===q.Left?e-t:n===q.Right?e+t:e,_k=(e,t,n)=>n===q.Top?e-t:n===q.Bottom?e+t:e,Ah="react-flow__edgeupdater",Th=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:i,type:a})=>M.createElement("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:i,className:Le([Ah,`${Ah}-${a}`]),cx:Ck(t,r,e),cy:_k(n,r,e),r,stroke:"transparent",fill:"transparent"}),Ak=()=>!0;var br=e=>{const t=({id:n,className:r,type:s,data:o,onClick:i,onEdgeDoubleClick:a,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:g,style:N,source:p,target:m,sourceX:w,sourceY:v,targetX:E,targetY:j,sourcePosition:T,targetPosition:_,elementsSelectable:$,hidden:L,sourceHandleId:z,targetHandleId:H,onContextMenu:U,onMouseEnter:S,onMouseMove:R,onMouseLeave:A,reconnectRadius:F,onReconnect:C,onReconnectStart:k,onReconnectEnd:P,markerEnd:O,markerStart:D,rfId:X,ariaLabel:W,isFocusable:V,isReconnectable:J,pathOptions:ee,interactionWidth:le,disableKeyboardA11y:ie})=>{const se=b.useRef(null),[$e,ke]=b.useState(!1),[Xe,Fe]=b.useState(!1),Ne=Ae(),it=b.useMemo(()=>`url('#${zc(D,X)}')`,[D,X]),ce=b.useMemo(()=>`url('#${zc(O,X)}')`,[O,X]);if(L)return null;const G=ze=>{var Ot;const{edges:St,addSelectedEdges:Fn,unselectNodesAndEdges:zn,multiSelectionActive:Un}=Ne.getState(),Xt=St.find(ms=>ms.id===n);Xt&&($&&(Ne.setState({nodesSelectionActive:!1}),Xt.selected&&Un?(zn({nodes:[],edges:[Xt]}),(Ot=se.current)==null||Ot.blur()):Fn([n])),i&&i(ze,Xt))},Ke=_s(n,Ne.getState,a),Vt=_s(n,Ne.getState,U),hs=_s(n,Ne.getState,S),pr=_s(n,Ne.getState,R),mr=_s(n,Ne.getState,A),Wt=(ze,St)=>{if(ze.button!==0)return;const{edges:Fn,isValidConnection:zn}=Ne.getState(),Un=St?m:p,Xt=(St?H:z)||null,Ot=St?"target":"source",ms=zn||Ak,Ml=St,gs=Fn.find(Bn=>Bn.id===n);Fe(!0),k==null||k(ze,gs,Ot);const Ll=Bn=>{Fe(!1),P==null||P(Bn,gs,Ot)};I0({event:ze,handleId:Xt,nodeId:Un,onConnect:Bn=>C==null?void 0:C(gs,Bn),isTarget:Ml,getState:Ne.getState,setState:Ne.setState,isValidConnection:ms,edgeUpdaterType:Ot,onReconnectEnd:Ll})},gr=ze=>Wt(ze,!0),Mn=ze=>Wt(ze,!1),Ln=()=>ke(!0),xr=()=>ke(!1),yr=!$&&!i,ps=ze=>{var St;if(!ie&&N0.includes(ze.key)&&$){const{unselectNodesAndEdges:Fn,addSelectedEdges:zn,edges:Un}=Ne.getState();ze.key==="Escape"?((St=se.current)==null||St.blur(),Fn({edges:[Un.find(Ot=>Ot.id===n)]})):zn([n])}};return M.createElement("g",{className:Le(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:c,animated:u,inactive:yr,updating:$e}]),onClick:G,onDoubleClick:Ke,onContextMenu:Vt,onMouseEnter:hs,onMouseMove:pr,onMouseLeave:mr,onKeyDown:V?ps:void 0,tabIndex:V?0:void 0,role:V?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":W===null?void 0:W||`Edge from ${p} to ${m}`,"aria-describedby":V?`${H0}-${X}`:void 0,ref:se},!Xe&&M.createElement(e,{id:n,source:p,target:m,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:g,data:o,style:N,sourceX:w,sourceY:v,targetX:E,targetY:j,sourcePosition:T,targetPosition:_,sourceHandleId:z,targetHandleId:H,markerStart:it,markerEnd:ce,pathOptions:ee,interactionWidth:le}),J&&M.createElement(M.Fragment,null,(J==="source"||J===!0)&&M.createElement(Th,{position:T,centerX:w,centerY:v,radius:F,onMouseDown:gr,onMouseEnter:Ln,onMouseOut:xr,type:"source"}),(J==="target"||J===!0)&&M.createElement(Th,{position:_,centerX:E,centerY:j,radius:F,onMouseDown:Mn,onMouseEnter:Ln,onMouseOut:xr,type:"target"})))};return t.displayName="EdgeWrapper",b.memo(t)};function Tk(e){const t={default:br(e.default||il),straight:br(e.bezier||rd),step:br(e.step||nd),smoothstep:br(e.step||Ol),simplebezier:br(e.simplebezier||td)},n={},r=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,o)=>(s[o]=br(e[o]||il),s),n);return{...t,...r}}function Ph(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,s=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case q.Top:return{x:r+o/2,y:s};case q.Right:return{x:r+o,y:s+i/2};case q.Bottom:return{x:r+o/2,y:s+i};case q.Left:return{x:r,y:s+i/2}}}function Rh(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const Pk=(e,t,n,r,s,o)=>{const i=Ph(n,e,t),a=Ph(o,r,s);return{sourceX:i.x,sourceY:i.y,targetX:a.x,targetY:a.y}};function Rk({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:o,width:i,height:a,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=yo({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:i/c[2],height:a/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function $h(e){var r,s,o,i,a;const t=((r=e==null?void 0:e[we])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const $k=[{level:0,isMaxLevel:!0,edges:[]}];function Ik(e,t,n=!1){let r=-1;const s=e.reduce((i,a)=>{var d,f;const c=yt(a.zIndex);let u=c?a.zIndex:0;if(n){const h=t.get(a.target),x=t.get(a.source),y=a.selected||(h==null?void 0:h.selected)||(x==null?void 0:x.selected),g=Math.max(((d=x==null?void 0:x[we])==null?void 0:d.z)||0,((f=h==null?void 0:h[we])==null?void 0:f.z)||0,1e3);u=(c?a.zIndex:0)+(y?g:0)}return i[u]?i[u].push(a):i[u]=[a],r=u>r?u:r,i},{}),o=Object.entries(s).map(([i,a])=>{const c=+i;return{edges:a,level:c,isMaxLevel:c===r}});return o.length===0?$k:o}function Ok(e,t,n){const r=de(b.useCallback(s=>e?s.edges.filter(o=>{const i=t.get(o.source),a=t.get(o.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&Rk({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:a.width,targetHeight:a.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return Ik(r,t,n)}const Dk=({color:e="none",strokeWidth:t=1})=>M.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Mk=({color:e="none",strokeWidth:t=1})=>M.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ih={[ss.Arrow]:Dk,[ss.ArrowClosed]:Mk};function Lk(e){const t=Ae();return b.useMemo(()=>{var s,o;return Object.prototype.hasOwnProperty.call(Ih,e)?Ih[e]:((o=(s=t.getState()).onError)==null||o.call(s,"009",ln.error009(e)),null)},[e])}const Fk=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:a="auto-start-reverse"})=>{const c=Lk(t);return c?M.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},M.createElement(c,{color:n,strokeWidth:i})):null},zk=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((s,o)=>([o.markerStart,o.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const a=zc(i,t);r.includes(a)||(s.push({id:a,color:i.color||e,...i}),r.push(a))}}),s),[]).sort((s,o)=>s.id.localeCompare(o.id))},nx=({defaultColor:e,rfId:t})=>{const n=de(b.useCallback(zk({defaultColor:e,rfId:t}),[e,t]),(r,s)=>!(r.length!==s.length||r.some((o,i)=>o.id!==s[i].id)));return M.createElement("defs",null,n.map(r=>M.createElement(Fk,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};nx.displayName="MarkerDefinitions";var Uk=b.memo(nx);const Bk=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),rx=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:o,onEdgeContextMenu:i,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:x,onReconnectEnd:y,reconnectRadius:g,children:N,disableKeyboardA11y:p})=>{const{edgesFocusable:m,edgesUpdatable:w,elementsSelectable:v,width:E,height:j,connectionMode:T,nodeInternals:_,onError:$}=de(Bk,Re),L=Ok(t,_,n);return E?M.createElement(M.Fragment,null,L.map(({level:z,edges:H,isMaxLevel:U})=>M.createElement("svg",{key:z,style:{zIndex:z},width:E,height:j,className:"react-flow__edges react-flow__container"},U&&M.createElement(Uk,{defaultColor:e,rfId:r}),M.createElement("g",null,H.map(S=>{const[R,A,F]=$h(_.get(S.source)),[C,k,P]=$h(_.get(S.target));if(!F||!P)return null;let O=S.type||"default";s[O]||($==null||$("011",ln.error011(O)),O="default");const D=s[O]||s.default,X=T===ur.Strict?k.target:(k.target??[]).concat(k.source??[]),W=Rh(A.source,S.sourceHandle),V=Rh(X,S.targetHandle),J=(W==null?void 0:W.position)||q.Bottom,ee=(V==null?void 0:V.position)||q.Top,le=!!(S.focusable||m&&typeof S.focusable>"u"),ie=S.reconnectable||S.updatable,se=typeof h<"u"&&(ie||w&&typeof ie>"u");if(!W||!V)return $==null||$("008",ln.error008(W,S)),null;const{sourceX:$e,sourceY:ke,targetX:Xe,targetY:Fe}=Pk(R,W,J,C,V,ee);return M.createElement(D,{key:S.id,id:S.id,className:Le([S.className,o]),type:O,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:$e,sourceY:ke,targetX:Xe,targetY:Fe,sourcePosition:J,targetPosition:ee,elementsSelectable:v,onContextMenu:i,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:x,onReconnectEnd:y,reconnectRadius:g,rfId:r,ariaLabel:S.ariaLabel,isFocusable:le,isReconnectable:se,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:p})})))),N):null};rx.displayName="EdgeRenderer";var Hk=b.memo(rx);const Vk=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Wk({children:e}){const t=de(Vk);return M.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Xk(e){const t=ld(),n=b.useRef(!1);b.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Kk={[q.Left]:q.Right,[q.Right]:q.Left,[q.Top]:q.Bottom,[q.Bottom]:q.Top},sx=({nodeId:e,handleType:t,style:n,type:r=xn.Bezier,CustomComponent:s,connectionStatus:o})=>{var j,T,_;const{fromNode:i,handleId:a,toX:c,toY:u,connectionMode:d}=de(b.useCallback($=>({fromNode:$.nodeInternals.get(e),handleId:$.connectionHandleId,toX:($.connectionPosition.x-$.transform[0])/$.transform[2],toY:($.connectionPosition.y-$.transform[1])/$.transform[2],connectionMode:$.connectionMode}),[e]),Re),f=(j=i==null?void 0:i[we])==null?void 0:j.handleBounds;let h=f==null?void 0:f[t];if(d===ur.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!i||!h)return null;const x=a?h.find($=>$.id===a):h[0],y=x?x.x+x.width/2:(i.width??0)/2,g=x?x.y+x.height/2:i.height??0,N=(((T=i.positionAbsolute)==null?void 0:T.x)??0)+y,p=(((_=i.positionAbsolute)==null?void 0:_.y)??0)+g,m=x==null?void 0:x.position,w=m?Kk[m]:null;if(!m||!w)return null;if(s)return M.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:x,fromX:N,fromY:p,toX:c,toY:u,fromPosition:m,toPosition:w,connectionStatus:o});let v="";const E={sourceX:N,sourceY:p,sourcePosition:m,targetX:c,targetY:u,targetPosition:w};return r===xn.Bezier?[v]=k0(E):r===xn.Step?[v]=Fc({...E,borderRadius:0}):r===xn.SmoothStep?[v]=Fc(E):r===xn.SimpleBezier?[v]=E0(E):v=`M${N},${p} ${c},${u}`,M.createElement("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};sx.displayName="ConnectionLine";const Yk=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function qk({containerStyle:e,style:t,type:n,component:r}){const{nodeId:s,handleType:o,nodesConnectable:i,width:a,height:c,connectionStatus:u}=de(Yk,Re);return!(s&&o&&a&&i)?null:M.createElement("svg",{style:e,width:a,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},M.createElement("g",{className:Le(["react-flow__connection",u])},M.createElement(sx,{nodeId:s,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Oh(e,t){return b.useRef(null),Ae(),b.useMemo(()=>t(e),[e])}const ox=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:o,onNodeClick:i,onEdgeClick:a,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:x,onSelectionContextMenu:y,onSelectionStart:g,onSelectionEnd:N,connectionLineType:p,connectionLineStyle:m,connectionLineComponent:w,connectionLineContainerStyle:v,selectionKeyCode:E,selectionOnDrag:j,selectionMode:T,multiSelectionKeyCode:_,panActivationKeyCode:$,zoomActivationKeyCode:L,deleteKeyCode:z,onlyRenderVisibleElements:H,elementsSelectable:U,selectNodesOnDrag:S,defaultViewport:R,translateExtent:A,minZoom:F,maxZoom:C,preventScrolling:k,defaultMarkerColor:P,zoomOnScroll:O,zoomOnPinch:D,panOnScroll:X,panOnScrollSpeed:W,panOnScrollMode:V,zoomOnDoubleClick:J,panOnDrag:ee,onPaneClick:le,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:$e,onPaneScroll:ke,onPaneContextMenu:Xe,onEdgeContextMenu:Fe,onEdgeMouseEnter:Ne,onEdgeMouseMove:it,onEdgeMouseLeave:ce,onReconnect:G,onReconnectStart:Ke,onReconnectEnd:Vt,reconnectRadius:hs,noDragClassName:pr,noWheelClassName:mr,noPanClassName:Wt,elevateEdgesOnSelect:gr,disableKeyboardA11y:Mn,nodeOrigin:Ln,nodeExtent:xr,rfId:yr})=>{const ps=Oh(e,bk),ze=Oh(t,Tk);return Xk(o),M.createElement(Nk,{onPaneClick:le,onPaneMouseEnter:ie,onPaneMouseMove:se,onPaneMouseLeave:$e,onPaneContextMenu:Xe,onPaneScroll:ke,deleteKeyCode:z,selectionKeyCode:E,selectionOnDrag:j,selectionMode:T,onSelectionStart:g,onSelectionEnd:N,multiSelectionKeyCode:_,panActivationKeyCode:$,zoomActivationKeyCode:L,elementsSelectable:U,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:O,zoomOnPinch:D,zoomOnDoubleClick:J,panOnScroll:X,panOnScrollSpeed:W,panOnScrollMode:V,panOnDrag:ee,defaultViewport:R,translateExtent:A,minZoom:F,maxZoom:C,onSelectionContextMenu:y,preventScrolling:k,noDragClassName:pr,noWheelClassName:mr,noPanClassName:Wt,disableKeyboardA11y:Mn},M.createElement(Wk,null,M.createElement(Hk,{edgeTypes:ze,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:H,onEdgeContextMenu:Fe,onEdgeMouseEnter:Ne,onEdgeMouseMove:it,onEdgeMouseLeave:ce,onReconnect:G,onReconnectStart:Ke,onReconnectEnd:Vt,reconnectRadius:hs,defaultMarkerColor:P,noPanClassName:Wt,elevateEdgesOnSelect:!!gr,disableKeyboardA11y:Mn,rfId:yr},M.createElement(qk,{style:m,type:p,component:w,containerStyle:v})),M.createElement("div",{className:"react-flow__edgelabel-renderer"}),M.createElement(kk,{nodeTypes:ps,onNodeClick:i,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:x,selectNodesOnDrag:S,onlyRenderVisibleElements:H,noPanClassName:Wt,noDragClassName:pr,disableKeyboardA11y:Mn,nodeOrigin:Ln,nodeExtent:xr,rfId:yr})))};ox.displayName="GraphView";var Gk=b.memo(ox);const Vc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],un={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Vc,nodeExtent:Vc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ur.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:EE,isValidConnection:void 0},Qk=()=>zS((e,t)=>({...un,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:o}=t();e({nodeInternals:Sa(n,r,s,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",o=typeof r<"u",i=s?Sa(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:o?r:[],hasDefaultNodes:s,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:o,fitViewOnInitDone:i,fitViewOnInitOptions:a,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),x=n.reduce((g,N)=>{const p=s.get(N.id);if(p!=null&&p.hidden)s.set(p.id,{...p,[we]:{...p[we],handleBounds:void 0}});else if(p){const m=Zu(N.nodeElement);!!(m.width&&m.height&&(p.width!==m.width||p.height!==m.height||N.forceUpdate))&&(s.set(p.id,{...p,[we]:{...p[we],handleBounds:{source:_h(".source",N.nodeElement,h,u),target:_h(".target",N.nodeElement,h,u)}},...m}),g.push({id:p.id,type:"dimensions",dimensions:m}))}return g},[]);W0(s,u);const y=i||o&&!i&&X0(t,{initial:!0,...a});e({nodeInternals:new Map(s),fitViewOnInitDone:y}),(x==null?void 0:x.length)>0&&(r==null||r(x))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:o}=t(),i=n.map(a=>{const c={id:a.id,type:"position",dragging:s};return r&&(c.positionAbsolute=a.positionAbsolute,c.position=a.position),c});o(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:o,nodeOrigin:i,getNodes:a,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(o){const u=Y0(n,a()),d=Sa(u,s,i,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=t();let i,a=null;r?i=n.map(c=>pn(c,!0)):(i=Dr(o(),n),a=Dr(s,[])),ii({changedNodes:i,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=t();let i,a=null;r?i=n.map(c=>pn(c,!0)):(i=Dr(s,n),a=Dr(o(),[])),ii({changedNodes:a,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:o}=t(),i=n||o(),a=r||s,c=i.map(d=>(d.selected=!1,pn(d.id,!1))),u=a.map(d=>pn(d.id,!1));ii({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=t();r==null||r.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=t();r==null||r.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>pn(a.id,!1)),i=n.filter(a=>a.selected).map(a=>pn(a.id,!1));ii({changedNodes:o,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(s=>{s.positionAbsolute=ed(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:o,d3Zoom:i,d3Selection:a,translateExtent:c}=t();if(!i||!a||!n.x&&!n.y)return!1;const u=en.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[s,o]],f=i==null?void 0:i.constrain()(u,d,c);return i.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:un.connectionNodeId,connectionHandleId:un.connectionHandleId,connectionHandleType:un.connectionHandleType,connectionStatus:un.connectionStatus,connectionStartHandle:un.connectionStartHandle,connectionEndHandle:un.connectionEndHandle}),reset:()=>e({...un})}),Object.is),ix=({children:e})=>{const t=b.useRef(null);return t.current||(t.current=Qk()),M.createElement(yE,{value:t.current},e)};ix.displayName="ReactFlowProvider";const lx=({children:e})=>b.useContext(Il)?M.createElement(M.Fragment,null,e):M.createElement(ix,null,e);lx.displayName="ReactFlowWrapper";const Jk={input:L0,default:Bc,output:z0,group:id},Zk={default:il,straight:rd,step:nd,smoothstep:Ol,simplebezier:td},eC=[0,0],tC=[15,15],nC={x:0,y:0,zoom:1},rC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ax=b.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o=Jk,edgeTypes:i=Zk,onNodeClick:a,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:x,onConnectStart:y,onConnectEnd:g,onClickConnectStart:N,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:w,onNodeMouseLeave:v,onNodeContextMenu:E,onNodeDoubleClick:j,onNodeDragStart:T,onNodeDrag:_,onNodeDragStop:$,onNodesDelete:L,onEdgesDelete:z,onSelectionChange:H,onSelectionDragStart:U,onSelectionDrag:S,onSelectionDragStop:R,onSelectionContextMenu:A,onSelectionStart:F,onSelectionEnd:C,connectionMode:k=ur.Strict,connectionLineType:P=xn.Bezier,connectionLineStyle:O,connectionLineComponent:D,connectionLineContainerStyle:X,deleteKeyCode:W="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:J=!1,selectionMode:ee=vo.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ie=ol()?"Meta":"Control",zoomActivationKeyCode:se=ol()?"Meta":"Control",snapToGrid:$e=!1,snapGrid:ke=tC,onlyRenderVisibleElements:Xe=!1,selectNodesOnDrag:Fe=!0,nodesDraggable:Ne,nodesConnectable:it,nodesFocusable:ce,nodeOrigin:G=eC,edgesFocusable:Ke,edgesUpdatable:Vt,elementsSelectable:hs,defaultViewport:pr=nC,minZoom:mr=.5,maxZoom:Wt=2,translateExtent:gr=Vc,preventScrolling:Mn=!0,nodeExtent:Ln,defaultMarkerColor:xr="#b1b1b7",zoomOnScroll:yr=!0,zoomOnPinch:ps=!0,panOnScroll:ze=!1,panOnScrollSpeed:St=.5,panOnScrollMode:Fn=Qn.Free,zoomOnDoubleClick:zn=!0,panOnDrag:Un=!0,onPaneClick:Xt,onPaneMouseEnter:Ot,onPaneMouseMove:ms,onPaneMouseLeave:Ml,onPaneScroll:gs,onPaneContextMenu:Ll,children:cd,onEdgeContextMenu:Bn,onEdgeDoubleClick:px,onEdgeMouseEnter:mx,onEdgeMouseMove:gx,onEdgeMouseLeave:xx,onEdgeUpdate:yx,onEdgeUpdateStart:vx,onEdgeUpdateEnd:wx,onReconnect:Nx,onReconnectStart:Sx,onReconnectEnd:bx,reconnectRadius:jx=10,edgeUpdaterRadius:Ex=10,onNodesChange:kx,onEdgesChange:Cx,noDragClassName:_x="nodrag",noWheelClassName:Ax="nowheel",noPanClassName:ud="nopan",fitView:Tx=!1,fitViewOptions:Px,connectOnClick:Rx=!0,attributionPosition:$x,proOptions:Ix,defaultEdgeOptions:Ox,elevateNodesOnSelect:Dx=!0,elevateEdgesOnSelect:Mx=!1,disableKeyboardA11y:dd=!1,autoPanOnConnect:Lx=!0,autoPanOnNodeDrag:Fx=!0,connectionRadius:zx=20,isValidConnection:Ux,onError:Bx,style:Hx,id:fd,nodeDragThreshold:Vx,...Wx},Xx)=>{const Fl=fd||"1";return M.createElement("div",{...Wx,style:{...Hx,...rC},ref:Xx,className:Le(["react-flow",s]),"data-testid":"rf__wrapper",id:fd},M.createElement(lx,null,M.createElement(Gk,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:m,onNodeMouseMove:w,onNodeMouseLeave:v,onNodeContextMenu:E,onNodeDoubleClick:j,nodeTypes:o,edgeTypes:i,connectionLineType:P,connectionLineStyle:O,connectionLineComponent:D,connectionLineContainerStyle:X,selectionKeyCode:V,selectionOnDrag:J,selectionMode:ee,deleteKeyCode:W,multiSelectionKeyCode:ie,panActivationKeyCode:le,zoomActivationKeyCode:se,onlyRenderVisibleElements:Xe,selectNodesOnDrag:Fe,defaultViewport:pr,translateExtent:gr,minZoom:mr,maxZoom:Wt,preventScrolling:Mn,zoomOnScroll:yr,zoomOnPinch:ps,zoomOnDoubleClick:zn,panOnScroll:ze,panOnScrollSpeed:St,panOnScrollMode:Fn,panOnDrag:Un,onPaneClick:Xt,onPaneMouseEnter:Ot,onPaneMouseMove:ms,onPaneMouseLeave:Ml,onPaneScroll:gs,onPaneContextMenu:Ll,onSelectionContextMenu:A,onSelectionStart:F,onSelectionEnd:C,onEdgeContextMenu:Bn,onEdgeDoubleClick:px,onEdgeMouseEnter:mx,onEdgeMouseMove:gx,onEdgeMouseLeave:xx,onReconnect:Nx??yx,onReconnectStart:Sx??vx,onReconnectEnd:bx??wx,reconnectRadius:jx??Ex,defaultMarkerColor:xr,noDragClassName:_x,noWheelClassName:Ax,noPanClassName:ud,elevateEdgesOnSelect:Mx,rfId:Fl,disableKeyboardA11y:dd,nodeOrigin:G,nodeExtent:Ln}),M.createElement(KE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:y,onConnectEnd:g,onClickConnectStart:N,onClickConnectEnd:p,nodesDraggable:Ne,nodesConnectable:it,nodesFocusable:ce,edgesFocusable:Ke,edgesUpdatable:Vt,elementsSelectable:hs,elevateNodesOnSelect:Dx,minZoom:mr,maxZoom:Wt,nodeExtent:Ln,onNodesChange:kx,onEdgesChange:Cx,snapToGrid:$e,snapGrid:ke,connectionMode:k,translateExtent:gr,connectOnClick:Rx,defaultEdgeOptions:Ox,fitView:Tx,fitViewOptions:Px,onNodesDelete:L,onEdgesDelete:z,onNodeDragStart:T,onNodeDrag:_,onNodeDragStop:$,onSelectionDrag:S,onSelectionDragStart:U,onSelectionDragStop:R,noPanClassName:ud,nodeOrigin:G,rfId:Fl,autoPanOnConnect:Lx,autoPanOnNodeDrag:Fx,onError:Bx,connectionRadius:zx,isValidConnection:Ux,nodeDragThreshold:Vx}),M.createElement(WE,{onSelectionChange:H}),cd,M.createElement(wE,{proOptions:Ix,position:$x}),M.createElement(JE,{rfId:Fl,disableKeyboardA11y:dd})))});ax.displayName="ReactFlow";function cx(e){return t=>{const[n,r]=b.useState(t),s=b.useCallback(o=>r(i=>e(o,i)),[]);return[n,r,s]}}const sC=cx(Y0),oC=cx(fk),ux=({id:e,x:t,y:n,width:r,height:s,style:o,color:i,strokeColor:a,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,onClick:h,selected:x})=>{const{background:y,backgroundColor:g}=o||{},N=i||y||g;return M.createElement("rect",{className:Le(["react-flow__minimap-node",{selected:x},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,fill:N,stroke:a,strokeWidth:c,shapeRendering:f,onClick:h?p=>h(p,e):void 0})};ux.displayName="MiniMapNode";var iC=b.memo(ux);const lC=e=>e.nodeOrigin,aC=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),ka=e=>e instanceof Function?e:()=>e;function cC({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:o=iC,onClick:i}){const a=de(aC,Re),c=de(lC),u=ka(t),d=ka(e),f=ka(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return M.createElement(M.Fragment,null,a.map(x=>{const{x:y,y:g}=nr(x,c).positionAbsolute;return M.createElement(o,{key:x.id,x:y,y:g,width:x.width,height:x.height,style:x.style,selected:x.selected,className:f(x),color:u(x),borderRadius:r,strokeColor:d(x),strokeWidth:s,shapeRendering:h,onClick:i,id:x.id})}))}var uC=b.memo(cC);const dC=200,fC=150,hC=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?bE(Dl(t,e.nodeOrigin),n):n,rfId:e.rfId}},pC="react-flow__minimap-desc";function dx({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:o=5,nodeStrokeWidth:i=2,nodeComponent:a,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:d=1,position:f="bottom-right",onClick:h,onNodeClick:x,pannable:y=!1,zoomable:g=!1,ariaLabel:N="React Flow mini map",inversePan:p=!1,zoomStep:m=10,offsetScale:w=5}){const v=Ae(),E=b.useRef(null),{boundingRect:j,viewBB:T,rfId:_}=de(hC,Re),$=(e==null?void 0:e.width)??dC,L=(e==null?void 0:e.height)??fC,z=j.width/$,H=j.height/L,U=Math.max(z,H),S=U*$,R=U*L,A=w*U,F=j.x-(S-j.width)/2-A,C=j.y-(R-j.height)/2-A,k=S+A*2,P=R+A*2,O=`${pC}-${_}`,D=b.useRef(0);D.current=U,b.useEffect(()=>{if(E.current){const V=gt(E.current),J=ie=>{const{transform:se,d3Selection:$e,d3Zoom:ke}=v.getState();if(ie.sourceEvent.type!=="wheel"||!$e||!ke)return;const Xe=-ie.sourceEvent.deltaY*(ie.sourceEvent.deltaMode===1?.05:ie.sourceEvent.deltaMode?1:.002)*m,Fe=se[2]*Math.pow(2,Xe);ke.scaleTo($e,Fe)},ee=ie=>{const{transform:se,d3Selection:$e,d3Zoom:ke,translateExtent:Xe,width:Fe,height:Ne}=v.getState();if(ie.sourceEvent.type!=="mousemove"||!$e||!ke)return;const it=D.current*Math.max(1,se[2])*(p?-1:1),ce={x:se[0]-ie.sourceEvent.movementX*it,y:se[1]-ie.sourceEvent.movementY*it},G=[[0,0],[Fe,Ne]],Ke=en.translate(ce.x,ce.y).scale(se[2]),Vt=ke.constrain()(Ke,G,Xe);ke.transform($e,Vt)},le=m0().on("zoom",y?ee:null).on("zoom.wheel",g?J:null);return V.call(le),()=>{V.on("zoom",null)}}},[y,g,p,m]);const X=h?V=>{const J=kt(V);h(V,{x:J[0],y:J[1]})}:void 0,W=x?(V,J)=>{const ee=v.getState().nodeInternals.get(J);x(V,ee)}:void 0;return M.createElement(Ju,{position:f,style:e,className:Le(["react-flow__minimap",t]),"data-testid":"rf__minimap"},M.createElement("svg",{width:$,height:L,viewBox:`${F} ${C} ${k} ${P}`,role:"img","aria-labelledby":O,ref:E,onClick:X},N&&M.createElement("title",{id:O},N),M.createElement(uC,{onClick:W,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:s,nodeStrokeWidth:i,nodeComponent:a}),M.createElement("path",{className:"react-flow__minimap-mask",d:`M${F-A},${C-A}h${k+A*2}v${P+A*2}h${-k-A*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:d,pointerEvents:"none"})))}dx.displayName="MiniMap";var mC=b.memo(dx);function gC(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},M.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function xC(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},M.createElement("path",{d:"M0 0h32v4.2H0z"}))}function yC(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},M.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function vC(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},M.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function wC(){return M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},M.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ms=({children:e,className:t,...n})=>M.createElement("button",{type:"button",className:Le(["react-flow__controls-button",t]),...n},e);Ms.displayName="ControlButton";const NC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),fx=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:i,onFitView:a,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=Ae(),[x,y]=b.useState(!1),{isInteractive:g,minZoomReached:N,maxZoomReached:p}=de(NC,Re),{zoomIn:m,zoomOut:w,fitView:v}=ld();if(b.useEffect(()=>{y(!0)},[]),!x)return null;const E=()=>{m(),o==null||o()},j=()=>{w(),i==null||i()},T=()=>{v(s),a==null||a()},_=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)};return M.createElement(Ju,{className:Le(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&M.createElement(M.Fragment,null,M.createElement(Ms,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:p},M.createElement(gC,null)),M.createElement(Ms,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N},M.createElement(xC,null))),n&&M.createElement(Ms,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},M.createElement(yC,null)),r&&M.createElement(Ms,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},g?M.createElement(wC,null):M.createElement(vC,null)),d)};fx.displayName="Controls";var SC=b.memo(fx),Pt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Pt||(Pt={}));function bC({color:e,dimensions:t,lineWidth:n}){return M.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function jC({color:e,radius:t}){return M.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const EC={[Pt.Dots]:"#91919a",[Pt.Lines]:"#eee",[Pt.Cross]:"#e2e2e2"},kC={[Pt.Dots]:1,[Pt.Lines]:1,[Pt.Cross]:6},CC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function hx({id:e,variant:t=Pt.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=2,color:i,style:a,className:c}){const u=b.useRef(null),{transform:d,patternId:f}=de(CC,Re),h=i||EC[t],x=r||kC[t],y=t===Pt.Dots,g=t===Pt.Cross,N=Array.isArray(n)?n:[n,n],p=[N[0]*d[2]||1,N[1]*d[2]||1],m=x*d[2],w=g?[m,m]:p,v=y?[m/o,m/o]:[w[0]/o,w[1]/o];return M.createElement("svg",{className:Le(["react-flow__background",c]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},M.createElement("pattern",{id:f+e,x:d[0]%p[0],y:d[1]%p[1],width:p[0],height:p[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${v[0]},-${v[1]})`},y?M.createElement(jC,{color:h,radius:m/o}):M.createElement(bC,{dimensions:w,color:h,lineWidth:s})),M.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}hx.displayName="Background";var _C=b.memo(hx);function AC({data:e,selected:t}){const n=s=>{switch(s){case"AGENT_EXECUTION":return"bg-blue-500";case"CONDITION":return"bg-yellow-500";case"APPROVAL":return"bg-purple-500";case"PARALLEL":return"bg-green-500";default:return"bg-gray-500"}},r=s=>{switch(s){case"AGENT_EXECUTION":return"";case"CONDITION":return"";case"APPROVAL":return"";case"PARALLEL":return"";default:return""}};return l.jsxs("div",{className:`px-4 py-3 shadow-lg rounded-lg border-2 bg-white min-w-[200px] ${t?"border-primary-500":"border-gray-300"}`,children:[l.jsx(os,{type:"target",position:q.Top,className:"w-3 h-3"}),l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:`text-2xl ${n(e.stepType)} w-10 h-10 rounded-full flex items-center justify-center`,children:r(e.stepType)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:e.name||"Untitled Step"}),l.jsx("div",{className:"text-xs text-gray-500",children:e.stepType})]})]}),e.agent&&l.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[l.jsx("span",{className:"font-medium",children:"Agent:"})," ",e.agent.name]}),e.conditionExpression&&l.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[l.jsx("span",{className:"font-medium",children:"Condition:"})," ",e.conditionExpression]}),e.outputVariable&&l.jsxs("div",{className:"text-xs text-gray-500",children:[l.jsx("span",{className:"font-medium",children:"Output:"})," $",e.outputVariable]}),l.jsx(os,{type:"source",position:q.Bottom,className:"w-3 h-3"})]})}function TC({step:e,agents:t,onUpdate:n,onClose:r,onDelete:s}){const[o,i]=b.useState({name:"",stepType:"AGENT_EXECUTION",agentId:null,inputMappingJson:{},outputVariable:"",conditionExpression:"",timeoutSeconds:300,retryConfigJson:null,...e}),[a,c]=b.useState(""),[u,d]=b.useState("");b.useEffect(()=>{e&&(i({...o,...e}),c(JSON.stringify(e.inputMappingJson||{},null,2)),d(e.retryConfigJson?JSON.stringify(e.retryConfigJson,null,2):""))},[e]);const f=()=>{try{const h={...o,inputMappingJson:a?JSON.parse(a):{},retryConfigJson:u?JSON.parse(u):null};n(h)}catch(h){alert("Invalid JSON in input mapping or retry config: "+h.message)}};return e?l.jsxs("div",{className:"w-96 bg-white border-l border-gray-300 p-4 overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Configure Step"}),l.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Step Name *"}),l.jsx("input",{type:"text",value:o.name,onChange:h=>i({...o,name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., Classify Customer Inquiry"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Step Type"}),l.jsxs("select",{value:o.stepType,onChange:h=>i({...o,stepType:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"AGENT_EXECUTION",children:"Agent Execution"}),l.jsx("option",{value:"CONDITION",children:"Condition"}),l.jsx("option",{value:"APPROVAL",children:"Approval"}),l.jsx("option",{value:"PARALLEL",children:"Parallel"})]})]}),o.stepType==="AGENT_EXECUTION"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agent *"}),l.jsxs("select",{value:o.agentId||"",onChange:h=>i({...o,agentId:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"",children:"Select an agent..."}),t.map(h=>l.jsx("option",{value:h.id,children:h.name},h.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Mapping (JSON)"}),l.jsx("textarea",{value:a,onChange:h=>c(h.target.value),rows:"6",className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm",placeholder:`{
  "message": "\${trigger.message}",
  "context": "\${step1.result}"
}`}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use ${variableName} to reference context variables"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Output Variable"}),l.jsx("input",{type:"text",value:o.outputVariable,onChange:h=>i({...o,outputVariable:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., step1"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Store result as ${outputVariable} for later steps"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition Expression (optional)"}),l.jsx("input",{type:"text",value:o.conditionExpression,onChange:h=>i({...o,conditionExpression:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., ${step1.status}==success"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Skip step if condition evaluates to false"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeout (seconds)"}),l.jsx("input",{type:"number",value:o.timeoutSeconds,onChange:h=>i({...o,timeoutSeconds:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",min:"10",max:"3600"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Retry Config (JSON, optional)"}),l.jsx("textarea",{value:u,onChange:h=>d(h.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm",placeholder:`{
  "maxRetries": 3,
  "initialDelayMs": 1000,
  "multiplier": 2.0
}`})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsx("button",{onClick:f,className:"flex-1 btn-primary",children:"Save Changes"}),l.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100",children:"Delete"})]})]})]}):l.jsx("div",{className:"w-96 bg-gray-100 border-l border-gray-300 p-4 overflow-y-auto",children:l.jsx("div",{className:"text-center text-gray-500 py-20",children:"Select a step to configure"})})}const PC={workflowStep:AC};function Dh(){const{id:e}=Bu(),t=us(),n=!!e,[r,s]=b.useState({name:"",description:"",triggerType:"MANUAL",executionMode:"SEQUENTIAL",isActive:!1,triggerConfigJson:{}}),[o,i,a]=sC([]),[c,u,d]=oC([]),[f,h]=b.useState(null),[x,y]=b.useState([]),[g,N]=b.useState([]),[p,m]=b.useState(n),[w,v]=b.useState(!1),[E,j]=b.useState(null),[T,_]=b.useState("visual");b.useEffect(()=>{$(),n&&L()},[e]),b.useEffect(()=>{x.length>0&&z(x)},[x]);const $=async()=>{try{const C=await Q.getAgents();N(C.data)}catch(C){console.error("Error loading agents:",C),j("Failed to load agents")}},L=async()=>{try{m(!0);const[C,k]=await Promise.all([Q.getWorkflow(e),Q.getWorkflowSteps(e)]);s(C.data),y(k.data)}catch(C){console.error("Error loading workflow:",C),j("Failed to load workflow")}finally{m(!1)}},z=C=>{const P=[...C].sort((D,X)=>D.stepOrder-X.stepOrder).map((D,X)=>{const W=g.find(V=>V.id===D.agentId);return{id:`step-${D.id}`,type:"workflowStep",position:{x:250,y:X*150+50},data:{...D,agent:W,onEdit:()=>H(`step-${D.id}`)}}}),O=[];for(let D=0;D<P.length-1;D++)O.push({id:`edge-${D}`,source:P[D].id,target:P[D+1].id,animated:!0,markerEnd:{type:ss.ArrowClosed}});i(P),u(O)},H=b.useCallback(C=>{const k=o.find(P=>P.id===C);k&&h(k)},[o]),U=async C=>{var k,P;try{const O=f.data.id;await Q.updateWorkflowStep(e,O,C);const D=await Q.getWorkflowSteps(e);y(D.data),h(null)}catch(O){console.error("Error updating step:",O),alert("Failed to update step: "+(((P=(k=O.response)==null?void 0:k.data)==null?void 0:P.message)||O.message))}},S=async()=>{if(window.confirm(`Delete step "${f.data.name}"?`))try{const C=f.data.id;await Q.deleteWorkflowStep(e,C);const k=await Q.getWorkflowSteps(e);y(k.data),h(null)}catch(C){console.error("Error deleting step:",C),alert("Failed to delete step")}},R=async()=>{var C,k;try{if(v(!0),j(null),!r.name.trim()){j("Workflow name is required");return}if(n)await Q.updateWorkflow(e,r);else{const P=await Q.createWorkflow(r);t(`/workflows/${P.data.id}`);return}alert("Workflow saved successfully")}catch(P){console.error("Error saving workflow:",P),j(((k=(C=P.response)==null?void 0:C.data)==null?void 0:k.message)||"Failed to save workflow")}finally{v(!1)}},A=async()=>{const C={stepOrder:x.length+1,stepType:"AGENT_EXECUTION",name:"New Step",agentId:g.length>0?g[0].id:null,inputMappingJson:{},outputVariable:`step${x.length+1}`,conditionExpression:"",timeoutSeconds:300};try{await Q.createWorkflowStep(e,C);const k=await Q.getWorkflowSteps(e);y(k.data)}catch(k){console.error("Error adding step:",k),alert("Failed to add step")}},F=b.useCallback(C=>u(k=>C0({...C,animated:!0,markerEnd:{type:ss.ArrowClosed}},k)),[u]);return p?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading workflow..."})}):l.jsxs("div",{className:"h-screen flex flex-col",children:[l.jsxs("div",{className:"bg-white border-b px-6 py-4 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?r.name:"Create Workflow"}),l.jsx("p",{className:"text-sm text-gray-600",children:n?"Edit workflow configuration and steps":"Create a new multi-agent workflow"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t("/workflows"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:R,disabled:w,className:"btn-primary disabled:opacity-50",children:w?"Saving...":"Save Workflow"})]})]}),E&&l.jsx("div",{className:"mx-6 mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:E}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"w-80 bg-white border-r overflow-y-auto p-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Workflow Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Workflow Name *"}),l.jsx("input",{type:"text",value:r.name,onChange:C=>s({...r,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"e.g., Customer Query Classification"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{value:r.description,onChange:C=>s({...r,description:C.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Describe what this workflow does..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trigger Type"}),l.jsxs("select",{value:r.triggerType,onChange:C=>s({...r,triggerType:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:"MANUAL",children:"Manual"}),l.jsx("option",{value:"SCHEDULED",children:"Scheduled"}),l.jsx("option",{value:"WEBHOOK",children:"Webhook"}),l.jsx("option",{value:"EVENT",children:"Event"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Execution Mode"}),l.jsxs("select",{value:r.executionMode,onChange:C=>s({...r,executionMode:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:"SEQUENTIAL",children:"Sequential"}),l.jsx("option",{value:"PARALLEL",children:"Parallel"}),l.jsx("option",{value:"CONDITIONAL",children:"Conditional"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:C=>s({...r,isActive:C.target.checked}),className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),n&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"pt-4 border-t",children:l.jsx("button",{onClick:A,className:"w-full btn-primary text-sm",children:"+ Add Step"})}),l.jsxs("div",{className:"text-xs text-gray-500 mt-4",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Steps:"})," ",x.length]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Status:"})," ",r.isActive?"Active":"Inactive"]})]})]})]})]}),l.jsx("div",{className:"flex-1 bg-gray-50",children:n&&x.length>0?l.jsxs(ax,{nodes:o,edges:c,onNodesChange:a,onEdgesChange:d,onConnect:F,onNodeClick:(C,k)=>H(k.id),nodeTypes:PC,fitView:!0,minZoom:.5,maxZoom:1.5,children:[l.jsx(_C,{variant:"dots",gap:12,size:1}),l.jsx(SC,{}),l.jsx(mC,{})]}):n?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No steps yet"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first step to start building your workflow"}),l.jsx("button",{onClick:A,className:"btn-primary",children:"+ Add First Step"})]})}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Save workflow first"}),l.jsx("p",{className:"text-gray-600",children:'Complete the workflow settings on the left and click "Save Workflow" to start adding steps'})]})})}),f&&l.jsx(TC,{step:f.data,agents:g,onUpdate:U,onClose:()=>h(null),onDelete:S})]})]})}function Mh(){const{workflowId:e}=Bu(),t=us(),[n,r]=b.useState([]),[s,o]=b.useState([]),[i,a]=b.useState(null),[c,u]=b.useState(!0),[d,f]=b.useState(null),[h,x]=b.useState({status:"all",workflowId:e||"all"});b.useEffect(()=>{y(),g()},[h]);const y=async()=>{try{const v=await Q.getWorkflows();o(v.data)}catch(v){console.error("Error loading workflows:",v)}},g=async()=>{try{u(!0),f(null);let E=(h.workflowId!=="all"?await Q.getWorkflowExecutions(h.workflowId):await Q.getAllExecutions()).data||[];h.status!=="all"&&(E=E.filter(j=>j.status===h.status)),r(E)}catch(v){console.error("Error loading executions:",v),f("Failed to load executions")}finally{u(!1)}},N=v=>{switch(v){case"COMPLETED":return"bg-green-100 text-green-800";case"RUNNING":return"bg-blue-100 text-blue-800";case"FAILED":return"bg-red-100 text-red-800";case"PAUSED":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},p=v=>{switch(v){case"COMPLETED":return"";case"RUNNING":return"";case"FAILED":return"";case"PAUSED":return"";default:return""}},m=(v,E)=>{if(!E)return"Running...";const j=new Date(v),_=new Date(E)-j,$=Math.floor(_/1e3);if($<60)return`${$}s`;const L=Math.floor($/60),z=$%60;return`${L}m ${z}s`},w=v=>{a(v)};return c?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading executions..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflow Executions"}),l.jsx("p",{className:"text-gray-600",children:"Monitor and track workflow execution history"})]}),l.jsx("button",{onClick:()=>t("/workflows"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Workflows"})]}),d&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Workflow"}),l.jsxs("select",{value:h.workflowId,onChange:v=>x({...h,workflowId:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Workflows"}),s.map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l.jsxs("select",{value:h.status,onChange:v=>x({...h,status:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"RUNNING",children:"Running"}),l.jsx("option",{value:"COMPLETED",children:"Completed"}),l.jsx("option",{value:"FAILED",children:"Failed"}),l.jsx("option",{value:"PAUSED",children:"Paused"})]})]})]})}),n.length===0?l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No executions found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"No workflow executions match your filters"})]}):l.jsx("div",{className:"space-y-4",children:n.map(v=>l.jsx("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>w(v),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${N(v.status)}`,children:[p(v.status)," ",v.status]}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.workflowName||`Workflow #${v.workflowId}`})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Started:"})," ",new Date(v.startedAt).toLocaleString()]}),v.completedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Duration:"})," ",m(v.startedAt,v.completedAt)]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Execution ID:"})," ",v.id]})]}),v.errorMessage&&l.jsxs("div",{className:"mt-2 text-sm text-red-600",children:[l.jsx("span",{className:"font-medium",children:"Error:"})," ",v.errorMessage]})]}),l.jsx("button",{onClick:E=>{E.stopPropagation(),w(v)},className:"px-4 py-2 bg-primary-50 text-primary-700 rounded-lg hover:bg-primary-100",children:"View Details"})]})},v.id))}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Execution Details"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${N(i.status)}`,children:[p(i.status)," ",i.status]}),l.jsxs("span",{className:"text-gray-600",children:["ID: ",i.id]})]})]}),l.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"card bg-gray-50",children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Execution Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Workflow:"})," ",i.workflowName]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Status:"})," ",i.status]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Started:"})," ",new Date(i.startedAt).toLocaleString()]}),i.completedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Completed:"})," ",new Date(i.completedAt).toLocaleString()]}),i.completedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Duration:"})," ",m(i.startedAt,i.completedAt)]})]})]}),i.triggerDataJson&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Trigger Data"}),l.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:JSON.stringify(i.triggerDataJson,null,2)})]}),i.contextDataJson&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3",children:"Final Context"}),l.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:JSON.stringify(i.contextDataJson,null,2)})]}),i.errorMessage&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-3 text-red-700",children:"Error Details"}),l.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg text-sm text-red-800",children:i.errorMessage})]})]}),l.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t",children:l.jsx("button",{onClick:()=>a(null),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})})]})}function RC(){const e=us(),[t,n]=b.useState([]),[r,s]=b.useState(!0),[o,i]=b.useState(null),[a,c]=b.useState("all"),[u,d]=b.useState(null),[f,h]=b.useState(""),[x,y]=b.useState(null);b.useEffect(()=>{g()},[a]);const g=async()=>{try{s(!0),i(null);const j=a==="active"?!0:void 0,T=await Q.getAgents(j);n(T.data)}catch(j){console.error("Error loading agents:",j),i("Failed to load agents")}finally{s(!1)}},N=async j=>{try{await Q.activateAgent(j),g()}catch(T){console.error("Error activating agent:",T),i("Failed to activate agent")}},p=async j=>{try{await Q.deactivateAgent(j),g()}catch(T){console.error("Error deactivating agent:",T),i("Failed to deactivate agent")}},m=async(j,T)=>{if(window.confirm(`Are you sure you want to delete agent "${T}"?`))try{await Q.deleteAgent(j),g()}catch(_){console.error("Error deleting agent:",_),i("Failed to delete agent")}},w=j=>{d(j),h(""),y(null)},v=async()=>{var j,T;if(!f.trim()){alert("Please enter test input");return}try{const _={message:f},$=await Q.executeAgent(u.id,_);y($.data)}catch(_){console.error("Error testing agent:",_),y({error:((T=(j=_.response)==null?void 0:j.data)==null?void 0:T.message)||_.message})}},E=t.filter(j=>a==="active"?j.isActive:a==="inactive"?!j.isActive:!0);return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading agents..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agent Management"}),l.jsx("p",{className:"text-gray-600",children:"Create and manage AI agents with custom system prompts and tools"})]}),l.jsx("button",{onClick:()=>e("/agents/new"),className:"btn-primary",children:"+ Create Agent"})]}),o&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>c("all"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="all"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["All Agents (",t.length,")"]}),l.jsxs("button",{onClick:()=>c("active"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="active"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Active (",t.filter(j=>j.isActive).length,")"]}),l.jsxs("button",{onClick:()=>c("inactive"),className:`py-4 px-1 border-b-2 font-medium text-sm ${a==="inactive"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Inactive (",t.filter(j=>!j.isActive).length,")"]})]})}),E.length===0?l.jsxs("div",{className:"card text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-5xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No agents found"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first AI agent"}),l.jsx("button",{onClick:()=>e("/agents/new"),className:"btn-primary",children:"Create Agent"})]}):l.jsx("div",{className:"grid gap-6",children:E.map(j=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:j.name}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.isActive?"Active":"Inactive"}),l.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:[j.modelProvider,"/",j.modelName]})]}),j.description&&l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:j.description}),j.systemPrompt&&l.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[l.jsx("span",{className:"font-medium",children:"System Prompt:"})," ",j.systemPrompt.substring(0,150),j.systemPrompt.length>150?"...":""]})]})}),l.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Temperature:"})," ",j.temperature]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Max Tokens:"})," ",j.maxTokens]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Tools:"})," ",j.toolCount||0]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Created:"})," ",new Date(j.createdAt).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsx("button",{onClick:()=>e(`/agents/${j.id}`),className:"px-3 py-2 text-sm bg-primary-50 text-primary-700 rounded hover:bg-primary-100",children:"Edit"}),l.jsx("button",{onClick:()=>w(j),className:"px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100",children:"Test"}),j.isActive?l.jsx("button",{onClick:()=>p(j.id),className:"px-3 py-2 text-sm bg-yellow-50 text-yellow-700 rounded hover:bg-yellow-100",children:"Deactivate"}):l.jsx("button",{onClick:()=>N(j.id),className:"px-3 py-2 text-sm bg-green-50 text-green-700 rounded hover:bg-green-100",children:"Activate"}),l.jsx("button",{onClick:()=>m(j.id,j.name),className:"px-3 py-2 text-sm bg-red-50 text-red-700 rounded hover:bg-red-100 ml-auto",children:"Delete"})]})]},j.id))}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Test Agent: ",u.name]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Input"}),l.jsx("textarea",{value:f,onChange:j=>h(j.target.value),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Enter a message to test the agent..."})]}),x&&l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Result:"}),x.error?l.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded",children:[l.jsx("strong",{children:"Error:"})," ",x.error]}):l.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"Output:"}),l.jsx("pre",{className:"text-sm mt-2 whitespace-pre-wrap",children:JSON.stringify(x.output,null,2)})]}),x.inputTokens&&l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Tokens:"})," ",x.inputTokens," in / ",x.outputTokens," out"]})]})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[l.jsx("button",{onClick:v,className:"btn-primary",children:"Execute Test"}),l.jsx("button",{onClick:()=>{d(null),y(null)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})]})]})})]})}function Lh(){const{id:e}=Bu(),t=us(),n=!!e,[r,s]=b.useState({name:"",description:"",modelProvider:"ANTHROPIC",modelName:"claude-3-5-sonnet-20241022",systemPrompt:"",temperature:.7,maxTokens:4096,isActive:!0}),[o,i]=b.useState([]),[a,c]=b.useState([]),[u,d]=b.useState(n),[f,h]=b.useState(!1),[x,y]=b.useState(null),g={ANTHROPIC:["claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-haiku-20240307"],OPENAI:["gpt-4-turbo-preview","gpt-4","gpt-3.5-turbo"],GOOGLE:["gemini-pro","gemini-pro-vision"]};b.useEffect(()=>{N(),n&&p()},[e]);const N=async()=>{try{const v=await Q.getTools();i(v.data)}catch(v){console.error("Error loading tools:",v),y("Failed to load tools")}},p=async()=>{try{d(!0);const v=await Q.getAgent(e);if(s(v.data),v.data.agentTools){const E=v.data.agentTools.map(j=>j.tool.id);c(E)}}catch(v){console.error("Error loading agent:",v),y("Failed to load agent")}finally{d(!1)}},m=async()=>{var v,E;try{if(h(!0),y(null),!r.name.trim()){y("Agent name is required");return}if(!r.systemPrompt.trim()){y("System prompt is required");return}const j={...r,toolIds:a};if(n)await Q.updateAgent(e,j),alert("Agent updated successfully");else{const T=await Q.createAgent(j);t(`/agents/${T.data.id}`);return}}catch(j){console.error("Error saving agent:",j),y(((E=(v=j.response)==null?void 0:v.data)==null?void 0:E.message)||"Failed to save agent")}finally{h(!1)}},w=v=>{c(E=>E.includes(v)?E.filter(j=>j!==v):[...E,v])};return u?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading agent..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n?"Edit Agent":"Create Agent"}),l.jsx("p",{className:"text-gray-600",children:n?`Editing: ${r.name}`:"Create a new AI agent with custom capabilities"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t("/agents"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:m,disabled:f,className:"btn-primary disabled:opacity-50",children:f?"Saving...":"Save Agent"})]})]}),x&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:x}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Basic Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agent Name *"}),l.jsx("input",{type:"text",value:r.name,onChange:v=>s({...r,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Customer Support Agent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:r.description,onChange:v=>s({...r,description:v.target.value}),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Describe what this agent does..."})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:v=>s({...r,isActive:v.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Active (agent will be available for use)"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Model Configuration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model Provider"}),l.jsxs("select",{value:r.modelProvider,onChange:v=>s({...r,modelProvider:v.target.value,modelName:g[v.target.value][0]}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[l.jsx("option",{value:"ANTHROPIC",children:"Anthropic (Claude)"}),l.jsx("option",{value:"OPENAI",children:"OpenAI (GPT)"}),l.jsx("option",{value:"GOOGLE",children:"Google (Gemini)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),l.jsx("select",{value:r.modelName,onChange:v=>s({...r,modelName:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:g[r.modelProvider].map(v=>l.jsx("option",{value:v,children:v},v))})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",r.temperature.toFixed(2)]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:r.temperature,onChange:v=>s({...r,temperature:parseFloat(v.target.value)}),className:"w-full"}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[l.jsx("span",{children:"More Focused (0.0)"}),l.jsx("span",{children:"More Creative (1.0)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Tokens"}),l.jsx("input",{type:"number",min:"256",max:"8192",step:"256",value:r.maxTokens,onChange:v=>s({...r,maxTokens:parseInt(v.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum length of AI responses (256-8192 tokens)"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"System Prompt *"}),l.jsxs("div",{children:[l.jsx("textarea",{value:r.systemPrompt,onChange:v=>s({...r,systemPrompt:v.target.value}),rows:"12",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 font-mono text-sm",placeholder:"You are a helpful AI assistant that..."}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"This prompt defines the agent's behavior, personality, and capabilities. Be specific and clear."})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Tool Assignment"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select which tools this agent can use. Tools extend the agent's capabilities beyond conversation."}),o.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No tools available. Create tools first to assign them to agents."}):l.jsx("div",{className:"space-y-3",children:o.map(v=>l.jsxs("div",{className:"flex items-start p-3 border border-gray-200 rounded-lg hover:border-primary-300",children:[l.jsx("input",{type:"checkbox",id:`tool-${v.id}`,checked:a.includes(v.id),onChange:()=>w(v.id),className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsxs("label",{htmlFor:`tool-${v.id}`,className:"ml-3 flex-1 cursor-pointer",children:[l.jsx("div",{className:"font-medium text-gray-900",children:v.name}),v.description&&l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:v.description}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.isActive?"Active":"Inactive"}),l.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:v.handlerClass})]})]})]},v.id))})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>t("/agents"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:m,disabled:f,className:"btn-primary disabled:opacity-50",children:f?"Saving...":"Save Agent"})]})]})}function $C(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,o]=b.useState(null),[i,a]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState("admin@example.com"),[h,x]=b.useState("");b.useEffect(()=>{y();const m=setInterval(y,1e4);return()=>clearInterval(m)},[]);const y=async()=>{try{r(!0);const m=await Q.getPendingApprovals();t(m.data)}catch(m){console.error("Error loading approvals:",m),o("Failed to load approval requests")}finally{r(!1)}},g=async m=>{var w,v,E,j;if(window.confirm(`Approve request for workflow "${(v=(w=m.workflowExecution)==null?void 0:w.workflow)==null?void 0:v.name}"?`))try{u(!0),await Q.approveRequest(m.id,d,h),alert("Approval granted successfully"),x(""),a(null),await y()}catch(T){console.error("Error approving request:",T),alert("Failed to approve request: "+(((j=(E=T.response)==null?void 0:E.data)==null?void 0:j.message)||T.message))}finally{u(!1)}},N=async m=>{var v,E;const w=window.prompt("Please provide a reason for rejection:");if(w)try{u(!0),await Q.rejectRequest(m.id,d,w),alert("Request rejected"),x(""),a(null),await y()}catch(j){console.error("Error rejecting request:",j),alert("Failed to reject request: "+(((E=(v=j.response)==null?void 0:v.data)==null?void 0:E.message)||j.message))}finally{u(!1)}},p=m=>m?new Date(m).toLocaleString():"N/A";return n&&e.length===0?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"text-gray-500",children:"Loading approvals..."})}):l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Approval Queue"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Pending approval requests for workflow executions"})]}),s&&l.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),l.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border p-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name/Email (for audit trail)"}),l.jsx("input",{type:"text",value:d,onChange:m=>f(m.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., john@example.com"})]}),e.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Approvals"}),l.jsx("p",{className:"text-gray-600",children:"All workflow approvals have been processed. New requests will appear here."})]}):l.jsx("div",{className:"space-y-4",children:e.map(m=>{var w,v,E,j,T;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition",children:[l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-medium rounded-full",children:"PENDING"}),m.requiredRole&&l.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:["Role: ",m.requiredRole]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:((v=(w=m.workflowExecution)==null?void 0:w.workflow)==null?void 0:v.name)||"Workflow Approval"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Execution ID:"}),l.jsxs("span",{className:"ml-2 font-mono text-gray-900",children:["#",(E=m.workflowExecution)==null?void 0:E.id]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Step:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:((j=m.workflowStep)==null?void 0:j.name)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Requested:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:p(m.requestedAt)})]}),m.timeoutAt&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Timeout:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:p(m.timeoutAt)})]})]}),((T=m.workflowExecution)==null?void 0:T.triggerDataJson)&&l.jsxs("details",{className:"mb-4",children:[l.jsx("summary",{className:"cursor-pointer text-sm font-medium text-primary-600 hover:text-primary-700",children:"View Workflow Context"}),l.jsx("pre",{className:"mt-2 p-3 bg-gray-50 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(m.workflowExecution.triggerDataJson,null,2)})]}),(i==null?void 0:i.id)===m.id&&l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments (Optional)"}),l.jsx("textarea",{value:h,onChange:_=>x(_.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Add any comments about this approval..."})]})]})}),l.jsx("div",{className:"flex gap-3 mt-4 pt-4 border-t",children:(i==null?void 0:i.id)===m.id?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>g(m),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition",children:c?"Processing...":"Confirm Approval"}),l.jsx("button",{onClick:()=>a(null),disabled:c,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>a(m),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Approve"}),l.jsx("button",{onClick:()=>N(m),disabled:c,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition",children:"Reject"})]})})]},m.id)})})]})}function IC(){return l.jsx(y1,{children:l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(GN,{}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(d1,{children:[l.jsx(Ie,{path:"/",element:l.jsx(QN,{})}),l.jsx(Ie,{path:"/products",element:l.jsx(nS,{})}),l.jsx(Ie,{path:"/chat",element:l.jsx(oS,{})}),l.jsx(Ie,{path:"/fulfillment",element:l.jsx(hS,{})}),l.jsx(Ie,{path:"/agents",element:l.jsx(RC,{})}),l.jsx(Ie,{path:"/agents/new",element:l.jsx(Lh,{})}),l.jsx(Ie,{path:"/agents/:id",element:l.jsx(Lh,{})}),l.jsx(Ie,{path:"/workflows",element:l.jsx(pS,{})}),l.jsx(Ie,{path:"/workflows/new",element:l.jsx(Dh,{})}),l.jsx(Ie,{path:"/workflows/:id",element:l.jsx(Dh,{})}),l.jsx(Ie,{path:"/executions",element:l.jsx(Mh,{})}),l.jsx(Ie,{path:"/executions/:workflowId",element:l.jsx(Mh,{})}),l.jsx(Ie,{path:"/approvals",element:l.jsx($C,{})}),l.jsx(Ie,{path:"/settings",element:l.jsx(iS,{})}),l.jsx(Ie,{path:"/analytics",element:l.jsx(fS,{})}),l.jsx(Ie,{path:"/market-intel",element:l.jsx("div",{className:"text-center py-20 text-gray-500",children:"Market Intelligence - Coming Soon"})})]})})]})})}Ca.createRoot(document.getElementById("root")).render(l.jsx(M.StrictMode,{children:l.jsx(IC,{})}));
